!function(){var e={6415:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},2231:function(e,t,n){var i=n(3283);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},7343:function(e,t,n){var i=n(3459),r=n(8211),a=n(1778),s=i("unscopables"),o=Array.prototype;null==o[s]&&a.f(o,s,{configurable:!0,value:r(null)}),e.exports=function(e){o[s][e]=!0}},9429:function(e,t,n){"use strict";var i=n(7010).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},1370:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},8:function(e,t,n){var i=n(3283);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},2304:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9645:function(e,t,n){"use strict";var i,r=n(2304),a=n(294),s=n(3123),o=n(3283),c=n(8887),l=n(262),u=n(3326),f=n(1203),d=n(1778).f,p=n(4153),v=n(4007),g=n(3459),h=n(2959),y=s.Int8Array,m=y&&y.prototype,k=s.Uint8ClampedArray,_=k&&k.prototype,b=y&&p(y),S=m&&p(m),x=Object.prototype,E=x.isPrototypeOf,w=g("toStringTag"),P=h("TYPED_ARRAY_TAG"),I=r&&!!v&&"Opera"!==l(s.opera),T=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A={BigInt64Array:8,BigUint64Array:8},O=function(e){if(!o(e))return!1;var t=l(e);return c(C,t)||c(A,t)};for(i in C)s[i]||(I=!1);if((!I||"function"!=typeof b||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},I))for(i in C)s[i]&&v(s[i],b);if((!I||!S||S===x)&&(S=b.prototype,I))for(i in C)s[i]&&v(s[i].prototype,S);if(I&&p(_)!==S&&v(_,S),a&&!c(S,w))for(i in T=!0,d(S,w,{get:function(){return o(this)?this[P]:void 0}}),C)s[i]&&u(s[i],P,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:T&&P,aTypedArray:function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(v){if(E.call(b,e))return e}else for(var t in C)if(c(C,i)){var n=s[t];if(n&&(e===n||E.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var i in C){var r=s[i];r&&c(r.prototype,e)&&delete r.prototype[e]}S[e]&&!n||f(S,e,n?t:I&&m[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(a){if(v){if(n)for(i in C)(r=s[i])&&c(r,e)&&delete r[e];if(b[e]&&!n)return;try{return f(b,e,n?t:I&&y[e]||t)}catch(e){}}for(i in C)!(r=s[i])||r[e]&&!n||f(r,e,t)}},isView:function(e){if(!o(e))return!1;var t=l(e);return"DataView"===t||c(C,t)||c(A,t)},isTypedArray:O,TypedArray:b,TypedArrayPrototype:S}},5351:function(e,t,n){"use strict";var i=n(3123),r=n(294),a=n(2304),s=n(3326),o=n(1837),c=n(6006),l=n(1370),u=n(2195),f=n(4807),d=n(5784),p=n(7067),v=n(4153),g=n(4007),h=n(4717).f,y=n(1778).f,m=n(3402),k=n(8456),_=n(6174),b=_.get,S=_.set,x="ArrayBuffer",E="DataView",w="Wrong index",P=i.ArrayBuffer,I=P,T=i.DataView,C=T&&T.prototype,A=Object.prototype,O=i.RangeError,R=p.pack,L=p.unpack,D=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},N=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},V=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},j=function(e){return R(e,23,4)},U=function(e){return R(e,52,8)},q=function(e,t){y(e.prototype,t,{get:function(){return b(this)[t]}})},B=function(e,t,n,i){var r=d(n),a=b(e);if(r+t>a.byteLength)throw O(w);var s=b(a.buffer).bytes,o=r+a.byteOffset,c=s.slice(o,o+t);return i?c:c.reverse()},J=function(e,t,n,i,r,a){var s=d(n),o=b(e);if(s+t>o.byteLength)throw O(w);for(var c=b(o.buffer).bytes,l=s+o.byteOffset,u=i(+r),f=0;f<t;f++)c[l+f]=u[a?f:t-f-1]};if(a){if(!c((function(){P(1)}))||!c((function(){new P(-1)}))||c((function(){return new P,new P(1.5),new P(NaN),P.name!=x}))){for(var H,F=(I=function(e){return l(this,I),new P(d(e))}).prototype=P.prototype,G=h(P),W=0;G.length>W;)(H=G[W++])in I||s(I,H,P[H]);F.constructor=I}g&&v(C)!==A&&g(C,A);var z=new T(new I(2)),Y=C.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||o(C,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else I=function(e){l(this,I,x);var t=d(e);S(this,{bytes:m.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},T=function(e,t,n){l(this,T,E),l(e,I,E);var i=b(e).byteLength,a=u(t);if(a<0||a>i)throw O("Wrong offset");if(a+(n=void 0===n?i-a:f(n))>i)throw O("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:a}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},r&&(q(I,"byteLength"),q(T,"buffer"),q(T,"byteLength"),q(T,"byteOffset")),o(T.prototype,{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return V(B(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return V(B(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(B(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(B(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,D,t)},setUint8:function(e,t){J(this,1,e,D,t)},setInt16:function(e,t){J(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});k(I,x),k(T,E),e.exports={ArrayBuffer:I,DataView:T}},4382:function(e,t,n){"use strict";var i=n(4119),r=n(4951),a=n(4807),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),o=a(n.length),c=r(e,o),l=r(t,o),u=arguments.length>2?arguments[2]:void 0,f=s((void 0===u?o:r(u,o))-l,o-c),d=1;for(l<c&&c<l+f&&(d=-1,l+=f-1,c+=f-1);f-- >0;)l in n?n[c]=n[l]:delete n[c],c+=d,l+=d;return n}},3402:function(e,t,n){"use strict";var i=n(4119),r=n(4951),a=n(4807);e.exports=function(e){for(var t=i(this),n=a(t.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,l=void 0===c?n:r(c,n);l>o;)t[o++]=e;return t}},6447:function(e,t,n){"use strict";var i=n(5626).forEach,r=n(1204),a=n(4508),s=r("forEach"),o=a("forEach");e.exports=s&&o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},7149:function(e,t,n){var i=n(3817),r=n(4807),a=n(4951),s=function(e){return function(t,n,s){var o,c=i(t),l=r(c.length),u=a(s,l);if(e&&n!=n){for(;l>u;)if((o=c[u++])!=o)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},5626:function(e,t,n){var i=n(2700),r=n(8387),a=n(4119),s=n(4807),o=n(7639),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,f=6==e,d=7==e,p=5==e||f;return function(v,g,h,y){for(var m,k,_=a(v),b=r(_),S=i(g,h,3),x=s(b.length),E=0,w=y||o,P=t?w(v,x):n||d?w(v,0):void 0;x>E;E++)if((p||E in b)&&(k=S(m=b[E],E,_),e))if(t)P[E]=k;else if(k)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:c.call(P,m)}else switch(e){case 4:return!1;case 7:c.call(P,m)}return f?-1:l||u?u:P}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},3505:function(e,t,n){"use strict";var i=n(3817),r=n(2195),a=n(4807),s=n(1204),o=n(4508),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=o("indexOf",{ACCESSORS:!0,1:0}),p=u||!f||!d;e.exports=p?function(e){if(u)return l.apply(this,arguments)||0;var t=i(this),n=a(t.length),s=n-1;for(arguments.length>1&&(s=c(s,r(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},302:function(e,t,n){var i=n(6006),r=n(3459),a=n(4819),s=r("species");e.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},1204:function(e,t,n){"use strict";var i=n(6006);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},4508:function(e,t,n){var i=n(294),r=n(6006),a=n(8887),s=Object.defineProperty,o={},c=function(e){throw e};e.exports=function(e,t){if(a(o,e))return o[e];t||(t={});var n=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:c,f=a(t,1)?t[1]:void 0;return o[e]=!!n&&!r((function(){if(l&&!i)return!0;var e={length:-1};l?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,f)}))}},1189:function(e,t,n){var i=n(6415),r=n(4119),a=n(8387),s=n(4807),o=function(e){return function(t,n,o,c){i(n);var l=r(t),u=a(l),f=s(l.length),d=e?f-1:0,p=e?-1:1;if(o<2)for(;;){if(d in u){c=u[d],d+=p;break}if(d+=p,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=p)d in u&&(c=n(c,u[d],d,l));return c}};e.exports={left:o(!1),right:o(!0)}},7639:function(e,t,n){var i=n(3283),r=n(3493),a=n(3459)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},2730:function(e,t,n){var i=n(3459)("iterator"),r=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},5891:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},262:function(e,t,n){var i=n(1094),r=n(5891),a=n(3459)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},6667:function(e,t,n){var i=n(8887),r=n(9852),a=n(662),s=n(1778);e.exports=function(e,t){for(var n=r(t),o=s.f,c=a.f,l=0;l<n.length;l++){var u=n[l];i(e,u)||o(e,u,c(t,u))}}},8121:function(e,t,n){var i=n(3459)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},9692:function(e,t,n){var i=n(6006);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1247:function(e,t,n){"use strict";var i=n(3218).IteratorPrototype,r=n(8211),a=n(7464),s=n(8456),o=n(8445),c=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=r(i,{next:a(1,n)}),s(e,l,!1,!0),o[l]=c,e}},3326:function(e,t,n){var i=n(294),r=n(1778),a=n(7464);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},7464:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7323:function(e,t,n){"use strict";var i=n(963),r=n(1778),a=n(7464);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,a(0,n)):e[s]=n}},9026:function(e,t,n){"use strict";var i=n(4059),r=n(1247),a=n(4153),s=n(4007),o=n(8456),c=n(3326),l=n(1203),u=n(3459),f=n(9261),d=n(8445),p=n(3218),v=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,h=u("iterator"),y="keys",m="values",k="entries",_=function(){return this};e.exports=function(e,t,n,u,p,b,S){r(n,t,u);var x,E,w,P=function(e){if(e===p&&O)return O;if(!g&&e in C)return C[e];switch(e){case y:case m:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",T=!1,C=e.prototype,A=C[h]||C["@@iterator"]||p&&C[p],O=!g&&A||P(p),R="Array"==t&&C.entries||A;if(R&&(x=a(R.call(new e)),v!==Object.prototype&&x.next&&(f||a(x)===v||(s?s(x,v):"function"!=typeof x[h]&&c(x,h,_)),o(x,I,!0,!0),f&&(d[I]=_))),p==m&&A&&A.name!==m&&(T=!0,O=function(){return A.call(this)}),f&&!S||C[h]===O||c(C,h,O),d[t]=O,p)if(E={values:P(m),keys:b?O:P(y),entries:P(k)},S)for(w in E)(g||T||!(w in C))&&l(C,w,E[w]);else i({target:t,proto:!0,forced:g||T},E);return E}},294:function(e,t,n){var i=n(6006);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7392:function(e,t,n){var i=n(3123),r=n(3283),a=i.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},7275:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9178:function(e,t,n){var i=n(8504);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},7983:function(e,t,n){var i=n(5891),r=n(3123);e.exports="process"==i(r.process)},6492:function(e,t,n){var i=n(8504);e.exports=/web0s(?!.*chrome)/i.test(i)},8504:function(e,t,n){var i=n(8747);e.exports=i("navigator","userAgent")||""},4819:function(e,t,n){var i,r,a=n(3123),s=n(8504),o=a.process,c=o&&o.versions,l=c&&c.v8;l?r=(i=l.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},2615:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4059:function(e,t,n){var i=n(3123),r=n(662).f,a=n(3326),s=n(1203),o=n(1605),c=n(6667),l=n(1095);e.exports=function(e,t){var n,u,f,d,p,v=e.target,g=e.global,h=e.stat;if(n=g?i:h?i[v]||o(v,{}):(i[v]||{}).prototype)for(u in t){if(d=t[u],f=e.noTargetGet?(p=r(n,u))&&p.value:n[u],!l(g?u:v+(h?".":"#")+u,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),s(n,u,d,e)}}},6006:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5453:function(e,t,n){"use strict";n(3299);var i=n(1203),r=n(6006),a=n(3459),s=n(8324),o=n(3326),c=a("species"),l=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),f=a("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),p=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var v=a(e),g=!r((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),h=g&&!r((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!g||!h||"replace"===e&&(!l||!u||d)||"split"===e&&!p){var y=/./[v],m=n(v,""[e],(function(e,t,n,i,r){return t.exec===s?g&&!r?{done:!0,value:y.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),k=m[0],_=m[1];i(String.prototype,e,k),i(RegExp.prototype,v,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}f&&o(RegExp.prototype[v],"sham",!0)}},2700:function(e,t,n){var i=n(6415);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},8747:function(e,t,n){var i=n(7034),r=n(3123),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},8611:function(e,t,n){var i=n(262),r=n(8445),a=n(3459)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||r[i(e)]}},595:function(e,t,n){var i=n(4119),r=Math.floor,a="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,o=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,c,l,u){var f=n+e.length,d=c.length,p=o;return void 0!==l&&(l=i(l),p=s),a.call(u,p,(function(i,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":s=l[a.slice(1,-1)];break;default:var o=+a;if(0===o)return i;if(o>d){var u=r(o/10);return 0===u?i:u<=d?void 0===c[u-1]?a.charAt(1):c[u-1]+a.charAt(1):i}s=c[o-1]}return void 0===s?"":s}))}},3123:function(e){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},8887:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},2863:function(e){e.exports={}},8168:function(e,t,n){var i=n(3123);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},3707:function(e,t,n){var i=n(8747);e.exports=i("document","documentElement")},9206:function(e,t,n){var i=n(294),r=n(6006),a=n(7392);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},7067:function(e){var t=1/0,n=Math.abs,i=Math.pow,r=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,o,c){var l,u,f,d=new Array(c),p=8*c-o-1,v=(1<<p)-1,g=v>>1,h=23===o?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,m=0;for((e=n(e))!=e||e===t?(u=e!=e?1:0,l=v):(l=r(a(e)/s),e*(f=i(2,-l))<1&&(l--,f*=2),(e+=l+g>=1?h/f:h*i(2,1-g))*f>=2&&(l++,f/=2),l+g>=v?(u=0,l=v):l+g>=1?(u=(e*f-1)*i(2,o),l+=g):(u=e*i(2,g-1)*i(2,o),l=0));o>=8;d[m++]=255&u,u/=256,o-=8);for(l=l<<o|u,p+=o;p>0;d[m++]=255&l,l/=256,p-=8);return d[--m]|=128*y,d},unpack:function(e,n){var r,a=e.length,s=8*a-n-1,o=(1<<s)-1,c=o>>1,l=s-7,u=a-1,f=e[u--],d=127&f;for(f>>=7;l>0;d=256*d+e[u],u--,l-=8);for(r=d&(1<<-l)-1,d>>=-l,l+=n;l>0;r=256*r+e[u],u--,l-=8);if(0===d)d=1-c;else{if(d===o)return r?NaN:f?-1/0:t;r+=i(2,n),d-=c}return(f?-1:1)*r*i(2,d-n)}}},8387:function(e,t,n){var i=n(6006),r=n(5891),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},1919:function(e,t,n){var i=n(3283),r=n(4007);e.exports=function(e,t,n){var a,s;return r&&"function"==typeof(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&r(e,s),e}},6401:function(e,t,n){var i=n(2419),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},6174:function(e,t,n){var i,r,a,s=n(3452),o=n(3123),c=n(3283),l=n(3326),u=n(8887),f=n(2419),d=n(713),p=n(2863),v=o.WeakMap;if(s){var g=f.state||(f.state=new v),h=g.get,y=g.has,m=g.set;i=function(e,t){return t.facade=e,m.call(g,e,t),t},r=function(e){return h.call(g,e)||{}},a=function(e){return y.call(g,e)}}else{var k=d("state");p[k]=!0,i=function(e,t){return t.facade=e,l(e,k,t),t},r=function(e){return u(e,k)?e[k]:{}},a=function(e){return u(e,k)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3118:function(e,t,n){var i=n(3459),r=n(8445),a=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[a]===e)}},3493:function(e,t,n){var i=n(5891);e.exports=Array.isArray||function(e){return"Array"==i(e)}},1095:function(e,t,n){var i=n(6006),r=/#|\.prototype\./,a=function(e,t){var n=o[s(e)];return n==l||n!=c&&("function"==typeof t?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},o=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},3283:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},9261:function(e){e.exports=!1},7306:function(e,t,n){var i=n(3283),r=n(5891),a=n(3459)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},4854:function(e,t,n){var i=n(8),r=n(3118),a=n(4807),s=n(2700),o=n(8611),c=n(5289),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,f,d,p,v,g,h,y=n&&n.that,m=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),b=s(t,y,1+m+_),S=function(e){return u&&c(u),new l(!0,e)},x=function(e){return m?(i(e),_?b(e[0],e[1],S):b(e[0],e[1])):_?b(e,S):b(e)};if(k)u=e;else{if("function"!=typeof(f=o(e)))throw TypeError("Target is not iterable");if(r(f)){for(d=0,p=a(e.length);p>d;d++)if((v=x(e[d]))&&v instanceof l)return v;return new l(!1)}u=f.call(e)}for(g=u.next;!(h=g.call(u)).done;){try{v=x(h.value)}catch(e){throw c(u),e}if("object"==typeof v&&v&&v instanceof l)return v}return new l(!1)}},5289:function(e,t,n){var i=n(8);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},3218:function(e,t,n){"use strict";var i,r,a,s=n(4153),o=n(3326),c=n(8887),l=n(3459),u=n(9261),f=l("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(r=s(s(a)))!==Object.prototype&&(i=r):d=!0),null==i&&(i={}),u||c(i,f)||o(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},8445:function(e){e.exports={}},5489:function(e,t,n){var i,r,a,s,o,c,l,u,f=n(3123),d=n(662).f,p=n(852).set,v=n(9178),g=n(6492),h=n(7983),y=f.MutationObserver||f.WebKitMutationObserver,m=f.document,k=f.process,_=f.Promise,b=d(f,"queueMicrotask"),S=b&&b.value;S||(i=function(){var e,t;for(h&&(e=k.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():a=void 0,e}}a=void 0,e&&e.enter()},v||h||g||!y||!m?_&&_.resolve?(l=_.resolve(void 0),u=l.then,s=function(){u.call(l,i)}):s=h?function(){k.nextTick(i)}:function(){p.call(f,i)}:(o=!0,c=m.createTextNode(""),new y(i).observe(c,{characterData:!0}),s=function(){c.data=o=!o})),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,s()),a=t}},9357:function(e,t,n){var i=n(3123);e.exports=i.Promise},7224:function(e,t,n){var i=n(6006);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},3452:function(e,t,n){var i=n(3123),r=n(6401),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(r(a))},8644:function(e,t,n){"use strict";var i=n(6415),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},7053:function(e,t,n){var i=n(7306);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},8211:function(e,t,n){var i,r=n(8),a=n(9548),s=n(2615),o=n(2863),c=n(3707),l=n(7392),u=n(713)("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=i?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};o[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=r(e),n=new f,f.prototype=null,n[u]=e):n=p(),void 0===t?n:a(n,t)}},9548:function(e,t,n){var i=n(294),r=n(1778),a=n(8),s=n(5244);e.exports=i?Object.defineProperties:function(e,t){a(e);for(var n,i=s(t),o=i.length,c=0;o>c;)r.f(e,n=i[c++],t[n]);return e}},1778:function(e,t,n){var i=n(294),r=n(9206),a=n(8),s=n(963),o=Object.defineProperty;t.f=i?o:function(e,t,n){if(a(e),t=s(t,!0),a(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},662:function(e,t,n){var i=n(294),r=n(7613),a=n(7464),s=n(3817),o=n(963),c=n(8887),l=n(9206),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=s(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return a(!r.f.call(e,t),e[t])}},4717:function(e,t,n){var i=n(4121),r=n(2615).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},7781:function(e,t){t.f=Object.getOwnPropertySymbols},4153:function(e,t,n){var i=n(8887),r=n(4119),a=n(713),s=n(9692),o=a("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},4121:function(e,t,n){var i=n(8887),r=n(3817),a=n(7149).indexOf,s=n(2863);e.exports=function(e,t){var n,o=r(e),c=0,l=[];for(n in o)!i(s,n)&&i(o,n)&&l.push(n);for(;t.length>c;)i(o,n=t[c++])&&(~a(l,n)||l.push(n));return l}},5244:function(e,t,n){var i=n(4121),r=n(2615);e.exports=Object.keys||function(e){return i(e,r)}},7613:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},4007:function(e,t,n){var i=n(8),r=n(2231);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return i(n),r(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},350:function(e,t,n){"use strict";var i=n(1094),r=n(262);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},9852:function(e,t,n){var i=n(8747),r=n(4717),a=n(7781),s=n(8);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=a.f;return n?t.concat(n(e)):t}},7034:function(e,t,n){var i=n(3123);e.exports=i},9637:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9986:function(e,t,n){var i=n(8),r=n(3283),a=n(8644);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},1837:function(e,t,n){var i=n(1203);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},1203:function(e,t,n){var i=n(3123),r=n(3326),a=n(8887),s=n(1605),o=n(6401),c=n(6174),l=c.get,u=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,o){var c,l=!!o&&!!o.unsafe,d=!!o&&!!o.enumerable,p=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||r(n,"name",t),(c=u(n)).source||(c.source=f.join("string"==typeof t?t:""))),e!==i?(l?!p&&e[t]&&(d=!0):delete e[t],d?e[t]=n:r(e,t,n)):d?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||o(this)}))},4177:function(e,t,n){var i=n(5891),r=n(8324);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},8324:function(e,t,n){"use strict";var i,r,a=n(5081),s=n(7425),o=RegExp.prototype.exec,c=String.prototype.replace,l=o,u=(i=/a/,r=/b*/g,o.call(i,"a"),o.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),f=s.UNSUPPORTED_Y||s.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(u||d||f)&&(l=function(e){var t,n,i,r,s=this,l=f&&s.sticky,p=a.call(s),v=s.source,g=0,h=e;return l&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),h=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,g++),n=new RegExp("^(?:"+v+")",p)),d&&(n=new RegExp("^"+v+"$(?!\\s)",p)),u&&(t=s.lastIndex),i=o.call(l?n:s,h),l?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:u&&i&&(s.lastIndex=s.global?i.index+i[0].length:t),d&&i&&i.length>1&&c.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),e.exports=l},5081:function(e,t,n){"use strict";var i=n(8);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},7425:function(e,t,n){"use strict";var i=n(6006);function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},7154:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1605:function(e,t,n){var i=n(3123),r=n(3326);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},5231:function(e,t,n){"use strict";var i=n(8747),r=n(1778),a=n(3459),s=n(294),o=a("species");e.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},8456:function(e,t,n){var i=n(1778).f,r=n(8887),a=n(3459)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},713:function(e,t,n){var i=n(7562),r=n(2959),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},2419:function(e,t,n){var i=n(3123),r=n(1605),a="__core-js_shared__",s=i[a]||r(a,{});e.exports=s},7562:function(e,t,n){var i=n(9261),r=n(2419);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},4062:function(e,t,n){var i=n(8),r=n(6415),a=n(3459)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[a])?t:r(n)}},7010:function(e,t,n){var i=n(2195),r=n(7154),a=function(e){return function(t,n){var a,s,o=String(r(t)),c=i(n),l=o.length;return c<0||c>=l?e?"":void 0:(a=o.charCodeAt(c))<55296||a>56319||c+1===l||(s=o.charCodeAt(c+1))<56320||s>57343?e?o.charAt(c):a:e?o.slice(c,c+2):s-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},852:function(e,t,n){var i,r,a,s=n(3123),o=n(6006),c=n(2700),l=n(3707),u=n(7392),f=n(9178),d=n(7983),p=s.location,v=s.setImmediate,g=s.clearImmediate,h=s.process,y=s.MessageChannel,m=s.Dispatch,k=0,_={},b=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){b(e)}},x=function(e){b(e.data)},E=function(e){s.postMessage(e+"",p.protocol+"//"+p.host)};v&&g||(v=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++k]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(k),k},g=function(e){delete _[e]},d?i=function(e){h.nextTick(S(e))}:m&&m.now?i=function(e){m.now(S(e))}:y&&!f?(a=(r=new y).port2,r.port1.onmessage=x,i=c(a.postMessage,a,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&p&&"file:"!==p.protocol&&!o(E)?(i=E,s.addEventListener("message",x,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:v,clear:g}},4951:function(e,t,n){var i=n(2195),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},5784:function(e,t,n){var i=n(2195),r=n(4807);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},3817:function(e,t,n){var i=n(8387),r=n(7154);e.exports=function(e){return i(r(e))}},2195:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},4807:function(e,t,n){var i=n(2195),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},4119:function(e,t,n){var i=n(7154);e.exports=function(e){return Object(i(e))}},6924:function(e,t,n){var i=n(7906);e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},7906:function(e,t,n){var i=n(2195);e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},963:function(e,t,n){var i=n(3283);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},1094:function(e,t,n){var i={};i[n(3459)("toStringTag")]="z",e.exports="[object z]"===String(i)},9594:function(e,t,n){"use strict";var i=n(4059),r=n(3123),a=n(294),s=n(8422),o=n(9645),c=n(5351),l=n(1370),u=n(7464),f=n(3326),d=n(4807),p=n(5784),v=n(6924),g=n(963),h=n(8887),y=n(262),m=n(3283),k=n(8211),_=n(4007),b=n(4717).f,S=n(2552),x=n(5626).forEach,E=n(5231),w=n(1778),P=n(662),I=n(6174),T=n(1919),C=I.get,A=I.set,O=w.f,R=P.f,L=Math.round,D=r.RangeError,M=c.ArrayBuffer,N=c.DataView,V=o.NATIVE_ARRAY_BUFFER_VIEWS,j=o.TYPED_ARRAY_TAG,U=o.TypedArray,q=o.TypedArrayPrototype,B=o.aTypedArrayConstructor,J=o.isTypedArray,H="BYTES_PER_ELEMENT",F="Wrong length",G=function(e,t){for(var n=0,i=t.length,r=new(B(e))(i);i>n;)r[n]=t[n++];return r},W=function(e,t){O(e,t,{get:function(){return C(this)[t]}})},z=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},Y=function(e,t){return J(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return Y(e,t=g(t,!0))?u(2,e[t]):R(e,t)},$=function(e,t,n){return!(Y(e,t=g(t,!0))&&m(n)&&h(n,"value"))||h(n,"get")||h(n,"set")||n.configurable||h(n,"writable")&&!n.writable||h(n,"enumerable")&&!n.enumerable?O(e,t,n):(e[t]=n.value,e)};a?(V||(P.f=K,w.f=$,W(q,"buffer"),W(q,"byteOffset"),W(q,"byteLength"),W(q,"length")),i({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:K,defineProperty:$}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,o=e+(n?"Clamped":"")+"Array",c="get"+e,u="set"+e,g=r[o],h=g,y=h&&h.prototype,w={},P=function(e,t){O(e,t,{get:function(){return function(e,t){var n=C(e);return n.view[c](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var r=C(e);n&&(i=(i=L(i))<0?0:i>255?255:255&i),r.view[u](t*a+r.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};V?s&&(h=t((function(e,t,n,i){return l(e,h,o),T(m(t)?z(t)?void 0!==i?new g(t,v(n,a),i):void 0!==n?new g(t,v(n,a)):new g(t):J(t)?G(h,t):S.call(h,t):new g(p(t)),e,h)})),_&&_(h,U),x(b(g),(function(e){e in h||f(h,e,g[e])})),h.prototype=y):(h=t((function(e,t,n,i){l(e,h,o);var r,s,c,u=0,f=0;if(m(t)){if(!z(t))return J(t)?G(h,t):S.call(h,t);r=t,f=v(n,a);var g=t.byteLength;if(void 0===i){if(g%a)throw D(F);if((s=g-f)<0)throw D(F)}else if((s=d(i)*a)+f>g)throw D(F);c=s/a}else c=p(t),r=new M(s=c*a);for(A(e,{buffer:r,byteOffset:f,byteLength:s,length:c,view:new N(r)});u<c;)P(e,u++)})),_&&_(h,U),y=h.prototype=k(q)),y.constructor!==h&&f(y,"constructor",h),j&&f(y,j,o),w[o]=h,i({global:!0,forced:h!=g,sham:!V},w),H in h||f(h,H,a),H in y||f(y,H,a),E(o)}):e.exports=function(){}},8422:function(e,t,n){var i=n(3123),r=n(6006),a=n(2730),s=n(9645).NATIVE_ARRAY_BUFFER_VIEWS,o=i.ArrayBuffer,c=i.Int8Array;e.exports=!s||!r((function(){c(1)}))||!r((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||r((function(){return 1!==new c(new o(2),1,void 0).length}))},2552:function(e,t,n){var i=n(4119),r=n(4807),a=n(8611),s=n(3118),o=n(2700),c=n(9645).aTypedArrayConstructor;e.exports=function(e){var t,n,l,u,f,d,p=i(e),v=arguments.length,g=v>1?arguments[1]:void 0,h=void 0!==g,y=a(p);if(null!=y&&!s(y))for(d=(f=y.call(p)).next,p=[];!(u=d.call(f)).done;)p.push(u.value);for(h&&v>2&&(g=o(g,arguments[2],2)),n=r(p.length),l=new(c(this))(n),t=0;n>t;t++)l[t]=h?g(p[t],t):p[t];return l}},2959:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},894:function(e,t,n){var i=n(7224);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3459:function(e,t,n){var i=n(3123),r=n(7562),a=n(8887),s=n(2959),o=n(7224),c=n(894),l=r("wks"),u=i.Symbol,f=c?u:u&&u.withoutSetter||s;e.exports=function(e){return a(l,e)||(o&&a(u,e)?l[e]=u[e]:l[e]=f("Symbol."+e)),l[e]}},3019:function(e,t,n){"use strict";var i=n(4059),r=n(6006),a=n(5351),s=n(8),o=n(4951),c=n(4807),l=n(4062),u=a.ArrayBuffer,f=a.DataView,d=u.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(s(this),e);for(var n=s(this).byteLength,i=o(e,n),r=o(void 0===t?n:t,n),a=new(l(this,u))(c(r-i)),p=new f(this),v=new f(a),g=0;i<r;)v.setUint8(g++,p.getUint8(i++));return a}})},8847:function(e,t,n){"use strict";var i=n(4059),r=n(6447);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},4917:function(e,t,n){"use strict";var i=n(4059),r=n(7149).indexOf,a=n(1204),s=n(4508),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?o.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},1631:function(e,t,n){"use strict";var i=n(3817),r=n(7343),a=n(8445),s=n(6174),o=n(9026),c="Array Iterator",l=s.set,u=s.getterFor(c);e.exports=o(Array,"Array",(function(e,t){l(this,{type:c,target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},7699:function(e,t,n){"use strict";var i=n(4059),r=n(4951),a=n(2195),s=n(4807),o=n(4119),c=n(7639),l=n(7323),u=n(302),f=n(4508),d=u("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,g=Math.min,h=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var n,i,u,f,d,p,m=o(this),k=s(m.length),_=r(e,k),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=k-_):(n=b-2,i=g(v(a(t),0),k-_)),k+n-i>h)throw TypeError(y);for(u=c(m,i),f=0;f<i;f++)(d=_+f)in m&&l(u,f,m[d]);if(u.length=i,n<i){for(f=_;f<k-i;f++)p=f+n,(d=f+i)in m?m[p]=m[d]:delete m[p];for(f=k;f>k-i+n;f--)delete m[f-1]}else if(n>i)for(f=k-i;f>_;f--)p=f+n-1,(d=f+i-1)in m?m[p]=m[d]:delete m[p];for(f=0;f<n;f++)m[f+_]=arguments[f+2];return m.length=k-i+n,u}})},9251:function(e,t,n){var i=n(294),r=n(1778).f,a=Function.prototype,s=a.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in a)&&r(a,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},9087:function(e,t,n){var i=n(1094),r=n(1203),a=n(350);i||r(Object.prototype,"toString",a,{unsafe:!0})},8228:function(e,t,n){"use strict";var i,r,a,s,o=n(4059),c=n(9261),l=n(3123),u=n(8747),f=n(9357),d=n(1203),p=n(1837),v=n(8456),g=n(5231),h=n(3283),y=n(6415),m=n(1370),k=n(6401),_=n(4854),b=n(2730),S=n(4062),x=n(852).set,E=n(5489),w=n(9986),P=n(8168),I=n(8644),T=n(9637),C=n(6174),A=n(1095),O=n(3459),R=n(7983),L=n(4819),D=O("species"),M="Promise",N=C.get,V=C.set,j=C.getterFor(M),U=f,q=l.TypeError,B=l.document,J=l.process,H=u("fetch"),F=I.f,G=F,W=!!(B&&B.createEvent&&l.dispatchEvent),z="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",K=A(M,(function(){if(k(U)===String(U)){if(66===L)return!0;if(!R&&!z)return!0}if(c&&!U.prototype.finally)return!0;if(L>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),$=K||!b((function(e){U.all(e).catch((function(){}))})),X=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){for(var i=e.value,r=1==e.state,a=0;n.length>a;){var s,o,c,l=n[a++],u=r?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{u?(r||(2===e.rejection&&ne(e),e.rejection=1),!0===u?s=i:(p&&p.enter(),s=u(i),p&&(p.exit(),c=!0)),s===l.promise?d(q("Promise-chain cycle")):(o=X(s))?o.call(s,f,d):f(s)):d(i)}catch(e){p&&!c&&p.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Z=function(e,t,n){var i,r;W?((i=B.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:n},!z&&(r=l["on"+e])?r(i):e===Y&&P("Unhandled promise rejection",n)},ee=function(e){x.call(l,(function(){var t,n=e.facade,i=e.value;if(te(e)&&(t=T((function(){R?J.emit("unhandledRejection",i,n):Z(Y,n,i)})),e.rejection=R||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){x.call(l,(function(){var t=e.facade;R?J.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},ie=function(e,t,n){return function(i){e(t,i,n)}},re=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Q(e,!0))},ae=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw q("Promise can't be resolved itself");var i=X(t);i?E((function(){var n={done:!1};try{i.call(t,ie(ae,n,e),ie(re,n,e))}catch(t){re(n,t,e)}})):(e.value=t,e.state=1,Q(e,!1))}catch(t){re({done:!1},t,e)}}};K&&(U=function(e){m(this,U,M),y(e),i.call(this);var t=N(this);try{e(ie(ae,t),ie(re,t))}catch(e){re(t,e)}},(i=function(e){V(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(e,t){var n=j(this),i=F(S(this,U));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=R?J.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&Q(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=N(e);this.promise=e,this.resolve=ie(ae,t),this.reject=ie(re,t)},I.f=F=function(e){return e===U||e===a?new r(e):G(e)},c||"function"!=typeof f||(s=f.prototype.then,d(f.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return w(U,H.apply(l,arguments))}}))),o({global:!0,wrap:!0,forced:K},{Promise:U}),v(U,M,!1,!0),g(M),a=u(M),o({target:M,stat:!0,forced:K},{reject:function(e){var t=F(this);return t.reject.call(void 0,e),t.promise}}),o({target:M,stat:!0,forced:c||K},{resolve:function(e){return w(c&&this===a?U:this,e)}}),o({target:M,stat:!0,forced:$},{all:function(e){var t=this,n=F(t),i=n.resolve,r=n.reject,a=T((function(){var n=y(t.resolve),a=[],s=0,o=1;_(e,(function(e){var c=s++,l=!1;a.push(void 0),o++,n.call(t,e).then((function(e){l||(l=!0,a[c]=e,--o||i(a))}),r)})),--o||i(a)}));return a.error&&r(a.value),n.promise},race:function(e){var t=this,n=F(t),i=n.reject,r=T((function(){var r=y(t.resolve);_(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},6209:function(e,t,n){var i=n(294),r=n(3123),a=n(1095),s=n(1919),o=n(1778).f,c=n(4717).f,l=n(7306),u=n(5081),f=n(7425),d=n(1203),p=n(6006),v=n(6174).set,g=n(5231),h=n(3459)("match"),y=r.RegExp,m=y.prototype,k=/a/g,_=/a/g,b=new y(k)!==k,S=f.UNSUPPORTED_Y;if(i&&a("RegExp",!b||S||p((function(){return _[h]=!1,y(k)!=k||y(_)==_||"/a/i"!=y(k,"i")})))){for(var x=function(e,t){var n,i=this instanceof x,r=l(e),a=void 0===t;if(!i&&r&&e.constructor===x&&a)return e;b?r&&!a&&(e=e.source):e instanceof x&&(a&&(t=u.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var o=s(b?new y(e,t):y(e,t),i?this:m,x);return S&&n&&v(o,{sticky:n}),o},E=function(e){e in x||o(x,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},w=c(y),P=0;w.length>P;)E(w[P++]);m.constructor=x,x.prototype=m,d(r,"RegExp",x)}g("RegExp")},3299:function(e,t,n){"use strict";var i=n(4059),r=n(8324);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},1206:function(e,t,n){"use strict";var i=n(1203),r=n(8),a=n(6006),s=n(5081),o="toString",c=RegExp.prototype,l=c.toString,u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=o;(u||f)&&i(RegExp.prototype,o,(function(){var e=r(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in c)?s.call(e):n)}),{unsafe:!0})},9676:function(e,t,n){"use strict";var i,r=n(4059),a=n(662).f,s=n(4807),o=n(7053),c=n(7154),l=n(8121),u=n(9261),f="".endsWith,d=Math.min,p=l("endsWith");r({target:"String",proto:!0,forced:!(!u&&!p&&(i=a(String.prototype,"endsWith"),i&&!i.writable)||p)},{endsWith:function(e){var t=String(c(this));o(e);var n=arguments.length>1?arguments[1]:void 0,i=s(t.length),r=void 0===n?i:d(s(n),i),a=String(e);return f?f.call(t,a,r):t.slice(r-a.length,r)===a}})},8550:function(e,t,n){"use strict";var i=n(5453),r=n(8),a=n(4807),s=n(7154),o=n(9429),c=n(4177);i("match",1,(function(e,t,n){return[function(t){var n=s(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var s=r(e),l=String(this);if(!s.global)return c(s,l);var u=s.unicode;s.lastIndex=0;for(var f,d=[],p=0;null!==(f=c(s,l));){var v=String(f[0]);d[p]=v,""===v&&(s.lastIndex=o(l,a(s.lastIndex),u)),p++}return 0===p?null:d}]}))},1636:function(e,t,n){"use strict";var i=n(5453),r=n(8),a=n(4807),s=n(2195),o=n(7154),c=n(9429),l=n(595),u=n(4177),f=Math.max,d=Math.min;i("replace",2,(function(e,t,n,i){var p=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,g=p?"$":"$0";return[function(n,i){var r=o(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!p&&v||"string"==typeof i&&-1===i.indexOf(g)){var o=n(t,e,this,i);if(o.done)return o.value}var h=r(e),y=String(this),m="function"==typeof i;m||(i=String(i));var k=h.global;if(k){var _=h.unicode;h.lastIndex=0}for(var b=[];;){var S=u(h,y);if(null===S)break;if(b.push(S),!k)break;""===String(S[0])&&(h.lastIndex=c(y,a(h.lastIndex),_))}for(var x,E="",w=0,P=0;P<b.length;P++){S=b[P];for(var I=String(S[0]),T=f(d(s(S.index),y.length),0),C=[],A=1;A<S.length;A++)C.push(void 0===(x=S[A])?x:String(x));var O=S.groups;if(m){var R=[I].concat(C,T,y);void 0!==O&&R.push(O);var L=String(i.apply(void 0,R))}else L=l(I,y,T,C,O,i);T>=w&&(E+=y.slice(w,T)+L,w=T+I.length)}return E+y.slice(w)}]}))},7741:function(e,t,n){"use strict";var i=n(5453),r=n(7306),a=n(8),s=n(7154),o=n(4062),c=n(9429),l=n(4807),u=n(4177),f=n(8324),d=n(6006),p=[].push,v=Math.min,g=4294967295,h=!d((function(){return!RegExp(g,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(s(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,a);for(var o,c,l,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=new RegExp(e.source,d+"g");(o=f.call(h,i))&&!((c=h.lastIndex)>v&&(u.push(i.slice(v,o.index)),o.length>1&&o.index<i.length&&p.apply(u,o.slice(1)),l=o[0].length,v=c,u.length>=a));)h.lastIndex===o.index&&h.lastIndex++;return v===i.length?!l&&h.test("")||u.push(""):u.push(i.slice(v)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=s(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,r,n):i.call(String(r),t,n)},function(e,r){var s=n(i,e,this,r,i!==t);if(s.done)return s.value;var f=a(e),d=String(this),p=o(f,RegExp),y=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(h?"y":"g"),k=new p(h?f:"^(?:"+f.source+")",m),_=void 0===r?g:r>>>0;if(0===_)return[];if(0===d.length)return null===u(k,d)?[d]:[];for(var b=0,S=0,x=[];S<d.length;){k.lastIndex=h?S:0;var E,w=u(k,h?d:d.slice(S));if(null===w||(E=v(l(k.lastIndex+(h?0:S)),d.length))===b)S=c(d,S,y);else{if(x.push(d.slice(b,S)),x.length===_)return x;for(var P=1;P<=w.length-1;P++)if(x.push(w[P]),x.length===_)return x;S=b=E}}return x.push(d.slice(b)),x}]}),!h)},7681:function(e,t,n){"use strict";var i=n(9645),r=n(4382),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return r.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},5756:function(e,t,n){"use strict";var i=n(9645),r=n(5626).every,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4375:function(e,t,n){"use strict";var i=n(9645),r=n(3402),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(e){return r.apply(a(this),arguments)}))},8076:function(e,t,n){"use strict";var i=n(9645),r=n(5626).filter,a=n(4062),s=i.aTypedArray,o=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",(function(e){for(var t=r(s(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),i=0,c=t.length,l=new(o(n))(c);c>i;)l[i]=t[i++];return l}))},8723:function(e,t,n){"use strict";var i=n(9645),r=n(5626).findIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},9596:function(e,t,n){"use strict";var i=n(9645),r=n(5626).find,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},781:function(e,t,n){"use strict";var i=n(9645),r=n(5626).forEach,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},365:function(e,t,n){"use strict";var i=n(9645),r=n(7149).includes,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3632:function(e,t,n){"use strict";var i=n(9645),r=n(7149).indexOf,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7454:function(e,t,n){"use strict";var i=n(3123),r=n(9645),a=n(1631),s=n(3459)("iterator"),o=i.Uint8Array,c=a.values,l=a.keys,u=a.entries,f=r.aTypedArray,d=r.exportTypedArrayMethod,p=o&&o.prototype[s],v=!!p&&("values"==p.name||null==p.name),g=function(){return c.call(f(this))};d("entries",(function(){return u.call(f(this))})),d("keys",(function(){return l.call(f(this))})),d("values",g,!v),d(s,g,!v)},5129:function(e,t,n){"use strict";var i=n(9645),r=i.aTypedArray,a=i.exportTypedArrayMethod,s=[].join;a("join",(function(e){return s.apply(r(this),arguments)}))},3496:function(e,t,n){"use strict";var i=n(9645),r=n(3505),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){return r.apply(a(this),arguments)}))},3158:function(e,t,n){"use strict";var i=n(9645),r=n(5626).map,a=n(4062),s=i.aTypedArray,o=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(o(a(e,e.constructor)))(t)}))}))},362:function(e,t,n){"use strict";var i=n(9645),r=n(1189).right,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){return r(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2526:function(e,t,n){"use strict";var i=n(9645),r=n(1189).left,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){return r(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},7546:function(e,t,n){"use strict";var i=n(9645),r=i.aTypedArray,a=i.exportTypedArrayMethod,s=Math.floor;a("reverse",(function(){for(var e,t=this,n=r(t).length,i=s(n/2),a=0;a<i;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},8689:function(e,t,n){"use strict";var i=n(9645),r=n(4807),a=n(6924),s=n(4119),o=n(6006),c=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(e){c(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=s(e),o=r(i.length),l=0;if(o+t>n)throw RangeError("Wrong length");for(;l<o;)this[t+l]=i[l++]}),o((function(){new Int8Array(1).set({})})))},1926:function(e,t,n){"use strict";var i=n(9645),r=n(4062),a=n(6006),s=i.aTypedArray,o=i.aTypedArrayConstructor,c=i.exportTypedArrayMethod,l=[].slice;c("slice",(function(e,t){for(var n=l.call(s(this),e,t),i=r(this,this.constructor),a=0,c=n.length,u=new(o(i))(c);c>a;)u[a]=n[a++];return u}),a((function(){new Int8Array(1).slice()})))},2072:function(e,t,n){"use strict";var i=n(9645),r=n(5626).some,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3175:function(e,t,n){"use strict";var i=n(9645),r=i.aTypedArray,a=i.exportTypedArrayMethod,s=[].sort;a("sort",(function(e){return s.call(r(this),e)}))},9129:function(e,t,n){"use strict";var i=n(9645),r=n(4807),a=n(4951),s=n(4062),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=o(this),i=n.length,c=a(e,i);return new(s(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,r((void 0===t?i:a(t,i))-c))}))},3809:function(e,t,n){"use strict";var i=n(3123),r=n(9645),a=n(6006),s=i.Int8Array,o=r.aTypedArray,c=r.exportTypedArrayMethod,l=[].toLocaleString,u=[].slice,f=!!s&&a((function(){l.call(new s(1))}));c("toLocaleString",(function(){return l.apply(f?u.call(o(this)):o(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!a((function(){s.prototype.toLocaleString.call([1,2])})))},7842:function(e,t,n){"use strict";var i=n(9645).exportTypedArrayMethod,r=n(6006),a=n(3123).Uint8Array,s=a&&a.prototype||{},o=[].toString,c=[].join;r((function(){o.call({})}))&&(o=function(){return c.call(this)});var l=s.toString!=o;i("toString",o,l)},5443:function(e,t,n){n(9594)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},1491:function(e,t,n){var i=n(3123),r=n(7275),a=n(6447),s=n(3326);for(var o in r){var c=i[o],l=c&&c.prototype;if(l&&l.forEach!==a)try{s(l,"forEach",a)}catch(e){l.forEach=a}}},8304:function(e,t,n){var i=n(4059),r=n(3123),a=n(8504),s=[].slice,o=function(e){return function(t,n){var i=arguments.length>2,r=i?s.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:o(r.setTimeout),setInterval:o(r.setInterval)})},9952:function(e,t,n){var i=n(6789),r=n(9020),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a function")}},5677:function(e,t,n){var i=n(9458),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not an object")}},6204:function(e,t,n){"use strict";var i=n(2269).forEach,r=n(4464)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},5958:function(e,t,n){var i=n(8586),r=n(4871),a=n(8207),s=function(e){return function(t,n,s){var o,c=i(t),l=a(c),u=r(s,l);if(e&&n!=n){for(;l>u;)if((o=c[u++])!=o)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2269:function(e,t,n){var i=n(372),r=n(5322),a=n(9866),s=n(7006),o=n(8207),c=n(4060),l=r([].push),u=function(e){var t=1==e,n=2==e,r=3==e,u=4==e,f=6==e,d=7==e,p=5==e||f;return function(v,g,h,y){for(var m,k,_=s(v),b=a(_),S=i(g,h),x=o(b),E=0,w=y||c,P=t?w(v,x):n||d?w(v,0):void 0;x>E;E++)if((p||E in b)&&(k=S(m=b[E],E,_),e))if(t)P[E]=k;else if(k)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:l(P,m)}else switch(e){case 4:return!1;case 7:l(P,m)}return f?-1:r||u?u:P}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},7124:function(e,t,n){var i=n(4011),r=n(614),a=n(9210),s=r("species");e.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4464:function(e,t,n){"use strict";var i=n(4011);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},3263:function(e,t,n){var i=n(5322);e.exports=i([].slice)},8889:function(e,t,n){var i=n(2782),r=n(6435),a=n(9458),s=n(614)("species"),o=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===o||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?o:t}},4060:function(e,t,n){var i=n(8889);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},6769:function(e,t,n){var i=n(5322),r=i({}.toString),a=i("".slice);e.exports=function(e){return a(r(e),8,-1)}},4037:function(e,t,n){var i=n(7854),r=n(6789),a=n(6769),s=n(614)("toStringTag"),o=Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?n:c?a(t):"Object"==(i=a(t))&&r(t.callee)?"Arguments":i}},4634:function(e,t,n){var i=n(9848),r=n(198),a=n(5534),s=n(1346);e.exports=function(e,t,n){for(var o=r(t),c=s.f,l=a.f,u=0;u<o.length;u++){var f=o[u];i(e,f)||n&&i(n,f)||c(e,f,l(t,f))}}},7965:function(e,t,n){var i=n(7577),r=n(1346),a=n(2267);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},2267:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5196:function(e,t,n){"use strict";var i=n(1333),r=n(1346),a=n(2267);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,a(0,n)):e[s]=n}},6782:function(e,t,n){var i=n(6789),r=n(1346),a=n(3427),s=n(4896);e.exports=function(e,t,n,o){o||(o={});var c=o.enumerable,l=void 0!==o.name?o.name:t;return i(n)&&a(n,l,o),o.global?c?e[t]=n:s(t,n):(o.unsafe?e[t]&&(c=!0):delete e[t],c?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})),e}},4896:function(e,t,n){var i=n(1852),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},982:function(e,t,n){"use strict";var i=n(9020),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},7577:function(e,t,n){var i=n(4011);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6063:function(e,t,n){var i=n(1852),r=n(9458),a=i.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},8334:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},8344:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3419:function(e,t,n){var i=n(6063)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},7816:function(e,t,n){var i=n(491);e.exports=i("navigator","userAgent")||""},9210:function(e,t,n){var i,r,a=n(1852),s=n(7816),o=a.process,c=a.Deno,l=o&&o.versions||c&&c.version,u=l&&l.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},898:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3906:function(e,t,n){var i=n(1852),r=n(5534).f,a=n(7965),s=n(6782),o=n(4896),c=n(4634),l=n(2345);e.exports=function(e,t){var n,u,f,d,p,v=e.target,g=e.global,h=e.stat;if(n=g?i:h?i[v]||o(v,{}):(i[v]||{}).prototype)for(u in t){if(d=t[u],f=e.dontCallGetSet?(p=r(n,u))&&p.value:n[u],!l(g?u:v+(h?".":"#")+u,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),s(n,u,d,e)}}},4011:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},372:function(e,t,n){var i=n(5322),r=n(9952),a=n(7003),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},7003:function(e,t,n){var i=n(4011);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6069:function(e,t,n){var i=n(7003),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},187:function(e,t,n){var i=n(7577),r=n(9848),a=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,o=r(a,"name"),c=o&&"something"===function(){}.name,l=o&&(!i||i&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:l}},5322:function(e,t,n){var i=n(7003),r=Function.prototype,a=r.bind,s=r.call,o=i&&a.bind(s,s);e.exports=i?function(e){return e&&o(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},491:function(e,t,n){var i=n(1852),r=n(6789),a=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e]):i[e]&&i[e][t]}},9334:function(e,t,n){var i=n(9952);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},1852:function(e){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},9848:function(e,t,n){var i=n(5322),r=n(7006),a=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},6400:function(e){e.exports={}},6957:function(e,t,n){var i=n(7577),r=n(4011),a=n(6063);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},9866:function(e,t,n){var i=n(5322),r=n(4011),a=n(6769),s=Object,o=i("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?o(e,""):s(e)}:s},3259:function(e,t,n){var i=n(5322),r=n(6789),a=n(8145),s=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},7652:function(e,t,n){var i,r,a,s=n(8988),o=n(1852),c=n(5322),l=n(9458),u=n(7965),f=n(9848),d=n(8145),p=n(8312),v=n(6400),g="Object already initialized",h=o.TypeError,y=o.WeakMap;if(s||d.state){var m=d.state||(d.state=new y),k=c(m.get),_=c(m.has),b=c(m.set);i=function(e,t){if(_(m,e))throw new h(g);return t.facade=e,b(m,e,t),t},r=function(e){return k(m,e)||{}},a=function(e){return _(m,e)}}else{var S=p("state");v[S]=!0,i=function(e,t){if(f(e,S))throw new h(g);return t.facade=e,u(e,S,t),t},r=function(e){return f(e,S)?e[S]:{}},a=function(e){return f(e,S)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}},2782:function(e,t,n){var i=n(6769);e.exports=Array.isArray||function(e){return"Array"==i(e)}},6789:function(e){e.exports=function(e){return"function"==typeof e}},6435:function(e,t,n){var i=n(5322),r=n(4011),a=n(6789),s=n(4037),o=n(491),c=n(3259),l=function(){},u=[],f=o("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=i(d.exec),v=!d.exec(l),g=function(e){if(!a(e))return!1;try{return f(l,u,e),!0}catch(e){return!1}},h=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!p(d,c(e))}catch(e){return!0}};h.sham=!0,e.exports=!f||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?h:g},2345:function(e,t,n){var i=n(4011),r=n(6789),a=/#|\.prototype\./,s=function(e,t){var n=c[o(e)];return n==u||n!=l&&(r(t)?i(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},9458:function(e,t,n){var i=n(6789);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},2412:function(e){e.exports=!1},8922:function(e,t,n){var i=n(491),r=n(6789),a=n(4323),s=n(848),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,o(e))}},8207:function(e,t,n){var i=n(9485);e.exports=function(e){return i(e.length)}},3427:function(e,t,n){var i=n(4011),r=n(6789),a=n(9848),s=n(7577),o=n(187).CONFIGURABLE,c=n(3259),l=n(7652),u=l.enforce,f=l.get,d=Object.defineProperty,p=s&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),v=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||o&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),p&&n&&a(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return a(i,"source")||(i.source=v.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return r(this)&&f(this).source||c(this)}),"toString")},5079:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},9697:function(e,t,n){var i=n(9210),r=n(4011);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8988:function(e,t,n){var i=n(1852),r=n(6789),a=n(3259),s=i.WeakMap;e.exports=r(s)&&/native code/.test(a(s))},1346:function(e,t,n){var i=n(7577),r=n(6957),a=n(6161),s=n(5677),o=n(1333),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(s(e),t=o(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=u(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=o(t),s(n),r)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5534:function(e,t,n){var i=n(7577),r=n(6069),a=n(6015),s=n(2267),o=n(8586),c=n(1333),l=n(9848),u=n(6957),f=Object.getOwnPropertyDescriptor;t.f=i?f:function(e,t){if(e=o(e),t=c(t),u)try{return f(e,t)}catch(e){}if(l(e,t))return s(!r(a.f,e,t),e[t])}},2133:function(e,t,n){var i=n(2058),r=n(898).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},2402:function(e,t){t.f=Object.getOwnPropertySymbols},4323:function(e,t,n){var i=n(5322);e.exports=i({}.isPrototypeOf)},2058:function(e,t,n){var i=n(5322),r=n(9848),a=n(8586),s=n(5958).indexOf,o=n(6400),c=i([].push);e.exports=function(e,t){var n,i=a(e),l=0,u=[];for(n in i)!r(o,n)&&r(i,n)&&c(u,n);for(;t.length>l;)r(i,n=t[l++])&&(~s(u,n)||c(u,n));return u}},6015:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},5323:function(e,t,n){var i=n(6069),r=n(6789),a=n(9458),s=TypeError;e.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!a(o=i(n,e)))return o;if(r(n=e.valueOf)&&!a(o=i(n,e)))return o;if("string"!==t&&r(n=e.toString)&&!a(o=i(n,e)))return o;throw s("Can't convert object to primitive value")}},198:function(e,t,n){var i=n(491),r=n(5322),a=n(2133),s=n(2402),o=n(5677),c=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=s.f;return n?c(t,n(e)):t}},1645:function(e){var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},8312:function(e,t,n){var i=n(8501),r=n(2032),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},8145:function(e,t,n){var i=n(1852),r=n(4896),a="__core-js_shared__",s=i[a]||r(a,{});e.exports=s},8501:function(e,t,n){var i=n(2412),r=n(8145);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.2",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.2/LICENSE",source:"https://github.com/zloirock/core-js"})},4871:function(e,t,n){var i=n(38),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},8586:function(e,t,n){var i=n(9866),r=n(1645);e.exports=function(e){return i(r(e))}},38:function(e,t,n){var i=n(5079);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},9485:function(e,t,n){var i=n(38),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7006:function(e,t,n){var i=n(1645),r=Object;e.exports=function(e){return r(i(e))}},7461:function(e,t,n){var i=n(6069),r=n(9458),a=n(8922),s=n(9334),o=n(5323),c=n(614),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=i(c,e,t),!r(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},1333:function(e,t,n){var i=n(7461),r=n(8922);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},7854:function(e,t,n){var i={};i[n(614)("toStringTag")]="z",e.exports="[object z]"===String(i)},9020:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},2032:function(e,t,n){var i=n(5322),r=0,a=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},848:function(e,t,n){var i=n(9697);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6161:function(e,t,n){var i=n(7577),r=n(4011);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},614:function(e,t,n){var i=n(1852),r=n(8501),a=n(9848),s=n(2032),o=n(9697),c=n(848),l=r("wks"),u=i.Symbol,f=u&&u.for,d=c?u:u&&u.withoutSetter||s;e.exports=function(e){if(!a(l,e)||!o&&"string"!=typeof l[e]){var t="Symbol."+e;o&&a(u,e)?l[e]=u[e]:l[e]=c&&f?f(t):d(t)}return l[e]}},1433:function(e,t,n){"use strict";var i=n(3906),r=n(6204);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},9662:function(e,t,n){"use strict";var i=n(3906),r=n(5322),a=n(5958).indexOf,s=n(4464),o=r([].indexOf),c=!!o&&1/o([1],1,-0)<0,l=s("indexOf");i({target:"Array",proto:!0,forced:c||!l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?o(this,e,t)||0:a(this,e,t)}})},88:function(e,t,n){"use strict";var i=n(3906),r=n(2782),a=n(6435),s=n(9458),o=n(4871),c=n(8207),l=n(8586),u=n(5196),f=n(614),d=n(7124),p=n(3263),v=d("slice"),g=f("species"),h=Array,y=Math.max;i({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var n,i,f,d=l(this),v=c(d),m=o(e,v),k=o(void 0===t?v:t,v);if(r(d)&&(n=d.constructor,(a(n)&&(n===h||r(n.prototype))||s(n)&&null===(n=n[g]))&&(n=void 0),n===h||void 0===n))return p(d,m,k);for(i=new(void 0===n?h:n)(y(k-m,0)),f=0;m<k;m++,f++)m in d&&u(i,f,d[m]);return i.length=f,i}})},8580:function(e,t,n){"use strict";var i=n(3906),r=n(7006),a=n(4871),s=n(38),o=n(8207),c=n(8334),l=n(4060),u=n(5196),f=n(982),d=n(7124)("splice"),p=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,i,d,g,h,y,m=r(this),k=o(m),_=a(e,k),b=arguments.length;for(0===b?n=i=0:1===b?(n=0,i=k-_):(n=b-2,i=v(p(s(t),0),k-_)),c(k+n-i),d=l(m,i),g=0;g<i;g++)(h=_+g)in m&&u(d,g,m[h]);if(d.length=i,n<i){for(g=_;g<k-i;g++)y=g+n,(h=g+i)in m?m[y]=m[h]:f(m,y);for(g=k;g>k-i+n;g--)f(m,g-1)}else if(n>i)for(g=k-i;g>_;g--)y=g+n-1,(h=g+i-1)in m?m[y]=m[h]:f(m,y);for(g=0;g<n;g++)m[g+_]=arguments[g+2];return m.length=k-i+n,d}})},6032:function(e,t,n){var i=n(1852),r=n(8344),a=n(3419),s=n(6204),o=n(7965),c=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var l in r)r[l]&&c(i[l]&&i[l].prototype);c(a)},9011:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.keyLogin=void 0;var i=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=i,this.http=n,this.pub=t}var t,i;return t=e,(i=[{key:"mask_begin",value:function(e){this.mask_begin_call=e}},{key:"mask_end",value:function(e){this.mask_end_call=e}},{key:"setHiddenSealAddJson",value:function(e){this.hiddenSealAddJson=e}},{key:"login",value:function(e,t){var n=this;this.http.key_list((function(i,r){i?(n.pub.isType(n.mask_end_call,"function")&&n.mask_end_call(),n.dialog.keyLogin(r,(function(i,r){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call();var a={};a.id=i,a.pwd=r,"2"==t?e(!0,a):n.http.key_login(a,(function(t,n){e(t,n)}))}))):e(!1,r)}))}},{key:"sealList",value:function(e){var t=this;this.http.key_seal_list("1",(function(n,i){if(n){var r=JSON.parse(i),a=r.sealInfos;0==a.length?e(!1,"获取印章列表为空"):(t.pub.isType(t.mask_end_call,"function")&&t.mask_end_call(),t.dialog.keySealList(a,(function(n){t.pub.isType(t.mask_begin_call,"function")&&t.mask_begin_call(),n.certData=r.certData,e(!0,n)}),null,t.hiddenSealAddJson))}else e(!1,i)}))}}])&&n(t.prototype,i),e}();t.keyLogin=i},3920:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.loginClass=void 0;var i=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=i,this.http=n,this.pub=t,this.appId="",this.time=30,this.type="0"}var t,i;return t=e,(i=[{key:"init",value:function(e,t,n){this.appId=e,this.pub.isType(t,"number")&&(t>=0||t<=60)&&(this.time=t),kinsecLog.log(this.time),0==t&&this.delToken(),!n||"1"!=n&&"2"!=n||(this.type=n),kinsecLog.log(this.type)}},{key:"mask_begin",value:function(e){this.mask_begin_call=e}},{key:"mask_end",value:function(e){this.mask_end_call=e}},{key:"getToken",value:function(e){var t="",n=localStorage.getItem("kinsec_token");if(kinsecLog.log(n),!this.pub.isEmpty(n)){var i=JSON.parse(n);e==i.idCard&&(kinsecLog.log(i.time-(new Date).getTime()/1e3),i.time>(new Date).getTime()/1e3&&(t=i.token))}return t}},{key:"setToken",value:function(e,t,n){var i={};i.idCard=e,i.token=t,i.time=n,localStorage.setItem("kinsec_token",JSON.stringify(i))}},{key:"delToken",value:function(){localStorage.removeItem("kinsec_token")}},{key:"_cloud_sign_type",value:function(e,t){var n=this.type;"0"==n?this.http.getType(e,this.appId,(function(e,n){e?t(!0,"2"==n?"2":"1"):t(!1,n)})):t(!0,"1"==n||"2"==n?n:"1")}},{key:"htjc",value:function(e,t){var n=this;this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call(),this.dialog.htjc((function(i){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call(),n.http.htjc(e,i,n.time,n.appId,(function(i,r){if(i){var a=JSON.parse(r);n.time>0&&n.setToken(e,a.token,(new Date).getTime()/1e3+60*n.time-10),t(i,a.token)}else t(i,r)}))}))}},{key:"pwd",value:function(e,t){var n=this;this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call(),this.dialog.pwd((function(i){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call(),n.http.pwd(e,i,n.time,n.appId,(function(i,r){if(i){var a=JSON.parse(r);n.time>0&&n.setToken(e,a.token,(new Date).getTime()/1e3+60*n.time-10),t(i,a.token)}else t(i,r)}))}))}},{key:"loginRun",value:function(e,t){var n=this;this._cloud_sign_type(e,(function(i,r){i?"2"==r?n.pwd(e,(function(e,n){t(e,n)})):n.htjc(e,(function(e,n){t(e,n)})):(n.pub.isType(n.mask_begin_call,"function")&&n.mask_end_call(),t(i,r))}))}},{key:"login",value:function(e,t,n){if(t)this.loginRun(e,n);else{var i=this.getToken(e);this.pub.isEmpty(i)?this.loginRun(e,n):n(!0,i)}}},{key:"htjc_login",value:function(e,t,n){var i=this;this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call(),this.htjc(e,(function(e,r){e?i.http.sign(t,r,(function(e,t){n(e,t),i.pub.isType(i.mask_end_call,"function")&&i.mask_end_call()})):(n(e,r),i.pub.isType(i.mask_end_call,"function")&&i.mask_end_call())}))}}])&&n(t.prototype,i),e}();t.loginClass=i},1131:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(8847),n(9251),n(3299),n(7741),n(1491),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.loginDialog=void 0;var r=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.http=n,this.login=i,this.qrcodeServer=r,this.dialog=null,this.isShow=!1,this.isCall=!1,this.bodyDiv=null,this.titleSpan=null}var t,n;return t=e,(n=[{key:"setDialog",value:function(e){this.dialog=e}},{key:"mask_begin",value:function(e){this.mask_begin_call=e}},{key:"mask_end",value:function(e){this.mask_end_call=e}},{key:"mask_begin_run",value:function(){this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call()}},{key:"mask_end_run",value:function(){this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call()}},{key:"open",value:function(e,t,n){var i=this;this.isShow&&this.close(!1),this.isShow=!0,this.isCall=!1;var r=document.createElement("div");r.setAttribute("id","kinsec_msg__wrap_id"),r.setAttribute("class","kinsec_msg__wrap");var a=document.createElement("div");a.setAttribute("class","msg-header");var s=document.createElement("span");this.titleSpan=s,s.innerHTML=e;var o=document.createElement("span");o.setAttribute("class","msg-header-close-button"),o.innerHTML="×",a.appendChild(s),a.appendChild(o);var c=document.createElement("div");this.bodyDiv=c,c.setAttribute("class","msg-body"),c.innerHTML='<div class="msg-body-content">'+t+"</div>";var l=document.createElement("div");l.setAttribute("class","kinsec_msg__overlay"),this.wrap=r,this.overlay=l,o.addEventListener("click",(function(e){i.close(!1),i.pub.isType(n,"function")&&n(!1,"取消操作")})),r.appendChild(a),r.appendChild(c),document.body.appendChild(r),document.body.appendChild(l),setTimeout((function(){r.style.transform="translate(-50%,-50%) scale(1,1)",l.style.opacity="1"}),100)}},{key:"reOpen",value:function(e,t){this.isShow&&null!=this.titleSpan&&document.getElementById("kinsec_msg__wrap_id")?(this.titleSpan.innerHTML=e,this.bodyDiv.innerHTML=t):this.open(e,t)}},{key:"close",value:function(e){this.wrap.remove(),this.overlay.remove(),this.isShow=!1,this.isCall=e,this.pub.isEmpty(this.kinsec_sett)||window.clearInterval(this.kinsec_sett),this.pub.isEmpty(this.recorder)||"recording"!=this.recorder.state||this.recorder.stop(),this.pub.isEmpty(this.stream)||this.stream.getTracks().forEach((function(e){e.stop()}))}},{key:"closeAll",value:function(){try{this.isShow&&this.close(),null!=this.dialog&&this.dialog.isShow&&this.dialog.close()}catch(e){kinsecLog.error(e)}}},{key:"video",value:function(e,t){var n=this;try{navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia?this.getUserMedia({audio:!1,video:!0},(function(i){n.pub.isEmpty(n.stream)||n.stream.getTracks().forEach((function(e){e.stop()})),n.stream=i;var r=2,a=document.getElementById("kinsec_video");a.srcObject=i,a.play(),e&&(n.recorder=new MediaRecorder(i,{videoBitsPerSecond:8e5,mimeType:"video/webm;codecs=vp8"}),n.recorder.ondataavailable=function(e){var i=e.data,r=new FileReader;r.onload=function(e){null==n.kinsec_sett&&t(r.result)},r.readAsDataURL(i)},n.recorder.start(),e.disabled=!0,e.innerHTML="停止录制倒计时3",n.kinsec_sett=window.setInterval((function(){e.innerHTML="停止录制倒计时"+r,0==r&&(e.disabled=!1,e.innerHTML="开始录制",r=2,window.clearInterval(n.kinsec_sett),n.kinsec_sett=null,a.pause(),n.recorder.stop(),i.getTracks().forEach((function(e){e.stop()}))),r--}),1e3))}),(function(e){console.error(e),alert("访问媒体设备失败："+e.message+",请使用谷歌浏览器或者火狐浏览器,并允许打开摄像头")})):(alert("不支持访问用户媒体,请使用谷歌浏览器或者火狐浏览器"),this.close(!0))}catch(e){kinsecLog.error(e),alert("不支持访问用户媒体"),this.close(!0)}}},{key:"getUserMedia",value:function(e,t,n){navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t).catch(n):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,t,n):navigator.mozGetUserMedia?navigator.mozGetUserMedia(e,t,n):navigator.getUserMedia&&navigator.getUserMedia(e,t,n)}},{key:"htjc",value:function(e,t,n){var i=this,r='<div class="kinsec_video_content" '+t[0]+">"+e+'<div class="prompt"><div class="prompt-box"><div style="font-size: 20px;">请在对应框中开始录制</div></div><div style="width: 200px; height: 200px; border-radius: 50%; margin: auto; overflow: hidden;margin-top: 20px;"><video  width="270" height="200"  class="kinsec_video_videoel1" id="kinsec_video"></video></div><div style="padding: 30px 30px;"><button id="kinsec_video_lz" style="width: 250px; height: 40px; background: #0073EB;color: white;"  >开始录制</button></div></div></div>';this.reOpen("实人认证",r);var a=document.getElementById("kinsec_video_lz");a.addEventListener("click",(function(e){i.video(a,(function(e){i.close(!0),n(e.split("base64,")[1])}))})),this.video()}},{key:"pwd",value:function(e,t,n){var i=this,r='<div class="kinsec_pwd_content" '+t[0]+">"+e+'<div style="padding: 0 40px 0 40px;"><input type="password" id="kinsec_pwd_val" placeholder="请输入口令"  /></div><div id="kinsec_msg_error" class="msg-error"></div><div class="msg-footer" ><button id="kinsec_pwd_sub" class="msg-footer-btn msg-footer-confirm-button">确认</button><button id="kinsec_pwd_cancel" class="msg-footer-btn msg-footer-cancel-button">取消</button></div></div>';this.reOpen("请输入口令",r);var a=document.getElementById("kinsec_pwd_sub"),s=document.getElementById("kinsec_pwd_cancel");a.addEventListener("click",(function(e){var t=document.getElementById("kinsec_pwd_val").value;i.pub.isEmpty(t)?document.getElementById("kinsec_msg_error").innerHTML="请输入口令":(document.getElementById("kinsec_msg_error").innerHTML="",i.close(!0),n(t))})),s.addEventListener("click",(function(e){i.close(!1)})),document.getElementById("kinsec_pwd_val").focus()}},{key:"qrcode",value:function(e,t,n){var i='<div class="kinsec_mes_content"  '+t[0]+">"+e+'<div id="kinsec_dialog_qrcode" style="width:200px; height:200px;margin-top:-10px;'+t[1]+'"><div></div>';this.reOpen("请扫描二维码",i);var r=document.getElementById("kinsec_dialog_qrcode");new QRCode(r,{width:200,height:200}).makeCode(n)}},{key:"keyLogin",value:function(e,t,n,i){var r=this,a='<div class="kinsec_pwd_content"  '+n[0]+">"+e+'<div  style="padding: 0 40px 0 40px;"><select id="kinsec_key_login_select">';t.forEach((function(e){a+='<option value="'+e.id+'">'+e.name+"</option>"})),a+='</select></div><div style="padding: 0 40px 0 40px;"><input type="password" id="kinsec_key_login_pwd" placeholder="请输入口令"  /></div><div id="kinsec_key_login_msg_error" class="msg-error" style="padding: 0 40px 0 40px;"></div><div class="msg-footer" ><button id="kinsec_key_login_sub" class="msg-footer-btn msg-footer-confirm-button">确认</button><button id="kinsec_key_login_cancel" class="msg-footer-btn msg-footer-cancel-button">取消</button></div></div>',this.reOpen("请输入口令",a);var s=document.getElementById("kinsec_key_login_sub"),o=document.getElementById("kinsec_key_login_cancel");s.addEventListener("click",(function(e){var t=document.getElementById("kinsec_key_login_pwd").value,n=document.getElementById("kinsec_key_login_select").value;r.pub.isEmpty(t)?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入口令":t.length<2||t.length>16?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入2到16位的口令":(document.getElementById("kinsec_key_login_msg_error").innerHTML="",r.close(!0),i(n,t))})),o.addEventListener("click",(function(e){r.close(!1)})),document.getElementById("kinsec_key_login_pwd").focus()}},{key:"mes",value:function(e,t,n,i){var r=this,a='<div class="kinsec_mes_content" '+n[0]+">"+e+'<div class="kinsec_mes_content_mes" style="text-align: center;font-size: 17px;">'+t+'</div><div class="msg-footer" style="margin-top:40px;" ><button id="kinsec_mes_retry" class="msg-footer-btn msg-footer-confirm-button">重试</button><button id="kinsec_mes_close" class="msg-footer-btn msg-footer-cancel-button">关闭</button></div></div>';this.reOpen("错误信息",a),document.getElementById("kinsec_mes_close").addEventListener("click",(function(e){r.close()})),document.getElementById("kinsec_mes_retry").addEventListener("click",(function(e){i()}))}},{key:"allLogin",value:function(e,t){var n=this,i=e.type,r=e.idCard,a=e.val,s=e.qrType,o=e.loginType;if(!i||0==i.length||i.length>3||this.pub.judgeArrSame(i))t(!1,"登录类型有误");else{var c=[];c[0]='style="width:350px;"',c[1]="margin-left:75px;",2==i.length&&(c[0]='style="width:300px;"',c[1]="margin-left:50px;");var l=i[0],u="";if(i.length>=2){if(u+='<ul class="kinsec_seal_tab_title">',"1"==l)u+='<li class="kinsec_seal_tab_selected" id="kinsec_seal_tab_key">KEY登录</li>';else if("2"==l)u+='<li class="kinsec_seal_tab_selected" id="kinsec_seal_tab_face">人脸认证</li>';else{if("3"!=l)return void t(!1,"登录类型有误");u+='<li class="kinsec_seal_tab_selected" id="kinsec_seal_tab_qr">扫码认证</li>'}for(var f,d=1;d<i.length;d++)if("1"==(f=i[d]))u+='<li id="kinsec_seal_tab_key">KEY登录</li>';else if("2"==f)u+='<li id="kinsec_seal_tab_face">人脸认证</li>';else{if("3"!=f)return void t(!1,"登录类型有误");u+='<li id="kinsec_seal_tab_qr">扫码认证</li>'}u+="</ul>"}var p=function(){var e={},t=document.getElementById("kinsec_seal_tab_key"),i=document.getElementById("kinsec_seal_tab_face"),r=document.getElementById("kinsec_seal_tab_qr");return e.key=t,e.face=i,e.qr=r,n.pub.isEmpty(t)||t.addEventListener("click",(function(){n.mask_begin_run(),v((function(e){n.pub.isEmpty(e.key)||e.key.setAttribute("class","kinsec_seal_tab_selected"),n.pub.isEmpty(e.face)||e.face.setAttribute("class",""),n.pub.isEmpty(e.qr)||e.qr.setAttribute("class","")}))})),n.pub.isEmpty(i)||i.addEventListener("click",(function(){n.mask_begin_run(),g((function(e){n.pub.isEmpty(e.key)||e.key.setAttribute("class",""),n.pub.isEmpty(e.face)||e.face.setAttribute("class","kinsec_seal_tab_selected"),n.pub.isEmpty(e.qr)||e.qr.setAttribute("class","")}))})),n.pub.isEmpty(r)||r.addEventListener("click",(function(){n.mask_begin_run(),h((function(e){n.pub.isEmpty(e.key)||e.key.setAttribute("class",""),n.pub.isEmpty(e.face)||e.face.setAttribute("class",""),n.pub.isEmpty(e.qr)||e.qr.setAttribute("class","kinsec_seal_tab_selected")}))})),e},v=function e(i){n.http.keySign("111",(function(r,a){if(r){n.closeAll();t(r,{type:"1"})}else{if("NotLoggedIn"!=a){n.mask_end_run(),n.mes(u,a,c,e);var s=p();return void(i&&i(s))}n.http.key_list((function(r,a){if(r){n.mask_end_run(),n.keyLogin(u,a,c,(function(e,i){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call();var r={};r.id=e,r.pwd=i,n.mask_begin_run(),n.http.key_login(r,(function(e,n){if(e){t(e,{type:"1"})}else t(e,n)}))}));var s=p();i&&i(s)}else{n.mask_end_run(),n.mes(u,a,c,e);var o=p();i&&i(o)}}))}}),"2")},g=function e(i){var a=n.login.getToken(r);if(!n.pub.isEmpty(a)){n.closeAll();var s={type:"2"};return s.token=a,void t(!0,s)}n.login._cloud_sign_type(r,(function(a,s){if(a){n.mask_end_run(),"2"==s?n.pwd(u,c,(function(e){n.mask_begin_run(),n.http.pwd(r,e,n.login.time,n.login.appId,(function(e,i){if(e){var a=JSON.parse(i);n.login.time>0&&n.login.setToken(r,a.token,(new Date).getTime()/1e3+60*n.login.time-10);var s={};s.token=a.token,s.type="2",t(e,s)}else t(e,i)}))})):n.htjc(u,c,(function(e){n.mask_begin_run(),n.http.htjc(r,e,n.login.time,n.login.appId,(function(e,i){if(e){var a=JSON.parse(i);n.login.time>0&&n.login.setToken(r,a.token,(new Date).getTime()/1e3+60*n.login.time-10);var s={};s.token=a.token,s.type="2",t(e,s)}else t(e,i)}))}));var o=p();i&&i(o)}else{n.mask_end_run(),n.mes(u,s,c,e);var l=p();i&&i(l)}}))},h=function e(i){if("1"==o){var r={};r.val=a,r.type=s,n.qrcodeServer.qrcode(r,(function(e,i){if(n.mask_begin_run(),e){var r=n.pub.convertJson(i),a={type:"3"};a.data=r,t(e,a)}else t(e,i)}),(function(t,r){if(n.mask_end_run(),t){n.qrcode(u,c,r);var a=p();i&&i(a)}else{n.mask_end_run(),n.mes(u,r,c,e);var s=p();i&&i(s)}}))}else"2"==o?n.qrcodeServer.qrEnc(a,(function(e,i){if(n.mask_begin_run(),e){var r={type:"3"};r.data=i,t(e,r)}else t(e,i)}),(function(t,r){if(n.mask_end_run(),t){n.qrcode(u,c,r);var a=p();i&&i(a)}else{n.mask_end_run(),n.mes(u,r,c,e);var s=p();i&&i(s)}})):"3"==o?n.qrcodeServer.qrSign(a,(function(e,i){if(n.mask_begin_run(),e){var r={type:"3"};r.data=n.pub.convertJson(i),t(e,r)}else t(e,i)}),(function(t,r){if(n.mask_end_run(),t){n.qrcode(u,c,r);var a=p();i&&i(a)}else{n.mask_end_run(),n.mes(u,r,c,e);var s=p();i&&i(s)}})):t(!1,"扫码未知的类型")};if("2"==l)g();else if("1"==l)v();else{if("3"!=l)return void t(!1,"登录类型有误");h()}}}}])&&i(t.prototype,n),e}();t.loginDialog=r},3750:function(e,t,n){"use strict";n(8847),n(4917),n(7699),n(9087),n(8228),n(3299),n(1636),n(1491),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.htmlSeal=void 0;var i=n(8543),r=n(1468),a=n(4251),s=n(3920),o=n(1813),c=n(3796),l=n(6395),u=n(4540),f=n(2935),d=n(1131),p=n(3279);function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=new i.pubClass,h=null,y=null,m=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=t,this.initState=!1,this.appId="",this.initTime=0,this.seals=[],this.DelState=!0,this.verifyState=!0,this.dialog=new o.dialog(g),this.md5=new c.md5,this.loading=new l.loading,this.base64=new r.base64,this.callVal=new f.callVal,this.pub=g,this.syncApi=new p.syncApi(g);(h=new a.httpClass(g,this.dialog)).setHiddenSealAddJson({addQf:!0}),this.clientHttp=h,y=new s.loginClass(g,h,this.dialog),this.qrcodeServer=new u.qrcodeServer(g,h),this.loginDialog=new d.loginDialog(g,h,y,this.qrcodeServer),this.loginDialog.setDialog(this.dialog),this.dialog.setLoginDialog(this.loginDialog),this.dialog.setPath(this.path),this.mask_begin_call=function(){n.loading.open()},this.mask_end_call=function(){n.loading.close()},y.mask_begin(this.mask_begin_call),y.mask_end(this.mask_end_call),h.mask_begin(this.mask_begin_call),h.mask_end(this.mask_end_call),this.qrcodeServer.set_mask_begin(this.mask_begin_call),this.qrcodeServer.set_mask_end(this.mask_end_call),this.loginDialog.mask_begin(this.mask_begin_call),this.loginDialog.mask_end(this.mask_end_call)}var t,n;return t=e,(n=[{key:"dataInit",value:function(){this.DelState=!0,this.verifyState=!0}},{key:"setDelState",value:function(e){this.DelState=e}},{key:"setVerifyState",value:function(e){this.verifyState=e}},{key:"init",value:function(){var e=(new Date).getTime();this.initState&&e-this.initTime<=1e3||(this._initDiv(),this.initTime=e)}},{key:"initA",value:function(e,t,n){return y.init(e,t,n),this.init(),this.callVal.str0000Succ()}},{key:"initB",value:function(e,t){return this.qrcodeServer.init(e,"1",this.dialog,t),this.init(),this.callVal.str0000Succ()}},{key:"initC",value:function(e){var t="",n="";if(g.isEmpty(e)||g.isType(e,"string"))g.isEmpty(e)||(t=e);else{var i=g.convertJson(e);g.isEmpty(i.keyShield)||(t=i.keyShield),n=i.areaCode}return h.setShield(t),h.setAreaCode(n),this.init(),this.callVal.str0000Succ()}},{key:"initHtml",value:function(e){var t,n=(t=g.isType(e,"string")?JSON.parse(e):e).type,i=t.appId,r=t.time,a=t.timeout;return h.setTimeout(a),this.qrcodeServer.setTimeout(a),"1"==n?this.initC(t):"2"==n?this.initA(i,r):"3"==n?this.initB(i):(kinsecLog.error("初始化:未知的类型"),this.callVal.str0001("未知的类型"))}},{key:"_initDiv",value:function(){for(var e=this,t=g.getClass("div","kinsec_seal"),n=function(n){var i=t[n];e._initBind(i),setTimeout((function(){e._bindSelect(i)}),10)},i=0;i<t.length;i++)n(i);this.initState=!0,setTimeout((function(){e._initCheck(t,null)}),100)}},{key:"_initBind",value:function(e){var t=this;this.seals.indexOf(e)>=0||("undefined"!=typeof MutationObserver?new MutationObserver((function(e,n){e.forEach((function(e){t._bindSelect(e.target)}))})).observe(e,{attributes:!0,attributeFilter:["value"]}):e.addEventListener("DOMAttrModified",(function(e){"value"==e.attrName&&t._bindSelect(e.target)}),!1),this.seals.push(e))}},{key:"_bindSelect",value:function(e){var t=e.getAttribute("value");if(g.isEmpty(t))return e.innerHTML="",e.style.width="0px",void(e.style.height="0px");JSON.parse(t)instanceof Array?this.moreFresh(e):this.fresh(e)}},{key:"_initCheck",value:function(e,t){for(var n=this,i=function(i){var r=e[i];if(""==r.innerHTML)return"continue";var a=r.getAttribute("value");if(g.isEmpty(a))return"continue";var s=r.getElementsByTagName("canvas")[0],o=JSON.parse(a),c=(o.img,o.type),l=o.seal,u=(o.idCard,o.vs,r.getAttribute("digest"));if(g.isEmpty(u)){if("2"==s.getAttribute("state"))return"continue";s.setAttribute("state","2"),n._check_error(s)}else h.yzSeal(c,u,l,(function(i,r,a){if(i);else if(null==t){if("1"!=a)return void(t=window.setInterval((function(){n._initCheck(e,t)}),1e4));if("2"==s.getAttribute("state"))return;s.setAttribute("state","2"),n._check_error(s)}else if("1"==a){if(window.clearInterval(t),t=null,"2"==s.getAttribute("state"))return;s.setAttribute("state","2"),n._check_error(s)}}))},r=0;r<e.length;r++)i(r)}},{key:"_check_error",value:function(e){var t=e.getAttribute("width"),n=e.getAttribute("height"),i=e.getContext("2d");i.beginPath(),i.lineWidth=parseInt(n/3),i.moveTo(2,parseInt(n/2)),i.lineTo(t,parseInt(n/2)),i.strokeStyle="black",i.globalAlpha=.9,i.stroke(),e.nextSibling.setAttribute("src",e.toDataURL("image/png"))}},{key:"fresh",value:function(e){var t=this,n=e;try{n.innerHTML="",n.style.width="",n.style.height="";var i=n.getAttribute("value");if(g.isEmpty(i))return;var r=JSON.parse(i),a=r.img,s=r.type,o=r.seal,c=r.idCard,l=1.25*r.sealPicW,u=1.25*r.sealPicH,f=g.isEmpty(r.vs)?1:parseInt(r.vs),d=r.valArr,p=r.sealId,v=r.txt;if(g.isEmpty(a)||g.isEmpty(s)||g.isEmpty(o)||g.isEmpty(f))return void console.error("请传入指定格式的签章数据");if("2"==s&&g.isEmpty(c))return void console.error("请传入指定格式的签章数据2");if(!g.isEmpty(d)&&d.length>0){var m="";d.forEach((function(e){try{m+=document.getElementById(e).getAttribute("value")}catch(t){console.error("保护数据id不存在--"+e+"--",t)}})),f>=4&&(g.isEmpty(v)||(m+=v),m=this.base64.encode(m)),n.setAttribute("digest",m)}var k=n.getAttribute("width"),_="";Promise.resolve().then((function(){return new Promise((function(e,t){e({})}))})).then((function(e){return new Promise((function(t,n){if(g.isEmpty(v))t(e);else{var i=document.createElement("img");i.src="data:image/png;base64,"+v,i.onload=function(){var n={};n.width=i.width,n.height=i.height,n.img=i,e.txt=n,t(e)}}}))})).then((function(e){var i=document.createElement("img");i.src="data:image/png;base64,"+a,i.onload=function(){var r=0,a=30;g.isEmpty(k)?f>=2?(r=l,a=l==u?parseInt(r/150*a):parseInt(r/250*a),k=r+"px"):(r=i.width==i.height?150:250,k=r+"px"):f>=2?(r=parseInt(k.replace("px","")),a=l==u?parseInt(r/150*a):parseInt(r/250*a)):(r=parseInt(k.replace("px","")),a=i.width==i.height?parseInt(r/150*a):parseInt(r/250*a)),a<30&&(a=30,r<57&&(a=r/2-1));var d=0,v=0;f>=2?(d=u/l,v=parseInt(r)*d):(d=i.height/i.width,v=parseInt(r)*d);var m=v/i.height;i.width=r,i.height=v;var b=4*m,S=0;e.txt&&(S+=b+e.txt.height*m);var x=0+S+b;_=v+x+"px",n.style.width=k,n.style.height=v+a+"px";var E=document.createElement("div");E.style.width=k,E.style.height=a+"px",E.style.visibility="hidden",n.appendChild(E);var w=document.createElement("canvas");w.setAttribute("width",2*r),w.setAttribute("height",2*v+2*x),w.style.width=k,w.style.height=_,w.style.border="1px dotted transparent",w.style.opacity="0.8",w.style.display="none",n.appendChild(w);var P=document.createElement("img");P.style.width=k,P.style.height=_,P.style.border="1px dotted transparent",P.style.opacity="0.8",n.appendChild(P);var I=w.getContext("2d");I.drawImage(i,0,0,2*r,2*v),S>0&&I.drawImage(e.txt.img,0,2*(b+v)+0,2*r,2*S),P.setAttribute("src",w.toDataURL("image/png"));var T=document.createElement("img");T.src=t.path+"assets/img/del.png",T.style.cursor="pointer",T.style.float="right",T.style.marginRight="-2px",T.style.width=a+"px",T.style.height=a+"px",t.DelState&&E.appendChild(T);var C=document.createElement("img");C.src=t.path+"assets/img/yz.png",C.style.cursor="pointer",C.style.float="right",C.style.marginRight="1px",C.style.width=a+"px",C.style.height=a+"px",t.verifyState&&E.appendChild(C),n.onmouseover=function(e){E.style.visibility="visible",w.style.border="1px dotted blue",P.style.border="1px dotted blue"},n.onmouseout=function(e){E.style.visibility="hidden",w.style.border="1px dotted transparent",P.style.border="1px dotted transparent"};var A=function(){var e=n.getAttribute("digest");g.isEmpty(e)?t.dialog.mes("原文摘要为空"):h.yzSeal(s,e,o,(function(e,n,i){e?t.dialog.yzMes(n):t.dialog.mes(n)}))};P.addEventListener("dblclick",(function(){A()})),C.addEventListener("click",(function(){A()})),T.addEventListener("click",(function(){t._mask_begin();var e=n.getAttribute("digest");if(2==s)y.login(c,!0,(function(i,r){if(i){t._mask_begin();var a=r,s={};s.sourceData=e,s.sourceDataType="0",s.signStamp=o,s.token=r,h.compareCert(s,(function(e,i){if(e){var r=t.md5.md5(o),s=t.base64.encode(r);h.sign(s,a,(function(e,i){t._mask_end(),e?g.isType(t.ywCall,"function")?t.ywCall(n,"2","成功",i,p):t.dialog.mes("删除没有回调"):t.dialog.mes(i)}))}else t._mask_end(),t.dialog.mes(i)}))}else t._mask_end(),t.dialog.mes(r)}));else if("1"==s){var i={};i.sourceData=e,i.sourceDataType="0",i.signStamp=o,h.keyCompareCert(i,(function(e,i){if(e){var r=t.md5.md5(o),a=t.base64.encode(r);h.keySign(a,(function(e,i){t._mask_end(),e?g.isType(t.ywCall,"function")?t.ywCall(n,"2","成功",i,p):t.dialog.mes("删除没有回调"):t.dialog.mes(i)}))}else t._mask_end(),t.dialog.mes(i)}))}else if("3"==s){var r=n.getAttribute("digest");g.isEmpty(r)?t.dialog.mes("原文摘要为空"):h.yzSeal(s,r,o,(function(e,i,r){if(e){var a=i.signcert;t.qrcodeServer.delQrcode(a,o,(function(e,i){e?g.isType(t.ywCall,"function")?t.ywCall(n,"2","成功",i,p):t.dialog.mes("无删除回调"):t.dialog.mes(i)}),(function(e,n){t._mask_end(),e?t.dialog.qrcode(n):t.dialog.mes(n)}))}else t._mask_end(),t.dialog.mes(i)}),"1")}}))}})).catch((function(e){kinsecLog.error(e),n.innerHTML="",n.style.width="",n.style.height=""}))}catch(e){kinsecLog.error(e),n.innerHTML="",n.style.width="",n.style.height=""}}},{key:"moreFresh",value:function(e){var t=this,n=e,i=[];try{var r=n.getAttribute("value"),a=n.getAttribute("width");if(g.isEmpty(r))return;var s=g.getChildren(n,"canvas");!g.isEmpty(s)&&s.length>0&&(n.innerHTML="",n.style.width="",n.style.height="");var o=JSON.parse(r),c=function(e){var r;r=g.isType(o[e],"string")?o[e]:JSON.stringify(o[e]);var s=JSON.parse(r);if(i.indexOf(s.sealId)>=0)return"continue";i.push(s.sealId);var c=g.getDomClass(n,"div","kinsec_child_class "+s.sealId);if(!g.isEmpty(c)&&c.length>0)return"continue";var l=document.createElement("div");g.isEmpty(a)||l.setAttribute("width",a),l.setAttribute("value",r),l.setAttribute("class","kinsec_child_class "+s.sealId),l.style.display="inline-block",l.style.marginRight="10px",t.fresh(l),n.appendChild(l),setTimeout((function(){var e=[];e.push(l),t._initCheck(e)}),100)};for(var l in o)c(l)}catch(e){kinsecLog.error(e)}}},{key:"logoutState",value:function(e,t){var n=this;"1"==e?(this._mask_begin(),h.keyLogout((function(e,i){n._mask_end(),e?n.callVal.data0000(t,null):n.callVal.data0001(t,i)}))):"2"==e?(y.delToken(),this.callVal.data0000(t,null)):this.callVal.data0001(t,"未知的类型："+e)}},{key:"html_call",value:function(e){this.ywCall=e}},{key:"stampFresh",value:function(e,t,n){if(g.isEmpty(n))t.setAttribute("value",n);else if("1"==e)t.setAttribute("value",n);else if("2"==e){var i=t.getAttribute("value"),r=[];if(g.isEmpty(i))r.push(n);else{var a=JSON.parse(i);if(a instanceof Array){r=a;var s=t.getAttribute("delValue");if(!g.isEmpty(s)&&JSON.parse(s).length>0)for(var o=JSON.parse(s),c=r.length-1;c>=0;c--){var l;l=g.isType(r[c],"string")?JSON.parse(r[c]):r[c];for(var u=o.length-1;u>=0;u--)if(l.sealId==o[u]){r.splice(c,1),o.splice(u,1);break}if(0==o.length)break}r.push(n)}else r.push(i),r.push(n)}t.setAttribute("value",JSON.stringify(r))}else kinsecLog.error("未知类型")}},{key:"delFresh",value:function(e){var t=e.getAttribute("class");if(!g.isEmpty(t)&&t.indexOf("kinsec_child_class")>=0){var n=e.getAttribute("value"),i=JSON.parse(n),r=e.parentNode,a=r.getAttribute("delValue"),s=[];g.isEmpty(a)||(s=JSON.parse(a)),s.push(i.sealId),r.setAttribute("delValue",JSON.stringify(s)),e.remove()}else e.setAttribute("value","")}},{key:"mask_begin",value:function(e){this.mask_begin_call=e,y.mask_begin(e),this.qrcodeServer.set_mask_begin(e),h.mask_begin(e)}},{key:"mask_end",value:function(e){this.mask_end_call=e,y.mask_end(e),this.qrcodeServer.set_mask_end(e),h.mask_end(e)}},{key:"_mask_begin",value:function(){g.isType(this.mask_begin_call,"function")&&this.mask_begin_call()}},{key:"_mask_end",value:function(){g.isType(this.mask_end_call,"function")&&this.mask_end_call()}},{key:"htjc_login",value:function(e,t,n){y.htjc_login(e,t,n)}},{key:"zjcloud_seal",value:function(e,t,n,i){var r=this;this._mask_begin(),y.login(e,n,(function(n,a){n?h.htmlSignSeal("2",t,a,(function(t,n){if(r._mask_end(),t){var a=JSON.parse(n),s=a.sealPic,o=a.signStamp,c=a.sealPicW,l=a.sealPicH,u=a.sealId,f=a.certSn,d={};d.img=s,d.type="2",d.seal=o,d.sealId=u,d.idCard=e,d.sealPicW=c,d.sealPicH=l,d.vs="4",d.certSn=f;var p=JSON.stringify(d);i(t,p)}else i(t,n)})):(r._mask_end(),i(n,a))}))}},{key:"qr_seal",value:function(e,t){var n=this;this._mask_begin();var i={};i.val=e,this.qrcodeServer.qrcode(i,t,(function(e,i){n._mask_end(),e?n.dialog.qrcode(i):t(e,i)}))}},{key:"key_seal",value:function(e,t){var n=this;this._mask_begin(),h.htmlSignSeal("1",e,null,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),a=r.sealPic,s=r.signStamp,o=r.sealPicW,c=r.sealPicH,l=r.sealId,u=r.certSn,f=r.txt,d={};d.img=a,d.type="1",d.seal=s,d.sealId=l,d.sealPicW=o,d.sealPicH=c,d.vs="4",d.certSn=u,g.isEmpty(f)||(d.txt=f);var p=JSON.stringify(d);t(e,p)}else t(e,i)}))}},{key:"key_seal_more",value:function(e,t){var n=this;this._mask_begin();for(var i=null,r=null,a=Promise.resolve(),s=function(t){var s=e[t];a=a.then((function(e){return new Promise((function(t,a){if(null==r)h.htmlSignSeal("1",s,null,(function(e,n){if(e){var s=JSON.parse(n),o=s.sealPic,c=s.signStamp,l=s.sealPicW,u=s.sealPicH,f=s.sealId,d=s.certSn,p=s.dataJson,v=s.txt,h={};h.img=o,h.type="1",h.seal=c,h.sealId=f,h.sealPicW=l,h.sealPicH=u,h.vs="4",h.certSn=d,g.isEmpty(v)||(h.txt=v,p.txt=v);var y=JSON.stringify(h),m=[];m.push(y),i=p,r=p.sealData,t(m)}else a(n)}));else{var o={};o.sealData=r;var c=n.base64.decode(s),l=i.txt;g.isEmpty(l)||(c+=l),s=n.base64.encode(c),h.keySignSeal(s,"0","2",o,(function(n,r){if(n){var s=JSON.parse(r),o={};o.img=i.sealPic,o.type="1",o.seal=s.signStamp,o.sealId=s.GUID,o.sealPicW=parseInt(i.sealPicH/25.4*72),o.sealPicH=parseInt(i.sealPicW/25.4*72),o.vs="4",o.certSn=s.certSn,g.isEmpty(l)||(o.txt=l);var c=JSON.stringify(o);e.push(c),t(e)}else a(r)}))}}))}))},o=0;o<e.length;o++)s(o);a.then((function(e){n._mask_end(),t(!0,e)})).catch((function(e){n._mask_end(),n.pub.isType(e,"string")?t(!1,e):(console.error(e),t(!1,"批量盖章出现异常"))}))}},{key:"key_enc",value:function(e,t,n){var i=this;if(g.isEmpty(e))t(!1,"加密数据为空");else{var r={},a=this.base64.encode(e);r.value=a,r.alg=n||"0x00000401",this._mask_begin(),h.key_enc(r,(function(e,n){if(i._mask_end(),e){var r=JSON.parse(n);t(!0,r.strEncDataB64)}else t(e,n)}))}}},{key:"key_dec",value:function(e,t){var n=this;if(g.isEmpty(e))t(!1,"解密数据为空");else{this._mask_begin();var i={};i.value=e,h.key_dec(i,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),a=n.base64.decode(r.strSrcDataB64);t(!0,a)}else t(e,i)}))}}},{key:"qr_enc",value:function(e,t){var n=this;g.isEmpty(e)?t(!1,"加密数据为空"):(this._mask_begin(),this.qrcodeServer.qrEnc(e,t,(function(e,i){n._mask_end(),e?n.dialog.qrcode(i):t(e,i)})))}},{key:"qr_dec",value:function(e,t){var n=this;g.isEmpty(e)?t(!1,"加密数据为空"):(this._mask_begin(),this.qrcodeServer.qrDec(e,t,(function(e,i){n._mask_end(),e?n.dialog.qrcode(i):t(e,i)})))}},{key:"key_cert",value:function(e){var t=this;this._mask_begin(),h.key_seal_list("0",(function(n,i){t._mask_end(),e(!!n||n,i)}))}},{key:"key_device_id",value:function(e){var t=this;this._mask_begin(),h.key_device_id((function(n,i){t._mask_end(),e(!!n||n,i)}))}},{key:"cm_pc_info",value:function(e){var t=this;this._mask_begin(),h.cm_pc_info((function(n,i){t._mask_end(),e(!!n||n,i)}))}},{key:"getVs",value:function(){return"3.0.0"}},{key:"loadSeals",value:function(e,t){var n=this,i=[];if(e instanceof Array)for(var r in e){var a=e[r],s=document.getElementById(a.signatureId);if(null!=s){this._initBind(s);var o,c=a.signatureData;o=g.isType(c,"string")?c:JSON.stringify(c),s.setAttribute("value",o),i.push(s)}}else for(var l in e){var u=document.getElementById(l);if(null!=u){this._initBind(u);var f,d=e[l];f=g.isType(d,"string")?d:JSON.stringify(d),u.setAttribute("value",f),i.push(u)}}setTimeout((function(){if("undefined"==typeof MutationObserver){for(var e=0;e<i.length;e++){var r=i[e];r.addEventListener&&!window.XDomainRequest&&n._bindSelect(r)}setTimeout((function(){n._initCheck(i,null),t&&t()}),100)}else n._initCheck(i,null),t&&t()}),100)}},{key:"loadMoreSeals",value:function(e,t){var n=this,i=[];if(e instanceof Array)for(var r in e){var a=e[r],s=document.getElementById(a.signatureId);if(null!=s){this._initBind(s);var o,c=a.signatureData;o=g.isType(c,"string")?c:JSON.stringify(c),s.setAttribute("value",o),i.push(s)}}else for(var l in e){var u=document.getElementById(l);if(null!=u){this._initBind(u);var f,d=e[l];f=g.isType(d,"string")?d:JSON.stringify(d),u.setAttribute("value",f),i.push(u)}}setTimeout((function(){for(var e=[],r=0;r<i.length;r++){var a=i[r];a.setAttribute("delValue","");for(var s=a.getElementsByTagName("div"),o=0;o<s.length;o++)g.isEmpty(s[o].getAttribute("value"))||e.push(s[o])}if("undefined"==typeof MutationObserver){for(var c=0;c<i.length;c++){var l=i[c];l.addEventListener&&!window.XDomainRequest&&n._bindSelect(l)}setTimeout((function(){n._initCheck(e,null),t&&t()}),100)}else n._initCheck(e,null),t&&t()}),100)}},{key:"zjCloudSeal",value:function(e,t,n,i,r){var a=this,s="";n.forEach((function(e){s+=document.getElementById(e).getAttribute("value")}));var o=document.getElementById(t),c=t;this._initBind(o),s=this.base64.encode(s),o.setAttribute("digest",s),this.zjcloud_seal(e,s,i,(function(e,t){if(e){var i={},s=JSON.parse(t);s.valArr=n,s.posId=c;var o=s.sealId,l=s.certSn;i.sealData=s,i.sealId=o,i.certSn=l,a.callVal.data0000(r,i)}else a.callVal.data0001(r,t)}))}},{key:"qrSeal",value:function(e,t,n){var i=this,r="";t.forEach((function(e){r+=document.getElementById(e).getAttribute("value")}));var a=document.getElementById(e),s=e;this._initBind(a),r=this.base64.encode(r),a.setAttribute("digest",r),this.qr_seal(r,(function(e,r){if(e){var a={},o=JSON.parse(r);o.valArr=t,o.posId=s;var c=o.sealId,l=o.certSn;a.sealData=o,a.sealId=c,a.certSn=l,i.callVal.data0000(n,a)}else i.callVal.data0001(n,r)}))}},{key:"keySeal",value:function(e,t,n){var i=this,r="";t.forEach((function(e){r+=document.getElementById(e).getAttribute("value")}));var a=document.getElementById(e),s=e;this._initBind(a),r=this.base64.encode(r),a.setAttribute("digest",r),this.key_seal(r,(function(e,r){if(e){var a={},o=JSON.parse(r);o.valArr=t,o.posId=s;var c=o.sealId,l=o.certSn;a.sealData=o,a.sealId=c,a.certSn=l,i.callVal.data0000(n,a)}else i.callVal.data0001(n,r)}))}},{key:"keySealMore",value:function(e,t){for(var n=this,i=[],r=[],a=[],s=0;s<e.length;s++){var o=e[s],c=o.posId,l=o.valArr;i.push(c),r.push(l);var u="";l.forEach((function(e){u+=document.getElementById(e).getAttribute("value")}));var f=document.getElementById(c);this._initBind(f),u=this.base64.encode(u),f.setAttribute("digest",u),a.push(u)}this.key_seal_more(a,(function(e,a){if(e){for(var s=[],o=0;o<a.length;o++){var c=a[o],l={},u=JSON.parse(c);u.valArr=r[o],u.posId=i[o];var f=u.sealId,d=u.certSn;l.sealData=u,l.sealId=f,l.certSn=d,s.push(l)}var p={};p.array=s,n.callVal.data0000(t,p)}else n.callVal.data0001(t,a)}))}},{key:"sealHtml",value:function(e,t){var n=this,i=g.convertJson(e);if(null!=i){var r=i.sealId,a=g.convertJson(i.valArr),s=i.idCard,o=g.convertJson(i.type);if(g.isEmpty(r)||null==a||null==o)this.callVal.data0001(t,"数据格式有误");else if(1!=o.length){var c="";a.forEach((function(e){c+=document.getElementById(e).getAttribute("value")}));var l=document.getElementById(r),u=r;this._initBind(l),c=this.base64.encode(c),l.setAttribute("digest",c),this._mask_begin(),i.val=c,i.loginType="1",this.loginDialog.allLogin(i,(function(e,i){if(e){var r=i.type;if("1"==r)h.htmlSignSeal("1",c,null,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),s=r.sealPic,o=r.signStamp,c=r.sealPicW,l=r.sealPicH,f=r.sealId,d=r.certSn,p=r.txt,v={};v.img=s,v.type="1",v.seal=o,v.sealId=f,v.sealPicW=c,v.sealPicH=l,v.vs="4",v.posId=u,v.certSn=d,g.isEmpty(p)||(v.txt=p);var h={};v.valArr=a,h.sealData=v,h.sealId=f,h.certSn=d,n.callVal.data0000(t,h)}else t(e,i)}));else if("2"==r){var o=i.token;h.htmlSignSeal("2",c,o,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),o=r.sealPic,c=r.signStamp,l=r.sealPicW,f=r.sealPicH,d=r.sealId,p=r.certSn,v={};v.img=o,v.type="2",v.seal=c,v.sealId=d,v.idCard=s,v.sealPicW=l,v.sealPicH=f,v.vs="4",v.posId=u,v.certSn=p;var g={};v.valArr=a,g.sealData=v,g.sealId=d,g.certSn=p,n.callVal.data0000(t,g)}else n.callVal.data0001(t,i)}))}else if("3"==r){n._mask_end();var l={},f=i.data;f.valArr=a,f.posId=u;var d=f.sealId,p=f.certSn;l.sealData=f,l.sealId=d,l.certSn=p,n.callVal.data0000(t,l)}else n._mask_end(),n.callVal.data0001(t,"未知的类型")}else n._mask_end(),n.callVal.data0001(t,i)}))}else{var f=o[0];"1"==f?this.keySeal(r,a,t):"2"==f?this.zjCloudSeal(s,r,a,!1,t):"3"==f?this.qrSeal(r,a,t):this.callVal.data0001(t,"未知的类型")}}else this.callVal.data0001(t,"数据格式有误")}},{key:"encHtml",value:function(e,t){var n=this,i=g.convertJson(e);if(null!=i){var r=i.val,a=g.convertJson(i.type);if(g.isEmpty(r)||null==a)this.callVal.data0001(t,"数据格式有误");else if(1!=a.length)a.indexOf("2")>=0||a.indexOf(2)>=0?this.callVal.data0001(t,"人脸认证不支持加密"):(this._mask_begin(),i.val=r,i.loginType="2",this.loginDialog.allLogin(i,(function(e,i){if(e){var a=i.type;if("1"==a){var s={},o=n.base64.encode(r);s.value=o,s.alg="0x00000401",h.key_enc(s,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),a={};a.encData=r.strEncDataB64,n.callVal.data0000(t,a)}else n.callVal.data0001(t,i)}))}else if("3"==a){n._mask_end();var c=i.data,l={};l.encData=c,n.callVal.data0000(t,l)}else n._mask_end(),n.callVal.data0001(t,"未知的类型")}else n._mask_end(),n.callVal.data0001(t,i)})));else{var s=a[0];"1"==s?this.keyEnc(r,t):"2"==s?this.callVal.data0001(t,"人脸认证不支持加密"):"3"==s?this.qrEnc(r,t):this.callVal.data0001(t,"未知的类型")}}else this.callVal.data0001(t,"数据格式有误")}},{key:"snHtml",value:function(e,t){var n=this,i=g.convertJson(e);if(null!=i){var r=g.convertJson(i.type);if(null!=r)if(1!=r.length)r.indexOf("2")>=0||r.indexOf(2)>=0?this.callVal.data0001(t,"该方式不支持人脸认证"):(this._mask_begin(),i.val="111",i.loginType="3",this.loginDialog.allLogin(i,(function(e,i){if(e){var r=i.type;if("1"==r){var a=n.base64.encode("111");h.keySign(a,(function(e,i){if(e){var r=JSON.parse(i);h.cmCertInfo("|2|",r.cert,(function(e,i){n._mask_end(),e?(r.certSn=i.certSN,n.callVal.data0000(t,r)):n.callVal.data0001(t,i)}))}else n._mask_end(),n.callVal.data0001(t,i)}))}else if("3"==r){n._mask_end();var s=i.data;n.callVal.data0000(t,s)}else n._mask_end(),n.callVal.data0001(t,"未知的类型")}else n._mask_end(),n.callVal.data0001(t,i)})));else{var a=r[0];"1"==a?this.keySign("111",t):"2"==a?this.callVal.data0001(t,"该方式不支持人脸认证"):"3"==a?this.qrSign("111",t):this.callVal.data0001(t,"未知的类型")}else this.callVal.data0001(t,"数据格式有误")}else this.callVal.data0001(t,"数据格式有误")}},{key:"keyEnc",value:function(e,t,n){var i=this;if(g.isEmpty(e))this.callVal.data0001(t,"加密数据为空");else{var r={},a=this.base64.encode(e);r.value=a,r.alg=n||"0x00000401",this._mask_begin(),h.key_enc(r,(function(e,n){if(i._mask_end(),e){var r=JSON.parse(n),a={};a.encRsKey=r.strEncDataB64,i.callVal.data0000(t,a)}else i.callVal.data0001(t,n)}))}}},{key:"keyEncMore",value:function(e,t){var n=this,i=g.convertJson(e);if(null!=i){var r=i.value,a=i.alg,s=i.certArr;if(g.isEmpty(r))this.callVal.dataParamError(t);else{var o={},c=this.base64.encode(r);o.value=c,o.alg=a||"0x00000401";try{var l="";!g.isEmpty(s)&&s.length>0&&(s.forEach((function(e){l+=e+"|"})),l=l.substring(0,l.length-1),o.cert=l)}catch(e){return kinsecLog.error(e),void this.callVal.data0001(t,"证书数据格式有误")}this._mask_begin(),h.key_enc_more(o,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),a={};a.encRsKey=r.strEncDataB64,n.callVal.data0000(t,a)}else n.callVal.data0001(t,i)}))}}else this.callVal.dataParamFormatError(t)}},{key:"keyDec",value:function(e,t){var n=this;if(g.isEmpty(e))this.callVal.data0001(t,"解密数据为空");else{this._mask_begin();var i={};i.value=e,h.key_dec(i,(function(e,i){if(n._mask_end(),e){var r=JSON.parse(i),a=n.base64.decode(r.strSrcDataB64),s={};s.rsKey=a,n.callVal.data0000(t,s)}else n.callVal.data0001(t,i)}))}}},{key:"qrEnc",value:function(e,t){var n=this;g.isEmpty(e)?this.callVal.data0001(t,"加密数据为空"):(this._mask_begin(),this.qrcodeServer.qrEnc(e,(function(e,i){if(e){var r={};r.encReachKey=i,n.callVal.data0000(t,r)}else n.callVal.data0001(t,i)}),(function(e,i){n._mask_end(),e?n.dialog.qrcode(i):n.callVal.data0001(t,i)})))}},{key:"qrDec",value:function(e,t){var n=this;g.isEmpty(e)?this.callVal.data0001(t,"解密数据为空"):(this._mask_begin(),this.qrcodeServer.qrDec(e,(function(e,i){if(e){var r={};r.symKey=i,n.callVal.data0000(t,r)}else n.callVal.data0001(t,i)}),(function(e,i){n._mask_end(),e?n.dialog.qrcode(i):n.callVal.data0001(t,i)})))}},{key:"keyCert",value:function(e){var t=this;this._mask_begin(),h.key_seal_list("0",(function(n,i){if(t._mask_end(),n){var r=JSON.parse(i),a={};a.keySn=r.certSN,a.certBase64=r.certData,t.callVal.data0000(e,a)}else t.callVal.data0001(e,i)}))}},{key:"getCertInfos",value:function(e,t,n){var i=this;this._mask_begin(),h.cmCertInfo(e,t,(function(e,t){if(i._mask_end(),e){var r=t;i.callVal.data0000(n,r)}else i.callVal.data0001(n,t)}))}},{key:"keyDeviceId",value:function(e){var t=this;this._mask_begin(),h.key_device_id((function(n,i){if(t._mask_end(),n){var r={};r.deviceId=i,t.callVal.data0000(e,r)}else t.callVal.data0001(e,i)}))}},{key:"cmPcInfo",value:function(e){var t=this;this._mask_begin(),h.cm_pc_info((function(n,i){t._mask_end(),n?t.callVal.data0000(e,JSON.parse(i)):t.callVal.data0001(e,i)}))}},{key:"getVersion",value:function(e){var t=this;this._mask_begin(),h.getVersions((function(n,i){t._mask_end(),n?t.callVal.data0000(e,JSON.parse(i)):t.callVal.data0001(e,i)}))}},{key:"getKeyCert",value:function(e,t){var n=this,i=g.convertJson(e);if(null!=i){var r=i.certType;g.isEmpty(r)?this.callVal.dataParamError(t):(this._mask_begin(),h.getKeyCert(i,(function(e,i){n._mask_end(),e?n.callVal.data0000(t,JSON.parse(i)):n.callVal.data0001(t,i)})))}else this.callVal.dataParamFormatError(t)}},{key:"keyLoginPwd",value:function(e,t){var n=this,i=g.convertJson(e);if(null!=i){var r=i.certData,a=i.pwd;g.isEmpty(r)||g.isEmpty(a)?this.callVal.dataParamError(t):(i.certType="sign",this._mask_begin(),h.keyLoginPwd(i,(function(e,i){n._mask_end(),e?n.callVal.data0000(t,i):n.callVal.data0001(t,i)})))}else this.callVal.dataParamFormatError(t)}},{key:"zjCloudSign",value:function(e,t,n){var i=this,r=this.base64.encode(t);y.htjc_login(e,r,(function(e,t){if(e){var r=JSON.parse(t);i._mask_begin(),h.cmCertInfo("|2|",r.cert,(function(e,t){i._mask_end(),e?(r.certSn=t.certSN,i.callVal.data0000(n,r)):i.callVal.data0001(n,t)}))}else t.indexOf("认证异常")>=0&&(t="认证错误过多，无法继续认证"),i.callVal.data0001(n,t)}))}},{key:"keySign",value:function(e,t){var n=this;this._mask_begin();var i=this.base64.encode(e);h.keySign(i,(function(e,i){if(e){var r=JSON.parse(i);h.cmCertInfo("|2|",r.cert,(function(e,i){n._mask_end(),e?(r.certSn=i.certSN,n.callVal.data0000(t,r)):n.callVal.data0001(t,i)}))}else n._mask_end(),n.callVal.data0001(t,i)}))}},{key:"qrSign",value:function(e,t){var n=this;this._mask_begin(),this.qrcodeServer.qrSign(e,(function(e,i){e?n.callVal.data0000(t,JSON.parse(i)):n.callVal.data0001(t,i)}),(function(e,i){n._mask_end(),e?n.dialog.qrcode(i):n.callVal.data0001(t,i)}))}},{key:"keySn",value:function(e){var t=this;this._mask_begin(),h.getKeySn((function(n,i){if(t._mask_end(),n){var r=i;t.callVal.data0000(e,r)}else t.callVal.data0001(e,i)}))}},{key:"verify",value:function(){for(var e=[],t=this.seals.length,n=0;n<t;n++){var i=this.seals[n];if(""!=i.innerHTML){var r=i.getAttribute("value");if(!this.pub.isEmpty(r)){var a={},s=[],o=this.pub.convertJson(r);o instanceof Array?s=o:s.push(JSON.stringify(o));for(var c=0;c<s.length;c++){var l=s[c],u=this.pub.convertJson(l),f=(u.type,u.seal,u.valArr),d=u.sealId,p=u.posId;if(this.pub.isEmpty(p)||document.getElementById(p)){if(!this.pub.isEmpty(f)&&f.length>0){var v=!1;if(f.forEach((function(e){try{document.getElementById(e).getAttribute("value")}catch(t){console.error("保护数据id不存在--"+e+"--",t),v=!0}})),v){a.signatureid=d,a.signatureData=l,a.modifiedItems=f,e.push(a);continue}}var g=i.getElementsByTagName("div");o instanceof Array==0&&(g=[i]);for(var h=0;h<g.length;h++){var y=g[h],m=y.getAttribute("value"),k=y.getElementsByTagName("canvas")[0];if(k&&m){if(JSON.parse(m).sealId!=d)continue;if("2"==k.getAttribute("state")){for(var _=!1,b=0;b<e.length;b++)if(e[b].signatureid==d){_=!0;break}if(_)continue;a.signatureid=d,a.signatureData=l,a.modifiedItems=f,e.push(a)}}}}}}}}return e}},{key:"show",value:function(){var e=this;this.seals.forEach((function(t){e.pub.isEmpty(t)||(t.style.visibility="visible")}))}},{key:"hide",value:function(){var e=this;this.seals.forEach((function(t){e.pub.isEmpty(t)||(t.style.visibility="hidden")}))}},{key:"getSealName",value:function(e){var t=this;this._mask_begin(),h.getSealName((function(n,i){if(t._mask_end(),n){var r=i;t.callVal.data0000(e,r)}else t.callVal.data0001(e,i)}))}}])&&v(t.prototype,n),e}();t.htmlSeal=m},3279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncApi=void 0;var i=n(3498);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.configValue=new i.configValue}var t,n;return t=e,(n=[{key:"cb0000",value:function(e,t){var n={code:"0000",msg:"操作成功"};return t&&(n.msg=t),n.data=e,JSON.stringify(n)}},{key:"cb0001",value:function(e){var t={code:"0001"};return t.msg=e,JSON.stringify(t)}},{key:"ajax",value:function(e,t,n){$.ajax({url:"http://127.0.0.1:31220",data:e,type:"post",dataType:"json",async:t,success:function(e){n(e)},error:function(e){var t={};t.PluginResponse=this.configValue.httpSoftError,n(t)}})}},{key:"keyCert",value:function(){var e=this,t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="NoLoginGetFirstCert";var n,i=JSON.stringify(t);return this.ajax(i,!1,(function(t){if("SUCCESS"==t.PluginResponse){var i=JSON.parse(t.PluginResponseValue),r={};r.certBase64=i.certData,r.keySn=i.certSN,n=e.cb0000(r)}else n=e.cb0001(t.PluginResponse)})),n}},{key:"getCertInfos",value:function(e,t){var n=this,i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="GetCertInfo",i.certData=t,this.pub.isEmpty(e)||(i.strDataType=e);var r,a=JSON.stringify(i);return this.ajax(a,!1,(function(e){if("SUCCESS"==e.PluginResponse){var t=JSON.parse(e.PluginResponseValue);r=n.cb0000(t)}else r=n.cb0001(e.PluginResponse)})),r}}])&&r(t.prototype,n),e}();t.syncApi=a},1468:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(4917),n(3299),n(1636),Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}var t,n;return t=e,(n=[{key:"encode",value:function(e){var t,n,i,r,a,s,o,c="",l=0;for(e=this._utf8_encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,a=(3&t)<<4|(n=e.charCodeAt(l++))>>4,s=(15&n)<<2|(i=e.charCodeAt(l++))>>6,o=63&i,isNaN(n)?s=o=64:isNaN(i)&&(o=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(o);return c}},{key:"decode",value:function(e){var t,n,i,r,a,s,o="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(r=this._keyStr.indexOf(e.charAt(c++)))>>4,n=(15&r)<<4|(a=this._keyStr.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(s=this._keyStr.indexOf(e.charAt(c++))),o+=String.fromCharCode(t),64!=a&&(o+=String.fromCharCode(n)),64!=s&&(o+=String.fromCharCode(i));return this._utf8_decode(o)}},{key:"_utf8_encode",value:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}},{key:"_utf8_decode",value:function(e){for(var t="",n=0,i=0,r=0,a=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&a),n+=3);return t}}])&&i(t.prototype,n),e}();t.base64=r},2935:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.callVal=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"code0000",value:function(e,t){e("0000","操作成功",t)}},{key:"codeErr",value:function(e,t,n){e(t,n,null)}},{key:"code0001",value:function(e,t){e("0001",t,null)}},{key:"code0002",value:function(e){e("0002","系统异常",null)}},{key:"code0003",value:function(e){e("0003","请先登录",null)}},{key:"codeParamError",value:function(e){e("0001","参数有误",null)}},{key:"data0000",value:function(e,t){var n={code:"0000",msg:"操作成功"};n.data=t,e(JSON.stringify(n))}},{key:"data0001",value:function(e,t){var n={code:"0001"};n.msg=t,e(JSON.stringify(n))}},{key:"data0002",value:function(e){e(JSON.stringify({code:"0002",msg:"系统异常"}))}},{key:"data0003",value:function(e){e(JSON.stringify({code:"0003",msg:"请先登录"}))}},{key:"dataParamError",value:function(e){e(JSON.stringify({code:"0001",msg:"参数有误"}))}},{key:"dataParamFormatError",value:function(e){e(JSON.stringify({code:"0001",msg:"参数格式有误"}))}},{key:"str0000",value:function(e){var t={code:"0000",msg:"操作成功"};return t.data=e,JSON.stringify(t)}},{key:"str0001",value:function(e){var t={code:"0001"};return t.msg=e,JSON.stringify(t)}},{key:"str0001Err",value:function(){return JSON.stringify({code:"0001",msg:"参数有误"})}},{key:"str0000Succ",value:function(){return JSON.stringify({code:"0000",msg:"操作成功"})}}])&&n(t.prototype,i),e}();t.callVal=i},3498:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configValue=void 0,t.configValue=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpSoftError="请求失败，请确认是否有安装统一安全认证客户端"}},7603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=void 0,t.constants=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cloudSignPushWs="ws://seal.fjdzyz.com:2022/",this.cloudSignPushWss="wss://seal.fjdzyz.com:2122/"}},7013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataUtils=void 0;var i=n(8543);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=new i.pubClass}var t,n;return t=e,(n=[{key:"getSignTypeName",value:function(e){var t="未知类型";return"1"==(e+="")?t="介质签章":"2"==e?t="人脸云签章":"3"==e?t="扫码云签章":"4"==e?t="短信云签章":"5"==e?t="服务云签章":"6"==e&&(t="手机盾签章"),t}},{key:"getYzMgs",value:function(e,t){var n=[],i=this.getSignTypeName(t);return n.push(["签章类型：",i]),e.signer_alg&&n.push(["签名算法：",e.signer_alg]),n.push(["签章时间：",e.signtime]),n.push(["证书名称：",e.signername]),e.signer_sn&&n.push(["证书SN：",e.signer_sn]),e.signer_notbefore&&n.push(["证书起始：",e.signer_notbefore]),e.signer_notafter&&n.push(["证书结束：",e.signer_notafter]),e.stamp_name&&n.push(["印章名称：",e.stamp_name]),e.stamp_id&&n.push(["印章ID：",e.stamp_id]),n.push(["印章起始：",e.stamp_starttime]),n.push(["印章结束：",e.stamp_endtime]),this.pub.isEmpty(e.timestamp)||n.push(["签章时间戳：",e.timestamp]),n}}])&&r(t.prototype,n),e}();t.dataUtils=a},833:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(6209),n(3299),n(1206),n(1636),Object.defineProperty(t,"__esModule",{value:!0}),t.dateUtils=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"currentTime2String",value:function(e){var t=new Date,n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e}}])&&i(t.prototype,n),e}();t.dateUtils=r},1813:function(e,t,n){"use strict";n(8847),n(9251),n(3299),n(7741),n(1491),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.dialog=void 0;var i=n(833),r=n(7135);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.loginDialog=null,this.path="",this.dateUtils=new i.dateUtils,this.imageUtils=new r.imageUtils,this.isShow=!1,this.isCall=!1,this.bodyDiv=null,this.titleSpan=null}var t,n;return t=e,(n=[{key:"setLoginDialog",value:function(e){this.loginDialog=e}},{key:"setPath",value:function(e){this.path=e}},{key:"open",value:function(e,t,n,i,r){var a=this;this.isShow&&this.close(!1),this.isShow=!0,this.isCall=!1;var s=document.createElement("div");s.setAttribute("id","kinsec_msg__wrap_id"),s.setAttribute("class","kinsec_dialog");var o=document.createElement("div");o.setAttribute("class","kinsec_dialog_header kinsec-flex-r");var c=document.createElement("div");c.setAttribute("class","kinsec_dialog_header-title"),c.innerHTML=e,this.titleSpan=c;var l=document.createElement("div");l.setAttribute("class","kinsec-flex-r kinsec_dialog_header-close");var u=document.createElement("img");u.setAttribute("class","kinsec-img-close"),u.src=this.path+"assets/img/guanbi.png",l.appendChild(u),o.appendChild(c),o.appendChild(l);var f=document.createElement("div");this.bodyDiv=f,f.setAttribute("class","kinsec_dialog_content"),"请选择印章"==e&&(f.style.padding="0px"),f.innerHTML=t;var d=document.createElement("div");d.setAttribute("class","kinsec_msg__overlay"),this.wrap=s,this.overlay=d,u.addEventListener("click",(function(e){a.close(!1),a.pub.isType(n,"function")&&n(!1,"取消操作")})),s.appendChild(o),s.appendChild(f),document.body.appendChild(s),document.body.appendChild(d),setTimeout((function(){var e=1;if(r)for(var t=r,n=document.documentElement.clientWidth;n&&n<r+20;)r=t*(e-=.1);if(i)for(var a=i*e,o=document.documentElement.clientHeight;o&&o<i+20;)i=a*(e-=.1);s.style.transform="translate(-50%,-50%) scale("+e+","+e+")",d.style.opacity="1"}),100)}},{key:"close",value:function(e){this.wrap.remove(),this.overlay.remove(),this.isShow=!1,this.isCall=e,this.pub.isEmpty(this.kinsec_sett)||window.clearInterval(this.kinsec_sett),this.pub.isEmpty(this.recorder)||"recording"!=this.recorder.state||this.recorder.stop(),this.pub.isEmpty(this.stream)||this.stream.getTracks().forEach((function(e){e.stop()}))}},{key:"closeAll",value:function(){try{this.isShow&&this.close(),null!=this.loginDialog&&this.loginDialog.isShow&&this.loginDialog.close()}catch(e){kinsecLog.error(e)}}},{key:"video",value:function(e,t){var n=this;try{navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia?this.getUserMedia({audio:!1,video:!0},(function(i){n.pub.isEmpty(n.stream)||n.stream.getTracks().forEach((function(e){e.stop()})),n.stream=i;var r=2,a=document.getElementById("kinsec_video");a.srcObject=i,a.play(),e&&(n.recorder=new MediaRecorder(i,{videoBitsPerSecond:8e5,mimeType:"video/webm;codecs=vp8"}),n.recorder.ondataavailable=function(e){var i=e.data,r=new FileReader;r.onload=function(e){null==n.kinsec_sett&&t(r.result)},r.readAsDataURL(i)},n.recorder.start(),e.disabled=!0,e.innerHTML="停止录制倒计时3",n.kinsec_sett=window.setInterval((function(){e.innerHTML="停止录制倒计时"+r,0==r&&(e.disabled=!1,e.innerHTML="开始录制",r=2,window.clearInterval(n.kinsec_sett),n.kinsec_sett=null,a.pause(),n.recorder.stop(),i.getTracks().forEach((function(e){e.stop()}))),r--}),1e3))}),(function(e){console.error(e),alert("访问媒体设备失败："+e.message+",请使用谷歌浏览器或者火狐浏览器,并允许打开摄像头")})):(alert("不支持访问用户媒体,请使用谷歌浏览器或者火狐浏览器"),this.close(!0))}catch(e){kinsecLog.error(e),alert("不支持访问用户媒体"),this.close(!0)}}},{key:"getUserMedia",value:function(e,t,n){navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t).catch(n):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,t,n):navigator.mozGetUserMedia?navigator.mozGetUserMedia(e,t,n):navigator.getUserMedia&&navigator.getUserMedia(e,t,n)}},{key:"htjc",value:function(e){var t=this;this.open("实人认证",'<div class="kinsec-flex-r"><div class="kinse-content-text1">请在对应框中开始录制</div></div><div class="kinsec_video_content"><div class="prompt"><div style="width: 200px; height: 200px; border-radius: 50%; margin: auto; overflow: hidden;"><video  width="270" height="200"  class="kinsec_video_videoel1" id="kinsec_video"></video></div><div style="padding: 30px 30px;"><button id="kinsec_video_lz" class="kinse-btn-confirm" style="width:200px;" >开始录制</button></div></div></div>');var n=document.getElementById("kinsec_video_lz");n.addEventListener("click",(function(i){t.video(n,(function(n){t.close(!0),e(n.split("base64,")[1])}))})),this.video()}},{key:"pwd",value:function(e){var t=this;this.open("请输入口令",'<div class="kinsec-flex-r"><div class="kinse-pwd-text">口令:</div><input type="password" id="kinsec_pwd_val" placeholder="请输入口令"  class="kinsec-pwd-input"/></div><div id="kinsec_msg_error" class="kinsec-msg-error"></div><div class="kinse-footer kinsec-flex-r"><button id="kinsec_pwd_cancel" class="kinse-btn-cancel">取 消</button><button id="kinsec_pwd_sub" class="kinse-btn-confirm" style="margin-left:50px">确 定</button></div>');var n=document.getElementById("kinsec_pwd_sub");kinsecLog.log(n);var i=document.getElementById("kinsec_pwd_cancel");n.addEventListener("click",(function(n){var i=document.getElementById("kinsec_pwd_val").value;t.pub.isEmpty(i)?document.getElementById("kinsec_msg_error").innerHTML="请输入口令":(document.getElementById("kinsec_msg_error").innerHTML="",t.close(!0),e(i))})),i.addEventListener("click",(function(e){t.close(!1)})),document.getElementById("kinsec_pwd_val").focus()}},{key:"yzMes",value:function(e){kinsecLog.log(e);var t='<div class="kinsec-flex-c" style="padding-bottom:20px;">';e.forEach((function(e){t+='<div class="kinsec-flex-r" style="margin-bottom:10px; align-items: flex-start;"><div class="kinsec_msg_mes_text">'+e[0]+'</div><div class="kinsec_msg_mes_text2">'+e[1]+"</div></div>"})),t+="</div>",this.open("验证信息",t,null,452,466)}},{key:"mes",value:function(e,t){var n=this,i="错误信息",r=this.path+"assets/img/icon-red-close.png",a="";"2"==t?(i="正确信息",r=this.path+"assets/img/icon-z-mes.png"):"3"==t?(i="警告信息",r=this.path+"assets/img/icon-j-mes.png"):"4"==t&&(i="提示信息",r="",a='style="display:none"');var s='<div class="kinsec-flex-r" ><img '+a+' src="'+r+'" class="kinse-error-img" /><div class="kinse-content-bg-text"><div class="kinse-content-text">'+e+'</div></div></div><div class="kinse-footer kinsec-flex-r"><button id="kinsec_mes_bb" class="kinse-btn-confirm">确  定</button></div>';this.open(i,s,null,168,400),document.getElementById("kinsec_mes_bb").addEventListener("click",(function(e){n.close(!1)}))}},{key:"qrcode",value:function(e){this.open("请扫描二维码",'<div class="kinsec-flex-r kinsec-qrscan" ><div id="kinsec_dialog_qrcode" style="width:200px; height:200px;"><div></div>');var t=document.getElementById("kinsec_dialog_qrcode");new QRCode(t,{width:200,height:200}).makeCode(e)}},{key:"keyLogin",value:function(e,t){var n=this;this.open("请输入口令",'</div><div class="kinsec-flex-r"><div class="kinse-pwd-text">证书名称:</div><select id="kinsec_key_login_select" ></select></div><div class="kinsec-flex-r" style="margin-top:20px;"><div class="kinse-pwd-text">证书口令:</div><input type="password" id="kinsec_key_login_pwd" placeholder="请输入证书口令"  class="kinsec-pwd-input"/></div><div id="kinsec_key_login_msg_error" class="kinsec-msg-error"></div><div class="kinse-footer kinsec-flex-r"><button id="kinsec_key_login_cancel" class="kinse-btn-cancel">取 消</button><button id="kinsec_key_login_sub" class="kinse-btn-confirm" style="margin-left:50px">确 定</button></div>');var i=document.getElementById("kinsec_key_login_sub"),r=document.getElementById("kinsec_key_login_cancel"),a=document.getElementById("kinsec_key_login_select"),s=document.getElementById("kinsec_key_login_pwd");e.forEach((function(e){var t=document.createElement("option");t.setAttribute("value",e.id),t.innerHTML=e.name,a.appendChild(t)})),a.onmouseover=function(){s.blur()},a.onmouseout=function(){s.focus()},i.addEventListener("click",(function(e){var i=document.getElementById("kinsec_key_login_pwd").value,r=a.value;n.pub.isEmpty(i)?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入口令":i.length<4||i.length>16?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入4到16位的口令":(document.getElementById("kinsec_key_login_msg_error").innerHTML="",n.close(!0),t(r,i))})),r.addEventListener("click",(function(e){n.close(!1)})),s.focus()}},{key:"keySealList",value:function(e,t,n,i){var r=this,a=0;n&&(a=n.inx);var s="",o="",c="";i&&(i.addTxt&&i.addQf?s='style="display: none;"':(i.addTxt&&(o='style="display: none;"'),i.addQf&&(c='style="display: none;"')));for(var l=e[a].sealPic,u=(e[a].issuename,e[a].stamp_starttime),f=e[a].stamp_endtime,d=e[a].sealName,p='<div class="kinsec-flex-c"><div class="kinsec_dialog_header1"><div class="kkinsec_dialog_header-title1">印章列表</div></div><div class="kinsec-flex-r" style="justify-content: flex-start;"><div class="kinsec-flex-c" style="max-width:450px;"><div class="kinse-seal-list kinsec-flex-r">',v=0;v<e.length;v++){var g=e[v];p+='<div class="kinsec_seal_img-text-bgView" ><div inx="'+v+'" class="kinsec-seal-bgView kinsec-flex-c kinsec-no-active" style="justify-content: center;align-items: center;"><img src="data:image/png;base64,'+g.sealPic+'" class="kinsec-seal-yz-img" /><div title="'+g.sealName+'" class="kinsec-seal-div">'+g.sealName+"</div></div></div>"}p+='</div><div class="kinsec-flex-r kinsec_seal_detail"><img class="kinsec-seal-img" src="data:image/png;base64,'+l+'" /><div class="kinsec-seal-des-view kinsec-flex-c" id="kinsec-seal-des-view"><div class="kinse-content-text2" >印章名称:</div><div class="kinse-content-text2" id="kinsec-seal-name">'+d+'</div><div class="kinse-content-text2" style="margin-top:10px">签发日期</div><div class="kinse-content-text2" id="kinsec-seal-starttime">'+u+'</div><div class="kinse-content-text2" style="margin-top:10px">有效时间</div><div class="kinse-content-text2" id="kinsec-seal-endtime">'+f+'</div></div></div></div><div class="kinsec-right-btn-view kinsec-flex-c"><button id="kinsec_key_seal_cancel" class="kinse-btn-cancel1">取 消</button><button id="kinsec_key_seal_sub" class="kinse-btn-confirm1" style="margin-top:20px">确 定</button></div></div><div '+s+' class="kinsec_seal_fujia" ><input '+o+' type="checkbox" id="kinsec_add_txt" /><span '+o+" >附加文字</span><input "+c+' type="checkbox" id="kinsec_add_qf" /><span '+c+" >骑缝章</span></div></div>",this.open("请选择印章",p,null,503);for(var h=0,y=this.pub.getClass("div","kinsec-seal-bgView"),m=function(t){var i=y[t],s=parseInt(i.getAttribute("inx"));t==a&&(i.style.border="1px dotted #000000",h=a,i.className="kinsec-flex-c kinsec-active kinsec-seal-bgView"),i.addEventListener("click",(function(t){for(var o=r.pub.getClass("div","kinsec-seal-bgView"),c=0;c<o.length;c++)o[c].className="kinsec-flex-c kinsec-no-active kinsec-seal-bgView";i.className="kinsec-flex-c kinsec-active kinsec-seal-bgView";var l=r.pub.getClass("img","kinsec-seal-img")[0];i.getElementsByTagName("div")[1],l.setAttribute("src","data:image/png;base64,"+e[s].sealPic),document.getElementById("kinsec-seal-name").innerHTML=e[s].sealName,document.getElementById("kinsec-seal-starttime").innerHTML=e[s].stamp_starttime,document.getElementById("kinsec-seal-endtime").innerHTML=e[s].stamp_endtime,h=s;var u=document.getElementById("kinsec_add_txt");n&&s==a?"1"==n.state&&(u.checked=!0):u.checked=!1}))},k=0;k<y.length;k++)m(k);var _=document.getElementById("kinsec_key_seal_sub"),b=document.getElementById("kinsec_key_seal_cancel"),S=document.getElementById("kinsec_add_txt"),x=document.getElementById("kinsec_add_qf");_.addEventListener("click",(function(i){if(n&&h==a&&S.checked){if(!r.pub.isEmpty(n.txt))return e[h].txt=n.txt,void r.imageUtils.twoImg2ImgDown(e[h].sealPic,e[h].txt).then((function(n){r.close(!0),e[h].realSealPic=n.img;var i=parseInt(e[h].sealPicH);e[h].realSealPicW=parseInt(i*n.heightOp),t(e[h])}))}else x.checked&&(e[h].sealType="2");r.close(!0),t(e[h])})),b.addEventListener("click",(function(e){r.close(!1)})),n&&h==a&&"1"==n.state&&(S.checked=!0),S.addEventListener("click",(function(n){S.checked&&(x.checked=!1,r.close(!1),r.keySealAddTxt(e[h],(function(n){n.inx=h,r.keySealList(e,t,n,i)})))})),x.addEventListener("click",(function(e){x.checked&&(S.checked=!1)}))}},{key:"keySealAddTxt",value:function(e,t){var n=this,i=e.sealPic,r=parseInt(e.sealPicW),a=(parseInt(e.sealPicH),{state:"2"}),s='<div class="kinsec_add_txt_content" style="padding-bottom: 50px;height: 80%;"><div><div class="kinsec_w46 kinsec_float_left"><p class="kinsec_w100">附加时间</p><div class="kinsec_w100 kinsec_border1 kinsec_pd_10 kinsec_mgf_10"><table><tr><td class="td1"><span>时间字号:</span></td><td><select id="kinsec_time_font_size" /></td></tr><tr><td><pan>时间位置:</pan></td><td><select id="kinsec_time_location" /></td></tr><tr><td><pan>时间字体:</pan></td><td><select id="kinsec_time_font" /></td></tr><tr><td><pan>时间格式:</pan></td><td><select id="kinsec_time_format" /></td></tr></table></div><p class="kinsec_w100">附加文字</p><div class="kinsec_w100 kinsec_border1 kinsec_pd_10 kinsec_mgf_10"><table><tr><td class="td1"><span>文字字号:</span></td><td><select id="kinsec_txt_font_size" /></td></tr><tr><td><pan>文字位置:</pan></td><td><select id="kinsec_txt_location" /></td></tr><tr><td><pan>文字字体:</pan></td><td><select id="kinsec_txt_font" /></td></tr><tr><td><pan>文字内容:</pan></td><td><textarea id="kinsec_txt"></textarea></td></tr></table></div></div><div class="kinsec_w53 kinsec_float_left" style="width: 44%"><div class="kinsec_yz_img"><div><img id="kinsec_img" src="data:image/png;base64,'+i+'" /></div><div><img id="kinsec_txt_img" /></div></div></div></div><div class="msg-footer" style="position: absolute;bottom: 6px;left: 30%;" ><button id="kinsec_add_txt_sub" class="kinse-btn-confirm1" style="width: 120px;">确认</button><button id="kinsec_add_txt_cancel" class="kinse-btn-cancel1" style="width: 120px; margin-left: 20px">取消</button></div></div>';this.open("附加文字",s,(function(){a.state="2",t(a)}),586);for(var o=14;o<=54;o++){var c=document.createElement("option");c.setAttribute("value",o+""),c.innerHTML=o+"";var l=document.createElement("option");l.setAttribute("value",o+""),l.innerHTML=o+"",33==o&&(c.setAttribute("selected","selected"),l.setAttribute("selected","selected"));var u=document.getElementById("kinsec_time_font_size"),f=document.getElementById("kinsec_txt_font_size");u.appendChild(c),f.appendChild(l)}var d={left:"左边",center:"中间",right:"右边"};for(var p in d){var v=document.createElement("option");v.setAttribute("value",p),v.innerHTML=d[p];var g=document.createElement("option");g.setAttribute("value",p),g.innerHTML=d[p],"center"==p&&(v.setAttribute("selected","selected"),g.setAttribute("selected","selected")),document.getElementById("kinsec_time_location").appendChild(v),document.getElementById("kinsec_txt_location").appendChild(g)}var h={SimSun:"宋体",FangSong:"仿宋",SimHei:"黑体",KaiTi:"楷体"};for(var y in h){var m=document.createElement("option");m.setAttribute("value",y),m.innerHTML=h[y];var k=document.createElement("option");k.setAttribute("value",y),k.innerHTML=h[y],"宋体"==y&&(m.setAttribute("selected","selected"),k.setAttribute("selected","selected")),document.getElementById("kinsec_time_font").appendChild(m),document.getElementById("kinsec_txt_font").appendChild(k)}var _={"yyyy年MM月dd日":"yyyy年MM月dd日","yyyy-MM-dd":"yyyy-MM-dd","yyyy年MM月dd日 HH时mm分ss秒":"yyyy年MM月dd日 HH时mm分ss秒","yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd HH:mm:ss"};for(var b in _){var S=document.createElement("option");S.setAttribute("value",b),S.innerHTML=_[b],"yyyy年MM月dd日"==b&&S.setAttribute("selected","selected"),document.getElementById("kinsec_time_format").appendChild(S)}var x=document.getElementById("kinsec_img"),E=document.getElementById("kinsec_txt_img");x.onload=function(){x.width;var e=document.createElement("img");e.src="data:image/png;base64,"+i,e.onload=function(){var i=e.width,s=function(){var e=document.getElementById("kinsec_time_format").value,t=n.dateUtils.currentTime2String(e),a=document.getElementById("kinsec_txt").value,s="";if(n.pub.isEmpty(a)){if(!n.pub.isEmpty(t)){var p=o.value/(500/120)*(i/(72*r/25.4));s=n.imageUtils.txt2Img(t,i,p,f.value,l.value)}}else{var v=c.value/(500/120)*(i/(72*r/25.4));s=n.imageUtils.txt2Img(a,i,v,d.value,u.value)}E.setAttribute("src",s)},o=document.getElementById("kinsec_time_font_size");o.addEventListener("change",(function(){s()}));var c=document.getElementById("kinsec_txt_font_size");c.addEventListener("change",(function(){s()}));var l=document.getElementById("kinsec_time_location");l.addEventListener("change",(function(){s()}));var u=document.getElementById("kinsec_txt_location");u.addEventListener("change",(function(){s()}));var f=document.getElementById("kinsec_time_font");f.addEventListener("change",(function(){s()}));var d=document.getElementById("kinsec_txt_font");d.addEventListener("change",(function(){s()})),n.dateUtils;var p=n.pub,v=document.getElementById("kinsec_time_format"),g=document.getElementById("kinsec_txt");v.addEventListener("change",(function(){p.isEmpty(g.value)&&s()})),g.style.resize="none",g.addEventListener("input",(function(){s()})),s();var h=document.getElementById("kinsec_add_txt_sub"),y=document.getElementById("kinsec_add_txt_cancel");h.addEventListener("click",(function(e){n.close(!1);var s=n.dateUtils.currentTime2String(v.value),p=g.value;if(n.pub.isEmpty(p)){if(!n.pub.isEmpty(s)){var h=o.value/(500/120)*(i/(72*r/25.4)),y=n.imageUtils.txt2Img(s,i,h,f.value,l.value);a.txt=y.split("base64,")[1]}}else{var m=c.value/(500/120)*(i/(72*r/25.4)),k=n.imageUtils.txt2Img(p,i,m,d.value,u.value);a.txt=k.split("base64,")[1]}a.state="1",t(a)})),y.addEventListener("click",(function(e){n.close(!1),a.state="2",t(a)}))}}}}])&&a(t.prototype,n),e}();t.dialog=s},4251:function(e,t,n){"use strict";n(8847),n(7699),n(9087),n(8228),n(3299),n(7741),n(1491),Object.defineProperty(t,"__esModule",{value:!0}),t.httpClass=void 0;var i=n(9011),r=n(7013),a=n(1468),s=n(3498);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.keyLogin=new i.keyLogin(t,this,n),this.dataUtils=new r.dataUtils,this.base64=new a.base64,this.configValue=new s.configValue,this.keyShield="",this.areaCode="",this.timeout=6e4}var t,n;return t=e,(n=[{key:"mask_begin",value:function(e){this.mask_begin_call=e,this.keyLogin.mask_begin(e)}},{key:"mask_end",value:function(e){this.mask_end_call=e,this.keyLogin.mask_end(e)}},{key:"delToken",value:function(){localStorage.removeItem("kinsec_token")}},{key:"setShield",value:function(e){this.keyShield=e}},{key:"setAreaCode",value:function(e){this.pub.isEmpty(e)||"BSGCY"==e&&(e=""),this.areaCode=e}},{key:"setTimeout",value:function(e){this.pub.isType(e,"number")&&e>0&&(this.timeout=e)}},{key:"setHiddenSealAddJson",value:function(e){this.keyLogin.setHiddenSealAddJson(e)}},{key:"post",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";n||(n=this.timeout);var a="http://127.0.0.1:31220",s={timeout:n,withCredentials:!1,headers:{"Content-Type":"text/plain"}};try{kinsecLog.log("post--"+e.PluginRequest)}catch(e){}var o=axios.create();o.post(a,e,s).then((function(a){var s=a.data;kinsecLog.log(JSON.stringify(s)),"NotLoggedIn"==s.PluginResponse&&"1"==r?i.keyLogin.login((function(r,a){r?i.post(e,t,n,"2"):(s.PluginResponse=a,t(!0,s,"1"))})):t(!0,s,"1")}),(function(e){kinsecLog.error(e),t(!1,i.configValue.httpSoftError,"2")})).catch((function(e){kinsecLog.error(e),t(!1,"执行异常："+e.message,"3")}))}},{key:"tran",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_Forwarding",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,i.PluginResponseValue):("0003"==i.ServerResponseCode&&n.delToken(),t(!1,i.PluginResponse)):t(e,i)}))}},{key:"getType",value:function(e,t,n){var i={};i.idCard=e,i.appId=t,i.joinAdr="L3BjL2ZzL2dldFR5cGU=",this.tran(i,(function(e,t){n(e,t)}))}},{key:"htjc",value:function(e,t,n,i,r){var a={};a.idCard=e,a.joinAdr="L3BjL2ZzL2h0amM=",a.video=t,a.time=n+"",a.appId=i,this.tran(a,(function(e,t){r(e,t)}))}},{key:"pwd",value:function(e,t,n,i,r){var a={};a.idCard=e,a.joinAdr="L3BjL2ZzL3B3ZA==",a.pwd=t,a.time=n+"",a.appId=i,this.tran(a,(function(e,t){r(e,t)}))}},{key:"sign",value:function(e,t,n){var i={};i.token=t,i.joinAdr="L3BjL2ZzL3NpZ24=",i.tsaType="1",i.signType="1";var r=[];r.push(e),i.data=JSON.stringify(r),this.tran(i,(function(e,t){if(e){var i=JSON.parse(t),r={};r.cert=i.cert,r.sign=i.sign[0],n(e,JSON.stringify(r))}else n(e,t)}))}},{key:"keySign",value:function(e,t,n){var i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="Experts_LocalDataSign",i.sourceData=e,this.post(i,(function(e,n,i){if(e)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);t(e,JSON.stringify(r))}else t(!1,n.PluginResponse);else t(e,n)}),null,n)}},{key:"getSealPic",value:function(e,t,n){var i=this;if("1"==e)this.keyLogin.sealList((function(e,t){n(e,e?JSON.stringify(t):t)}));else{var r="1"!=e?"1":"2",a={};a.PluginRequestID=this.pub.randomString(),a.PluginRequest="Experts_GetSealPic",a.getPicMode=r,"1"!=e&&(a.token=t),this.post(a,(function(e,t,r){e?"SUCCESS"==t.PluginResponse?n(e,t.PluginResponseValue):("0003"==t.ServerResponseCode&&i.delToken(),n(!1,t.PluginResponse)):n(e,t)}))}}},{key:"signSeal",value:function(e,t,n,i,r,a){var s=this,o={};o.PluginRequestID=this.pub.randomString(),o.PluginRequest="Experts_SignStamp",o.token=t,o.sourceData=e,o.tsaType="2",o.hashMode=i,o.sourceDataType=n,o.sealData=r.sealData,o.certData=r.certData,"1"==n&&(o.stampIndex="0",o.posX=r.x+"",o.posY=r.y+"",o.pageRange=r.page+"");var c={signType:"2"};c.signContentType=n,o.extData=JSON.stringify(c),this.post(o,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?a(e,t.PluginResponseValue):("0003"==t.ServerResponseCode&&s.delToken(),a(!1,t.PluginResponse)):a(e,t)}))}},{key:"keySignSeal",value:function(e,t,n,i,r){var a={};a.PluginRequestID=this.pub.randomString(),a.PluginRequest="Experts_LocalSignStamp",a.sourceData=e,a.hashMode=n,a.sourceDataType=t,a.sealData=i.sealData,"1"==t&&(a.stampIndex="0",a.posX=i.x+"",a.posY=i.y+"",a.pageRange=i.page+"");var s={signType:"1"};s.signContentType=t,a.extData=JSON.stringify(s),this.pub.isEmpty(this.areaCode)||(a.areaCode=this.areaCode),this.post(a,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?r(e,t.PluginResponseValue):r(!1,t.PluginResponse):r(e,t)}))}},{key:"keyHashSignSeal",value:function(e,t,n,i,r){var a={};a.PluginRequestID=this.pub.randomString(),a.PluginRequest="Experts_NoSrcLocalSignStamp",a.hashData=e,a.hashMode=n,a.sourceDataType=t,a.sealData=i.sealData,"1"==t&&(a.posX=i.x+"",a.posY=i.y+"",a.pageRange=i.page+"");var s={signType:"1"};s.signContentType=t,a.extData=JSON.stringify(s),this.pub.isEmpty(this.areaCode)||(a.areaCode=this.areaCode),this.post(a,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?r(e,t.PluginResponseValue):r(!1,t.PluginResponse):r(e,t)}))}},{key:"htmlSignSeal",value:function(e,t,n,i){var r=this;this.getSealPic(e,n,(function(a,s){if(a)if("2"==e){var o=JSON.parse(s),c={};c.sealData=o.sealData,c.certData=o.certData,new Promise((function(e,i){r.signSeal(t,n,"0","2",c,(function(t,n){if(t){var r=JSON.parse(n),a={};a.sealPic=o.sealPic,a.signStamp=r.signStamp,a.sealId=r.GUID,a.sealPicH=parseInt(o.sealPicH/25.4*72),a.sealPicW=parseInt(o.sealPicW/25.4*72),e(a)}else i(n)}))})).then((function(e){var t={};t.signStamp=e.signStamp,r.getSealInfo(t,(function(t,n){e.certSn=n.certSN,t?i(!0,JSON.stringify(e)):i(t,n)}))})).catch((function(e){i(!1,e)}))}else if("1"==e){var l=JSON.parse(s),u={};u.sealData=l.sealData,new Promise((function(e,n){var i=r.base64.decode(t),a=l.time,s=l.txt;r.pub.isEmpty(a)||(i+=a),r.pub.isEmpty(s)||(i+=s),t=r.base64.encode(i),r.keySignSeal(t,"0","2",u,(function(t,i){if(t){var r=JSON.parse(i),o={};o.sealPic=l.sealPic,o.signStamp=r.signStamp,o.sealId=r.GUID,o.sealPicH=parseInt(l.sealPicH/25.4*72),o.sealPicW=parseInt(l.sealPicW/25.4*72),o.time=a,o.txt=s,e(o)}else n(i)}))})).then((function(e){var t={};t.signStamp=e.signStamp,r.getSealInfo(t,(function(t,n){e.certSn=n.certSN,e.dataJson=l,t?i(!0,JSON.stringify(e)):i(t,n)}))})).catch((function(e){i(!1,e)}))}else i(!1,"未知类型");else i(a,s)}))}},{key:"pdfSignSeal",value:function(e,t,n,i,r){"2"==e?this.signSeal(t,n,"1","2",i,(function(e,t){if(e){var n=JSON.parse(t);r(e,n.signStamp)}else r(e,t)})):"1"==e?this.keySignSeal(t,"1","2",i,(function(e,t){if(e){var n=JSON.parse(t);r(e,n.signStamp)}else r(e,t)})):"3"==e?this.keyHashSignSeal(t,"1","2",i,(function(e,t){if(e){var n=JSON.parse(t);r(e,n.signStamp)}else r(e,t)})):r(!1,"未知类型")}},{key:"pdfSignSealMore",value:function(e,t,n,i,r,a){var s=this;this.pdfSignSeal(e,t,n,i[0],(function(o,c){o?(r.push(c),i.splice(0,1),i.length<=0?a(!0,r):s.pdfSignSealMore(e,t,n,i,r,a)):a(o,c)}))}},{key:"yzSeal",value:function(e,t,n,i,r){var a=this,s={};s.PluginRequestID=this.pub.randomString(),s.PluginRequest="Experts_VerifySign",s.sourceData=t,s.signStamp=n,s.sourceDataType="0",this.post(s,(function(t,n,s){if(t)if("SUCCESS"==n.PluginResponse){var o=JSON.parse(n.PluginResponseValue),c=a.dataUtils.getYzMgs(o,e);if("1"==r)return void i(t,o,s);i(t,c,s)}else i(!1,n.PluginResponse,s);else i(t,n,s)}))}},{key:"compareCert",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_CompareCert",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,i.PluginResponseValue):("0003"==i.ServerResponseCode&&n.delToken(),t(!1,"操作失败："+i.PluginResponse)):t(e,i)}))}},{key:"comparePureCert",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_PureCompareCert",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,i.PluginResponseValue):("0003"==i.ServerResponseCode&&n.delToken(),t(!1,"操作失败："+i.PluginResponse)):t(e,i)}))}},{key:"keyCompareCert",value:function(e,t){var n=this;this.keyLogin.login((function(i,r){i?(e.keyId=r.id,e.pwd=r.pwd,n.compareCert(e,t)):t(!1,r)}),"2")}},{key:"keyPureCompareCert",value:function(e,t){var n=this;this.keyLogin.login((function(i,r){i?(e.keyId=r.id,e.pwd=r.pwd,n.comparePureCert(e,t)):t(!1,r)}),"2")}},{key:"yzPdfOneSeal",value:function(e,t,n,i){var r=this,a={};a.PluginRequestID=this.pub.randomString(),a.PluginRequest="Experts_VerifySign",a.sourceData=e,a.signStamp=t,a.sourceDataType="1",a.stampIndex="0",this.post(a,(function(e,t,a){if(e)if("SUCCESS"==t.PluginResponse){var s=JSON.parse(t.PluginResponseValue),o=s.signtype;o.length>1&&(o=JSON.parse(o).signType);var c="-1";"2"==o?c="2":"1"==o||"0"==o?c="1":"3"==o&&(c="3");var l=r.dataUtils.getYzMgs(s,c);if("1"==i)return void n(e,s,c);n(e,l,c)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"yzPdfOneSealN",value:function(e,t,n,i){var r=this,a={};a.PluginRequestID=this.pub.randomString(),a.PluginRequest="Experts_VerifyPdfStamp",a.sourceData=e,a.stampIndex=t+"",this.post(a,(function(e,t,a){if(e)if("SUCCESS"==t.PluginResponse){var s=JSON.parse(t.PluginResponseValue),o=s.signtype;o.length>1&&(o=JSON.parse(o).signType);var c="-1";"2"==o?c="2":"1"==o||"0"==o?c="1":"3"==o&&(c="3");var l=r.dataUtils.getYzMgs(s,c);if("1"==i)return void n(e,s,c);n(e,l,c)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"yzPdfAllSeal",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_VerifySign",n.sourceData=e,n.sourceDataType="1",this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,i,n.PluginResponseValue):t(!1,i,"验证失败："+n.PluginResponse):t(e,i,n)}))}},{key:"prepareSignData",value:function(e,t,n,i){var r={};r.PluginRequestID=this.pub.randomString(),r.PluginRequest="Experts_PrepareSignData",r.sourceData=n.sourceData,r.hashMode="2",r.sourceDataType=e,r.sealData=n.sealData,r.certData=n.certData,"1"==e&&(r.stampIndex="0",r.posX=n.x+"",r.posY=n.y+"",r.pageRange=n.page+"");var a={};a.signType=t,a.signContentType=e,r.extData=JSON.stringify(a),this.post(r,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?i(e,t.PluginResponseValue):i(!1,t.PluginResponse):i(e,t)}))}},{key:"createSignStamp",value:function(e,t,n){var i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="Experts_CreateSignStamp",i.dataSrc=t.dataSrc,i.sourceDataType=e,i.sign=t.sign,i.tsa=t.tsa,i.certData=t.certData,this.post(i,(function(e,t,i){if(e)if("SUCCESS"==t.PluginResponse){var r=JSON.parse(t.PluginResponseValue);n(e,r.signStamp)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"parseSealData",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_ParseSealData",n.sealData=e,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"localPdfSealComplex",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_CombinationPdfx",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,n.pub.convertJson(i.PluginResponseValue)):t(!1,i.PluginResponse):t(e,i)}))}},{key:"localSignData",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_GeDelStampTrandom",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,n.pub.convertJson(i.PluginResponseValue)):t(!1,i.PluginResponse):t(e,i)}))}},{key:"localDelPdfSeal",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_PdfxDeleteLastStamp",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,n.pub.convertJson(i.PluginResponseValue)):t(!1,i.PluginResponse):t(e,i)}))}},{key:"key_enc",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Tender_EnvelopeDataByP7",n.strAlgID=e.alg,n.strEncCertsB64="",n.strSrcDataB64=e.value,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_enc_more",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Tender_EnvelopeDataByP7",n.strAlgID=e.alg,n.strEncCertsB64=e.cert,n.strSrcDataB64=e.value,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_dec",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Tender_UnEnvelopeDataByP7",n.strEncDataB64=e.value,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_list",value:function(e){var t=this,n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="GetKeyUserInfoList",this.post(n,(function(n,i,r){if(n)if("SUCCESS"==i.PluginResponse){var a=JSON.parse(i.PluginResponseValue);if(t.pub.isEmpty(a.data)||t.pub.isEmpty(a.data.userlist))e(!1,"获取证书设备列表为空");else{var s=a.data.userlist.split("&&"),o=[];s.forEach((function(e){var t=e.split("||"),n={};n.name=t[0],n.id=t[1],o.push(n)})),e(!0,o)}}else e(!1,i.PluginResponse);else e(n,i)}))}},{key:"key_login",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="PwdLogin",n.keyId=e.id,n.pwd=e.pwd,this.pub.isEmpty(this.areaCode)||(n.areaCode=this.areaCode),this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,"登录成功"):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_seal_list",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_GetLocalSealInfos",n.retSealInfos=e,this.pub.isEmpty(this.keyShield)||(n.shieldSealName=this.keyShield),n.shieldSealFlag="1",this.pub.isEmpty(this.areaCode)||(n.areaCode=this.areaCode),this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"keyInfo",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetKeySn",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(!0,r)}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"key_device_id",value:function(e){this.keyInfo((function(t,n){if(t){for(var i=[],r=0;r<n.length;r++)i.push(n[r].keySn);e(!0,i)}else e(t,n)}))}},{key:"cm_pc_info",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetPCSystemInfo",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(!0,JSON.stringify(r.data))}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"cmCertInfo",value:function(e,t,n){var i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="GetCertInfo",i.certData=t,this.pub.isEmpty(e)||(i.strDataType=e),this.post(i,(function(e,t,i){if(e)if("SUCCESS"==t.PluginResponse){var r=JSON.parse(t.PluginResponseValue);n(!0,r)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"getVersions",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetVersions",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(!0,JSON.stringify(r.data))}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"getKeyCert",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="GetLocalCertData",n.certType=e.certType,this.post(n,(function(e,n,i){if(e)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);t(!0,JSON.stringify(r))}else t(!1,n.PluginResponse);else t(e,n)}))}},{key:"keyLoginPwd",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="CertPwdLogin",n.certType=e.certType,n.certData=e.certData,n.pwd=e.pwd,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"keyLogout",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="ActiveLogout",this.post(t,(function(t,n,i){t?"SUCCESS"==n.PluginResponse?e(!0,n.PluginResponseValue):e(!1,n.PluginResponse):e(t,n)}))}},{key:"getSealInfo",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_GetSignStampInfo",n.signStamp=e.signStamp,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,JSON.parse(n.PluginResponseValue)):t(!1,n.PluginResponse):t(e,n)}))}},{key:"getKeySn",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="NoLoginReadCertSNGroup",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=n.PluginResponseValue;e(!0,JSON.parse(r))}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"getSystemLinux",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetSystemFlag",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=n.PluginResponseValue,a=JSON.parse(r);"linux"==a.systemFlag?e(!0,a.systemFlag):e(!1,a.systemFlag)}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"hashVerify",value:function(e,t){e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_NoSrcVerifySign",this.post(e,(function(e,n,i){if(e)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);t(e,r,i)}else t(!1,n.PluginResponse,i);else t(e,n,i)}))}},{key:"hashVerifyMessage",value:function(e,t){var n=this;this.hashVerify(e,(function(e,i){if(e){var r=i,a=r.signtype;a.length>1&&(a=JSON.parse(a).signType);var s="-1";"2"==a?s="2":"1"==a||"0"==a?s="1":"3"==a&&(s="3");var o=n.dataUtils.getYzMgs(r,s);t(e,o,s)}else t(e,i)}))}},{key:"getSealName",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="Experts_GetLocalSealName",this.pub.isEmpty(this.areaCode)||(t.areaCode=this.areaCode),this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(t,r)}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"perforationSealPdfFile",value:function(e,t,n){t.PluginRequestID=this.pub.randomString(),t.PluginRequest="Experts_InterlockSignStamp",t.stampIndex="0",t.hashMode="2";var i={};i.signType=e,i.signContentType="1",t.extData=JSON.stringify(i),this.pub.isEmpty(this.areaCode)||(t.areaCode=this.areaCode),this.post(t,(function(e,t,i){if(e)if("SUCCESS"==t.PluginResponse){var r=JSON.parse(t.PluginResponseValue);n(e,r)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"perforationSealPdfAbs",value:function(e,t,n){t.PluginRequestID=this.pub.randomString(),t.PluginRequest="Experts_NoSrcInterlockSignStamp",t.hashMode="2";var i={};i.signType=e,i.signContentType="1",t.extData=JSON.stringify(i),this.pub.isEmpty(this.areaCode)||(t.areaCode=this.areaCode),this.post(t,(function(e,t,i){if(e)if("SUCCESS"==t.PluginResponse){var r=JSON.parse(t.PluginResponseValue);n(e,r)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"getRealPdfWhSeal",value:function(e,t){e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_GetPdfSignStampRect",this.post(e,(function(e,n,i){if(e)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);t(e,r)}else t(!1,n.PluginResponse);else t(e,n)}))}}])&&o(t.prototype,n),e}();t.httpClass=c},7135:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(9087),n(8228),n(3299),n(7741),Object.defineProperty(t,"__esModule",{value:!0}),t.imageUtils=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"txt2Img",value:function(e,t,n,i,r){var a=document.createElement("canvas"),s=a.getContext("2d");s.font=n+"px "+i;var o=[],c=0;o.push(0);for(var l=0;l<e.length;l++)s.measureText(e.substring(c,l+1)).width>t&&(o.push(l),c=l);a.width=t,a.height=o.length*n+4*o.length,s.clearRect(0,0,a.width,a.height),s.textBaseline="middle",s.fillStyle="#000000",s.font=n+"px "+i;for(var u=0;u<o.length;u++){var f=n/2+u*n+4*u,d=u+1>=o.length?e.length:o[u+1],p=e.substring(o[u],d),v=0,g=t-s.measureText(p).width;"center"==r?v=g/2:"right"==r&&(v=g,o>1&&(v-=t-s.measureText(o[e.length-1],e.length).width)),s.fillText(p,v,f)}return a.toDataURL("image/png")}},{key:"twoImg2ImgDown",value:function(e,t){return Promise.resolve().then((function(){return new Promise((function(t,n){var i={},r=document.createElement("img");r.src="data:image/png;base64,"+e,r.onload=function(){var e={};e.width=r.width,e.height=r.height,e.img=r,i.img1=e,t(i)}}))})).then((function(e){return new Promise((function(n,i){var r=document.createElement("img");r.src="data:image/png;base64,"+t,r.onload=function(){var t={};t.width=r.width,t.height=r.height,t.img=r,e.img2=t,n(e)}}))})).then((function(e){return new Promise((function(t,n){var i=e.img1.width,r=e.img1.height,a=e.img1.img,s=e.img2.width,o=e.img2.height,c=e.img2.img,l=document.createElement("canvas"),u=l.getContext("2d");l.setAttribute("width",i),l.setAttribute("height",r+o+4),u.drawImage(a,0,0,i,r),u.drawImage(c,0,r+4,s,o);var f=l.toDataURL("image/png");f=f.split("base64,")[1];var d={};d.img=f,d.heightOp=(r+o+4)/r,t(d)}))}))}},{key:"imgAddTxt2Img",value:function(e,t,n,i,r,a){var s=this.txt2Img(t,n,i,r,a).split("base64,")[1];return this.twoImg2ImgDown(e,s)}}])&&i(t.prototype,n),e}();t.imageUtils=r},6395:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.loading=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isShow=!1}var t,n;return t=e,(n=[{key:"open",value:function(){try{this.isShow&&this.close(!1),this.isShow=!0;var e=document.createElement("div");e.setAttribute("class","kinsec_loading_wrap"),e.style.background="transparent";var t=document.createElement("div");t.setAttribute("class","kinsec_loading");var n=document.createElement("div");n.setAttribute("class","kinsec_msg__overlay"),this.wrap=e,this.overlay=n,e.appendChild(t),document.body.appendChild(e),document.body.appendChild(n),setTimeout((function(){e.style.transform="translate(-50%,-50%) scale(1,1)",n.style.opacity="1"}),100)}catch(e){console.error(e)}}},{key:"close",value:function(){try{this.wrap.remove(),this.overlay.remove(),this.isShow=!1}catch(e){console.error(e)}}}])&&i(t.prototype,n),e}();t.loading=r},13:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.open=!1}var t,i;return t=e,(i=[{key:"init",value:function(e){void 0!==e&&(this.open=e)}},{key:"log",value:function(e){this.open&&console.log("kinsec_seal",e)}},{key:"logTag",value:function(e,t){this.open&&console.log("kinsec_seal---"+e,t)}},{key:"error",value:function(e){console.error("kinsec_seal",e)}}])&&n(t.prototype,i),e}();t.log=i},3796:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(9087),n(3299),n(1206),n(1636),Object.defineProperty(t,"__esModule",{value:!0}),t.md5=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"rotateLeft",value:function(e,t){return e<<t|e>>>32-t}},{key:"addUnsigned",value:function(e,t){var n,i,r,a,s;return r=2147483648&e,a=2147483648&t,s=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(i=1073741824&t)?2147483648^s^r^a:n|i?1073741824&s?3221225472^s^r^a:1073741824^s^r^a:s^r^a}},{key:"F",value:function(e,t,n){return e&t|~e&n}},{key:"G",value:function(e,t,n){return e&n|t&~n}},{key:"H",value:function(e,t,n){return e^t^n}},{key:"I",value:function(e,t,n){return t^(e|~n)}},{key:"FF",value:function(e,t,n,i,r,a,s){return e=this.addUnsigned(e,this.addUnsigned(this.addUnsigned(this.F(t,n,i),r),s)),this.addUnsigned(this.rotateLeft(e,a),t)}},{key:"GG",value:function(e,t,n,i,r,a,s){return e=this.addUnsigned(e,this.addUnsigned(this.addUnsigned(this.G(t,n,i),r),s)),this.addUnsigned(this.rotateLeft(e,a),t)}},{key:"HH",value:function(e,t,n,i,r,a,s){return e=this.addUnsigned(e,this.addUnsigned(this.addUnsigned(this.H(t,n,i),r),s)),this.addUnsigned(this.rotateLeft(e,a),t)}},{key:"II",value:function(e,t,n,i,r,a,s){return e=this.addUnsigned(e,this.addUnsigned(this.addUnsigned(this.I(t,n,i),r),s)),this.addUnsigned(this.rotateLeft(e,a),t)}},{key:"convertToWordArray",value:function(e){for(var t,n=e.length,i=n+8,r=16*((i-i%64)/64+1),a=Array(r-1),s=0,o=0;o<n;)s=o%4*8,a[t=(o-o%4)/4]=a[t]|e.charCodeAt(o)<<s,o++;return s=o%4*8,a[t=(o-o%4)/4]=a[t]|128<<s,a[r-2]=n<<3,a[r-1]=n>>>29,a}},{key:"wordToHex",value:function(e){var t,n="",i="";for(t=0;t<=3;t++)n+=(i="0"+(e>>>8*t&255).toString(16)).substr(i.length-2,2);return n}},{key:"uTF8Encode",value:function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}},{key:"md5",value:function(e){var t,n,i,r,a,s,o,c,l,u=Array();for(e=this.uTF8Encode(e),u=this.convertToWordArray(e),s=1732584193,o=4023233417,c=2562383102,l=271733878,t=0;t<u.length;t+=16)n=s,i=o,r=c,a=l,s=this.FF(s,o,c,l,u[t+0],7,3614090360),l=this.FF(l,s,o,c,u[t+1],12,3905402710),c=this.FF(c,l,s,o,u[t+2],17,606105819),o=this.FF(o,c,l,s,u[t+3],22,3250441966),s=this.FF(s,o,c,l,u[t+4],7,4118548399),l=this.FF(l,s,o,c,u[t+5],12,1200080426),c=this.FF(c,l,s,o,u[t+6],17,2821735955),o=this.FF(o,c,l,s,u[t+7],22,4249261313),s=this.FF(s,o,c,l,u[t+8],7,1770035416),l=this.FF(l,s,o,c,u[t+9],12,2336552879),c=this.FF(c,l,s,o,u[t+10],17,4294925233),o=this.FF(o,c,l,s,u[t+11],22,2304563134),s=this.FF(s,o,c,l,u[t+12],7,1804603682),l=this.FF(l,s,o,c,u[t+13],12,4254626195),c=this.FF(c,l,s,o,u[t+14],17,2792965006),o=this.FF(o,c,l,s,u[t+15],22,1236535329),s=this.GG(s,o,c,l,u[t+1],5,4129170786),l=this.GG(l,s,o,c,u[t+6],9,3225465664),c=this.GG(c,l,s,o,u[t+11],14,643717713),o=this.GG(o,c,l,s,u[t+0],20,3921069994),s=this.GG(s,o,c,l,u[t+5],5,3593408605),l=this.GG(l,s,o,c,u[t+10],9,38016083),c=this.GG(c,l,s,o,u[t+15],14,3634488961),o=this.GG(o,c,l,s,u[t+4],20,3889429448),s=this.GG(s,o,c,l,u[t+9],5,568446438),l=this.GG(l,s,o,c,u[t+14],9,3275163606),c=this.GG(c,l,s,o,u[t+3],14,4107603335),o=this.GG(o,c,l,s,u[t+8],20,1163531501),s=this.GG(s,o,c,l,u[t+13],5,2850285829),l=this.GG(l,s,o,c,u[t+2],9,4243563512),c=this.GG(c,l,s,o,u[t+7],14,1735328473),o=this.GG(o,c,l,s,u[t+12],20,2368359562),s=this.HH(s,o,c,l,u[t+5],4,4294588738),l=this.HH(l,s,o,c,u[t+8],11,2272392833),c=this.HH(c,l,s,o,u[t+11],16,1839030562),o=this.HH(o,c,l,s,u[t+14],23,4259657740),s=this.HH(s,o,c,l,u[t+1],4,2763975236),l=this.HH(l,s,o,c,u[t+4],11,1272893353),c=this.HH(c,l,s,o,u[t+7],16,4139469664),o=this.HH(o,c,l,s,u[t+10],23,3200236656),s=this.HH(s,o,c,l,u[t+13],4,681279174),l=this.HH(l,s,o,c,u[t+0],11,3936430074),c=this.HH(c,l,s,o,u[t+3],16,3572445317),o=this.HH(o,c,l,s,u[t+6],23,76029189),s=this.HH(s,o,c,l,u[t+9],4,3654602809),l=this.HH(l,s,o,c,u[t+12],11,3873151461),c=this.HH(c,l,s,o,u[t+15],16,530742520),o=this.HH(o,c,l,s,u[t+2],23,3299628645),s=this.II(s,o,c,l,u[t+0],6,4096336452),l=this.II(l,s,o,c,u[t+7],10,1126891415),c=this.II(c,l,s,o,u[t+14],15,2878612391),o=this.II(o,c,l,s,u[t+5],21,4237533241),s=this.II(s,o,c,l,u[t+12],6,1700485571),l=this.II(l,s,o,c,u[t+3],10,2399980690),c=this.II(c,l,s,o,u[t+10],15,4293915773),o=this.II(o,c,l,s,u[t+1],21,2240044497),s=this.II(s,o,c,l,u[t+8],6,1873313359),l=this.II(l,s,o,c,u[t+15],10,4264355552),c=this.II(c,l,s,o,u[t+6],15,2734768916),o=this.II(o,c,l,s,u[t+13],21,1309151649),s=this.II(s,o,c,l,u[t+4],6,4149444226),l=this.II(l,s,o,c,u[t+11],10,3174756917),c=this.II(c,l,s,o,u[t+2],15,718787259),o=this.II(o,c,l,s,u[t+9],21,3951481745),s=this.addUnsigned(s,n),o=this.addUnsigned(o,i),c=this.addUnsigned(c,r),l=this.addUnsigned(l,a);return(this.wordToHex(s)+this.wordToHex(o)+this.wordToHex(c)+this.wordToHex(l)).toUpperCase()}}])&&i(t.prototype,n),e}();t.md5=r},8543:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(4917),n(1631),n(3019),n(9087),n(3299),n(9676),n(8550),n(1636),n(7741),n(5443),n(7681),n(5756),n(4375),n(8076),n(9596),n(8723),n(781),n(365),n(3632),n(7454),n(5129),n(3496),n(3158),n(2526),n(362),n(7546),n(8689),n(1926),n(2072),n(3175),n(9129),n(3809),n(7842),Object.defineProperty(t,"__esModule",{value:!0}),t.pubClass=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"getClass",value:function(e,t){if(document.getElementsByClassName)return document.getElementsByClassName(t);for(var n=document.getElementsByTagName(e),i=[],r=0;r<n.length;r++)n[r].className==t&&(i[i.length]=n[r]);return i}},{key:"getDomClass",value:function(e,t,n){if(e.getElementsByClassName)return e.getElementsByClassName(n);for(var i=e.getElementsByTagName(t),r=[],a=0;a<i.length;a++)i[a].className==n&&(r[r.length]=i[a]);return r}},{key:"getChildren",value:function(e,t){for(var n=[],i=e.getElementsByTagName(t),r=0,a=i.length;r<a;++r)if(1==i[r].nodeType){var s=i[r].parentNode;1==s.nodeType?s==e&&(n[n.length]=i[r]):s.parentNode==e&&(n[n.length]=i[r])}else alert(i[r].nodeType);return n}},{key:"isEmpty",value:function(e){return void 0===e||null==e||0==e.length}},{key:"isType",value:function(e,t){var n=i(e).toLowerCase();return kinsecLog.log(t),kinsecLog.log(n),n==t}},{key:"getScriptUrl",value:function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var i=t[n].getAttribute("src");if(!this.isEmpty(i)&&i.endsWith(e))return i.replace(e,"")}return""}},{key:"linkExist",value:function(e){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var i=t[n].getAttribute("href");if(!this.isEmpty(i)&&i.endsWith(e))return!0}return!1}},{key:"randomString",value:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,i="",r=0;r<e;r++)i+=t.charAt(Math.floor(Math.random()*n));return i}},{key:"convertJson",value:function(e){try{return this.isType(e,"string")?JSON.parse(e):e}catch(e){kinsecLog.error(e)}return null}},{key:"judgeArrSame",value:function(e){for(var t=0;t<e.length;t++)for(var n=e[t],i=t+1;i<e.length;i++)if(n==e[i])return!0;return!1}},{key:"judgeTwoArrContain",value:function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e.indexOf(i)<0)return!1}return!0}},{key:"base642Byte",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}},{key:"val2m",value:function(e,t){return this.isEmpty(e)&&!this.isEmpty(t)?t:e}},{key:"jsonLen",value:function(e){var t=0;for(var n in e)t++;return t}},{key:"numMinus",value:function(e,t){kinsecLog.log("numMinus"),kinsecLog.log(e);var n=1;if(t&&(n=t),this.isType(e,"number"))return e-n;for(var i=e.split(","),r="",a=0;a<i.length;a++){for(var s=i[a].split("-"),o=0;o<s.length;o++){var c=parseInt(s[o]);r+=0==o?c-n:"-"+(c-n)}a<i.length-1&&(r+=",")}return kinsecLog.log(r),r}},{key:"numAdd",value:function(e,t){kinsecLog.log("numAdd"),kinsecLog.log(e);var n=1;if(t&&(n=t),this.isType(e,"number"))return e+n;for(var i=e.split(","),r="",a=0;a<i.length;a++){for(var s=i[a].split("-"),o=0;o<s.length;o++){var c=parseInt(s[o]);r+=0==o?c+n:"-"+(c+n)}a<i.length-1&&(r+=",")}return kinsecLog.log(r),r}},{key:"numToArray",value:function(e){kinsecLog.log("numToArray"),kinsecLog.log(e);var t=[];if(this.isType(e,"number"))t.push(e);else for(var n=e.split(","),i=0;i<n.length;i++){var r=n[i].split("-");if(2==r.length)for(var a=parseInt(r[0]);a<=parseInt(r[1]);a++)t.push(a);else t.push(parseInt(r[0]))}return kinsecLog.log(t),t}},{key:"checkWindow",value:function(){var e=navigator.platform;return"Win32"==e||e.indexOf("Win")>=0||e.indexOf("win")>=0}},{key:"_deviceVersion",value:function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/)||e.indexOf("iPad")>-1,ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}}},{key:"checkMobile",value:function(){return this._deviceVersion().mobile||this._deviceVersion().ios||this._deviceVersion().android||this._deviceVersion().iPad||this._deviceVersion().iPhone}}])&&r(t.prototype,n),e}();t.pubClass=a},4540:function(e,t,n){"use strict";n(7699),n(9087),n(8228),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.qrcodeServer=void 0;var i=n(7603);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.http=n,this.constants=new i.constants,this.ws=null,this.wsUrl="",this.timeOut=6e4,this.mesIndex=0,this.dataList={},this.val={},this.ywCall=null,this.token="",this.hurl="",this.curDate=0,this.delCall=null}var t,n;return t=e,(n=[{key:"init",value:function(e,t,n,i){if(this.appId=e,this.type=t,this.dialog=n,"2"==i)this.wsUrl=this.constants.cloudSignPushWss;else{var r=document.location.protocol;this.wsUrl="http:"==r?this.constants.cloudSignPushWs:this.constants.cloudSignPushWss}}},{key:"set_mask_begin",value:function(e){this.mask_begin_call=e}},{key:"set_mask_end",value:function(e){this.mask_end_call=e}},{key:"mask_begin",value:function(){this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call()}},{key:"mask_end",value:function(){this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call()}},{key:"setTimeout",value:function(e){this.pub.isType(e,"number")&&e>0&&(this.timeOut=e)}},{key:"_open",value:function(e){var t=this;if(null==this.ws){try{this.ws=new WebSocket(this.wsUrl)}catch(t){kinsecLog.error(t),e(!1,"建立连接异常")}this.ws.onopen=function(n){t.token="",t.curDate=0,kinsecLog.log("Connection open ..."),e(!0)},this.ws.onclose=function(e){t.token="",t.curDate=0,t.ws=null,kinsecLog.log("Connect closed.")},this.ws.onerror=function(n){t.token="",t.curDate=0,t.ws=null,kinsecLog.log("连接出错"),kinsecLog.log(n),e(!1,"连接出错")}}else e(!0)}},{key:"_message",value:function(e){var t=this;this.ws.onmessage=function(n){var i=n.data;kinsecLog.logTag("Received Message: ",i);var r=JSON.parse(i);if(kinsecLog.logTag("Received Message: ",r.action),"s.sign.push"==r.action)if(kinsecLog.logTag("Received Message: ",r.content),"0000"==r.content.code){var a=r.content.info;if(t.token==a.token)if(t.dialog.closeAll(),"1"==t.type)t.signSeal("0",t.val.val,a);else{var s=t.val.type,o={};o.sealData=a.seal,o.certData=a.cert,t.mask_begin(),t.http.parseSealData(a.seal,(function(e,n){if(t.mask_end(),e){var i=JSON.parse(n);o.sealPic=i.sealPic,o.sealPicW=i.sealPicW,o.sealPicH=i.sealPicH,"1"==s?t.ywCall(!0,o):"2"==s||t.dialog.mes("未知的操作类型")}else t.dialog.mes(n)}))}else kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushDel"==r.action)if("0000"==r.content.code){var c=r.content.info;if(t.token==c.token){t.dialog.closeAll();var l={};l.cert=c.cert,l.sign=c.sign,t.type,t.delCall(!0,JSON.stringify(l))}else kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushLogin"==r.action)if("0000"==r.content.code){var u=r.content.info;if(t.token==u.token){t.dialog.closeAll();var f={};f.cert=u.cert,f.sign=u.sign,f.certSn=u.certSn,f.certAuthSn=u.certAuthSn,t.ywCall(!0,JSON.stringify(f))}else kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushEnc"==r.action)if("0000"==r.content.code){var d=r.content.info;t.token==d.token?(t.dialog.closeAll(),t.ywCall(!0,d.data)):kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushDec"==r.action)if("0000"==r.content.code){var p=r.content.info;t.token==p.token?(t.dialog.closeAll(),t.ywCall(!0,p.data)):kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else e(r)}}},{key:"signSeal",value:function(e,t,n,i){var r=this;this.mask_begin();var a={};a.sourceData=t,a.sealData=n.seal,a.certData=n.cert,"1"==e&&(a.x=n.x,a.y=n.y,a.page=n.page),this.http.prepareSignData(e,"3",a,(function(t,a){if(t){var s=JSON.parse(a),o=s.data,c=s.dataSrc,l=++r.mesIndex+"",u=setTimeout((function(){delete r.dataList[l],r.mask_end(),r.dialog.mes("请求签章超时")}),r.timeOut);r._message((function(t){if("c.sign.seal"==t.action){var a=r.dataList[t.remark];if(kinsecLog.log("remark---"+a),kinsecLog.log("index---"+l),!r.pub.isEmpty(a)&&a==l)if(clearTimeout(u),delete r.dataList[l],"0000"==t.content.code){var s=t.content.info,o={};o.certData=n.cert,o.dataSrc=c,o.sign=s.sign[0],o.tsa=s.tsa[0],r.http.createSignStamp(e,o,(function(t,a){t?r.genData(e,n.seal,a,i):(r.mask_end(),r.dialog.mes(a))}))}else r.mask_end(),r.dialog.mes(t.content.msg)}})),r.dataList[l]=l;var f={type:"c",action:"c.sign.seal"},d={},p=[];p.push(o),d.data=p,d.token=r.token,d.fileId="222222",d.signType="2",f.content=d,f.remark=l,r.ws.send(JSON.stringify(f))}else r.mask_end(),r.dialog.mes(a)}))}},{key:"signSealMore",value:function(e,t,n,i,r){var a=this;this.signSeal(e,t,n[0],(function(s,o){s?(i.push(o),n.splice(0,1),n.length<=0?r(!0,i):a.signSealMore(e,t,n,i,r)):r(s,o)}))}},{key:"genData",value:function(e,t,n,i){var r=this;if("0"==e){var a={};new Promise((function(e,t){var i={};i.signStamp=n,r.http.getSealInfo(i,(function(n,i){a.certSn=i.certSN,n?e(!0,i):t(n,i)}))})).then((function(e){r.http.parseSealData(t,(function(e,t){if(r.mask_end(),e){var i=JSON.parse(t),s=i.sealPic,o=parseInt(i.sealPicW/25.4*72),c=parseInt(i.sealPicH/25.4*72),l=i.GUID;a.img=s,a.type="3",a.seal=n,a.sealId=l,a.sealPicW=o,a.sealPicH=c,a.vs="4";var u=JSON.stringify(a);r.ywCall(e,u)}else r.dialog.mes(t)}))})).catch((function(e){r.mask_end(),r.ywCall(!1,e)}))}else this.mask_end(),i(!0,n)}},{key:"qrcode",value:function(e,t,n){var i=this;this.val=e,this.ywCall=t,this._open((function(e,t){if(e){var r=++i.mesIndex+"",a=setTimeout((function(){delete i.dataList[r],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+r),!i.pub.isEmpty(t)&&t==r)if(clearTimeout(a),delete i.dataList[r],"0000"==e.content.code){i.token=e.content.info.token;var s=e.content.info.qrcode;n(!0,s)}else n(!1,e.content.msg)}})),i.dataList[r]=r;var s={type:"c",action:"c.sign.token"},o={};o.appId=i.appId,o.fileId="222222",o.type="2",s.content=o,s.remark=r,i.ws.send(JSON.stringify(s))}else n(e,t)}))}},{key:"delQrcode",value:function(e,t,n,i){var r=this;this.delCall=n,this._open((function(n,a){if(n){var s=++r.mesIndex+"",o=setTimeout((function(){delete r.dataList[s],i(!1,"请求超时")}),r.timeOut);r._message((function(e){if("c.sign.token"==e.action){var t=r.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+s),!r.pub.isEmpty(t)&&t==s)if(clearTimeout(o),delete r.dataList[s],"0000"==e.content.code){r.token=e.content.info.token;var n=e.content.info.qrcode;i(!0,n)}else i(!1,e.content.msg)}})),r.dataList[s]=s;var c={type:"c",action:"c.sign.token"},l={};l.appId=r.appId,l.sealIndex=t,l.sealCert=e,l.type="3",c.content=l,c.remark=s,r.ws.send(JSON.stringify(c))}else i(n,a)}))}},{key:"qrSign",value:function(e,t,n){var i=this;this.ywCall=t,this._open((function(t,r){if(t){var a=++i.mesIndex+"",s=setTimeout((function(){delete i.dataList[a],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+a),!i.pub.isEmpty(t)&&t==a)if(clearTimeout(s),delete i.dataList[a],"0000"==e.content.code){i.token=e.content.info.token;var r=e.content.info.qrcode;n(!0,r)}else n(!1,e.content.msg)}})),i.dataList[a]=a;var o={type:"c",action:"c.sign.token"},c={};c.appId=i.appId,c.data=e,c.type="1",o.content=c,o.remark=a,i.ws.send(JSON.stringify(o))}else n(t,r)}))}},{key:"qrEnc",value:function(e,t,n){var i=this;this.ywCall=t,this._open((function(t,r){if(t){var a=++i.mesIndex+"",s=setTimeout((function(){delete i.dataList[a],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+a),!i.pub.isEmpty(t)&&t==a)if(clearTimeout(s),delete i.dataList[a],"0000"==e.content.code){i.token=e.content.info.token;var r=e.content.info.qrcode;n(!0,r)}else n(!1,e.content.msg)}})),i.dataList[a]=a;var o={type:"c",action:"c.sign.token"},c={};c.appId=i.appId,c.data=e,c.type="4",o.content=c,o.remark=a,i.ws.send(JSON.stringify(o))}else n(t,r)}))}},{key:"qrDec",value:function(e,t,n){var i=this;this.ywCall=t,this._open((function(t,r){if(t){var a=++i.mesIndex+"",s=setTimeout((function(){delete i.dataList[a],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+a),!i.pub.isEmpty(t)&&t==a)if(clearTimeout(s),delete i.dataList[a],"0000"==e.content.code){i.token=e.content.info.token;var r=e.content.info.qrcode;n(!0,r)}else n(!1,e.content.msg)}})),i.dataList[a]=a;var o={type:"c",action:"c.sign.token"},c={};c.appId=i.appId,c.data=e,c.type="5",o.content=c,o.remark=a,i.ws.send(JSON.stringify(o))}else n(t,r)}))}}])&&r(t.prototype,n),e}();t.qrcodeServer=a}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}!function(){"use strict";n(1433),n(9662),n(88),n(8580),n(6032);var e=n(3750),t=n(8543),i=n(13);"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Array.prototype.indexOf=function(e,t,n){return function(i,r){if(null==this)throw TypeError("Array.prototype.indexOf called on null or undefined");var a=e(this),s=a.length>>>0,o=n(0|r,s);if(o<0)o=t(0,s+o);else if(o>=s)return-1;if(void 0===i){for(;o!==s;++o)if(void 0===a[o]&&o in a)return o}else{if(i!=i)return-1;for(;o!==s;++o)if(a[o]===i)return o}return-1}}(Object,Math.max,Math.min),Array.prototype.splice=function(e){return function(t,n){var i,r,a,s,o=this;return"number"!=typeof t&&(t=0),t<0&&(t=this.length+t),"number"!=typeof n&&(n=this.length-t),n<0&&(n=0),i=e.prototype.slice.call(arguments,2),r=this.slice(0,t),a=this.slice(t,t+n),s=this.slice(t+n),this.length=0,r.forEach((function(e){o.push(e)})),i.forEach((function(e){o.push(e)})),s.forEach((function(e){o.push(e)})),a}}(Array);var r=new t.pubClass,a=r.getScriptUrl("kinsec_html_seal.js");if(!r.linkExist("/seal.css")){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",a+"assets/css/seal.css"),document.head.appendChild(s)}window.kinsecLog=new i.log,window.kinsecHtmlSeal=new e.htmlSeal(a)}()}();
!function(){var t={5233:function(t,n,e){"use strict";e.r(n),e(4336),e(3369),e(6253),e(851),e(110),window.kinggrid={},kinggrid={options:{timeout:6e4}},window.Signature={init:function(t){var n={type:"1"};n.areaCode=t.appcode,n.keyshield="",n.timeout=kinggrid.options.timeout,kinsecHtmlSeal.initHtml(n),null!=t.icon_remove&&kinsecHtmlSeal.setDelState(t.icon_remove),null!=t.icon_sealinfo&&kinsecHtmlSeal.setVerifyState(t.icon_sealinfo),t.okCall.call()},loadSignatures:function(t){var n=[],e=[];t.forEach((function(t,r){if("string"==typeof t.signatureData&&(t.signatureData=JSON.parse(t.signatureData)),e.indexOf(t.signatureData.posId)>-1)n.forEach((function(e,r){n[r].signatureId==t.signatureData.posId&&n[r].signatureData.push(t.signatureData)}));else{e.push(t.signatureData.posId);var o={signatureId:"",signatureData:[]};o.signatureId=t.signatureData.posId,o.signatureData.push(t.signatureData),n.push(o)}})),kinsecHtmlSeal.loadMoreSeals(n)},bind:function(t){kinsecHtmlSeal.html_call((function(n,e,r,o,i){"2"==e?(t.getSignatureid=function(){return i},t.remove((function(t){t&&kinsecHtmlSeal.delFresh(n)}))):console.log("未知错误:"+e+"---"+r)}))},create:function(){var t="";return{run:function(n){n.batchSignature?(n.batchSignature.forEach((function(t,e){n.batchSignature[e].posId=t.position,n.batchSignature[e].valArr=t.protectedItems})),kinsecHtmlSeal.keySealMore(n.batchSignature,(function(t){console.log(t);var e=JSON.parse(t),r=e.code,o=e.msg;if("0000"==r)for(var i=e.data.array,c=0;c<i.length;c++){var a=i[c],u=JSON.stringify(a.sealData),s=a.sealId,f=a.certSn;console.log(s),console.log(f),n.getSignatureid=function(){return s},n.getSignatureData=function(){return u},n.okCall((function(t){t&&(console.log(n.batchSignature[c].posId),kinsecHtmlSeal.stampFresh("2",document.getElementById(n.batchSignature[c].posId),u))}),n.batchSignature[c].documentid)}else kinsecHtmlSeal.dialog.mes(o)}))):kinsecHtmlSeal.keySeal(n.position,n.protectedItems,(function(e){var r=JSON.parse(e),o=r.code,i=r.msg;if("0000"==o){t=JSON.stringify(r.data.sealData);var c=r.data.sealId;r.data.certSn,n.getSignatureid=function(){return c},n.getSignatureData=function(){return t},n.okCall((function(e){e&&(console.log(n.position),kinsecHtmlSeal.stampFresh("2",document.getElementById(n.position),t))}))}else kinsecHtmlSeal.dialog.mes(i)}))},sealService:{getKeysn:function(t,n){KGGetKeySN().then((function(t){return n(t)}))}}}},show:function(){kinsecHtmlSeal.show()},hide:function(){kinsecHtmlSeal.hide()},verify:function(){return console.log(kinsecHtmlSeal.verify()),kinsecHtmlSeal.verify()},alert:function(t){kinsecHtmlSeal.dialog.mes(t,"4")},clearRPW:function(){kinsecHtmlSeal.logoutState("1",(function(t){console.log("退出登录")}))}},window.createCapability=function(){var t={};return t.promise=new Promise((function(n,e){t.resolve=n,t.reject=e})),t},window.ContainerId="",window.KG_HARD_EXT=function(){var t=createCapability();return this.promise=t.promise,RS().then((function(){t.resolve()})),this},KG_HARD_EXT.prototype={GetKeySN:function(t){var n=createCapability();try{var e=RS_KeyGetKeySn(ContainerId);"0000"==e.code?n.resolve(e.data.keySn):kinsecHtmlSeal.dialog.mes("获取KeySn失败！")}catch(t){kinsecHtmlSeal.dialog.mes("请确认客户端是否安装成功！")}finally{return n.promise}}},window.RS=function(){var t=createCapability();try{var n=RS_GetUserList();if("0000"==n.code){var e=n.data.userlist.indexOf("||"),r=n.data.userlist.slice(e+2);ContainerId=r,t.resolve()}else kinsecHtmlSeal.dialog.mes("请确认key是否插入！")}catch(t){kinsecHtmlSeal.dialog.mes("请确认客户端是否安装成功！")}finally{return t.promise}},window.iWebAssist=function(){var t=createCapability();return this.promise=t.promise,t.resolve(),this},iWebAssist.prototype={getKeyInfo:function(){var t=createCapability();try{kinsecHtmlSeal.getSealName((function(n){var e=JSON.parse(n);e.seals=[],e.data.forEach((function(t){e.seals.push({signname:t})})),t.resolve(e)}))}finally{return t.promise}}}},4963:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},3328:function(t){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},7007:function(t,n,e){var r=e(5286);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},9315:function(t,n,e){var r=e(2110),o=e(875),i=e(2337);t.exports=function(t){return function(n,e,c){var a,u=r(n),s=o(u.length),f=i(c,s);if(t&&e!=e){for(;s>f;)if((a=u[f++])!=a)return!0}else for(;s>f;f++)if((t||f in u)&&u[f]===e)return t||f||0;return!t&&-1}}},50:function(t,n,e){var r=e(741),o=e(9797),i=e(508),c=e(875),a=e(6886);t.exports=function(t,n){var e=1==t,u=2==t,s=3==t,f=4==t,l=6==t,p=5==t||l,v=n||a;return function(n,a,d){for(var h,y,g=i(n),m=o(g),S=r(a,d,3),x=c(m.length),_=0,b=e?v(n,x):u?v(n,0):void 0;x>_;_++)if((p||_ in m)&&(y=S(h=m[_],_,g),t))if(e)b[_]=y;else if(y)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:b.push(h)}else if(f)return!1;return l?-1:s||f?f:b}}},2736:function(t,n,e){var r=e(5286),o=e(4302),i=e(6314)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),r(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},6886:function(t,n,e){var r=e(2736);t.exports=function(t,n){return new(r(t))(n)}},1488:function(t,n,e){var r=e(2032),o=e(6314)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?e:i?r(n):"Object"==(c=r(n))&&"function"==typeof n.callee?"Arguments":c}},2032:function(t){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},5645:function(t){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},741:function(t,n,e){var r=e(4963);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},1355:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},7057:function(t,n,e){t.exports=!e(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:function(t,n,e){var r=e(5286),o=e(3816).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},2985:function(t,n,e){var r=e(3816),o=e(5645),i=e(7728),c=e(7234),a=e(741),u=function(t,n,e){var s,f,l,p,v=t&u.F,d=t&u.G,h=t&u.S,y=t&u.P,g=t&u.B,m=d?r:h?r[n]||(r[n]={}):(r[n]||{}).prototype,S=d?o:o[n]||(o[n]={}),x=S.prototype||(S.prototype={});for(s in d&&(e=n),e)l=((f=!v&&m&&void 0!==m[s])?m:e)[s],p=g&&f?a(l,r):y&&"function"==typeof l?a(Function.call,l):l,m&&c(m,s,l,t&u.U),S[s]!=l&&i(S,s,p),y&&x[s]!=l&&(x[s]=l)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},4253:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},3531:function(t,n,e){var r=e(741),o=e(8851),i=e(6555),c=e(7007),a=e(875),u=e(9002),s={},f={},l=t.exports=function(t,n,e,l,p){var v,d,h,y,g=p?function(){return t}:u(t),m=r(e,l,n?2:1),S=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(v=a(t.length);v>S;S++)if((y=n?m(c(d=t[S])[0],d[1]):m(t[S]))===s||y===f)return y}else for(h=g.call(t);!(d=h.next()).done;)if((y=o(h,m,d.value,n))===s||y===f)return y};l.BREAK=s,l.RETURN=f},18:function(t,n,e){t.exports=e(3825)("native-function-to-string",Function.toString)},3816:function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},9181:function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},7728:function(t,n,e){var r=e(9275),o=e(681);t.exports=e(7057)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},639:function(t,n,e){var r=e(3816).document;t.exports=r&&r.documentElement},1734:function(t,n,e){t.exports=!e(7057)&&!e(4253)((function(){return 7!=Object.defineProperty(e(2457)("div"),"a",{get:function(){return 7}}).a}))},7242:function(t){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},9797:function(t,n,e){var r=e(2032);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6555:function(t,n,e){var r=e(2803),o=e(6314)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},4302:function(t,n,e){var r=e(2032);t.exports=Array.isArray||function(t){return"Array"==r(t)}},5286:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},8851:function(t,n,e){var r=e(7007);t.exports=function(t,n,e,o){try{return o?n(r(e)[0],e[1]):n(e)}catch(n){var i=t.return;throw void 0!==i&&r(i.call(t)),n}}},7462:function(t,n,e){var r=e(6314)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var e=!1;try{var i=[7],c=i[r]();c.next=function(){return{done:e=!0}},i[r]=function(){return c},t(i)}catch(t){}return e}},2803:function(t){t.exports={}},4461:function(t){t.exports=!1},4351:function(t,n,e){var r=e(3816),o=e(4193).set,i=r.MutationObserver||r.WebKitMutationObserver,c=r.process,a=r.Promise,u="process"==e(2032)(c);t.exports=function(){var t,n,e,s=function(){var r,o;for(u&&(r=c.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(u)e=function(){c.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);e=function(){f.then(s)}}else e=function(){o.call(r,s)};else{var l=!0,p=document.createTextNode("");new i(s).observe(p,{characterData:!0}),e=function(){p.data=l=!l}}return function(r){var o={fn:r,next:void 0};n&&(n.next=o),t||(t=o,e()),n=o}}},3499:function(t,n,e){"use strict";var r=e(4963);function o(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=r(n),this.reject=r(e)}t.exports.f=function(t){return new o(t)}},9275:function(t,n,e){var r=e(7007),o=e(1734),i=e(1689),c=Object.defineProperty;n.f=e(7057)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return c(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},188:function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},94:function(t,n,e){var r=e(7007),o=e(5286),i=e(3499);t.exports=function(t,n){if(r(t),o(n)&&n.constructor===t)return n;var e=i.f(t);return(0,e.resolve)(n),e.promise}},681:function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},4408:function(t,n,e){var r=e(7234);t.exports=function(t,n,e){for(var o in n)r(t,o,n[o],e);return t}},7234:function(t,n,e){var r=e(3816),o=e(7728),i=e(9181),c=e(3953)("src"),a=e(18),u="toString",s=(""+a).split(u);e(5645).inspectSource=function(t){return a.call(t)},(t.exports=function(t,n,e,a){var u="function"==typeof e;u&&(i(e,"name")||o(e,"name",n)),t[n]!==e&&(u&&(i(e,c)||o(e,c,t[n]?""+t[n]:s.join(String(n)))),t===r?t[n]=e:a?t[n]?t[n]=e:o(t,n,e):(delete t[n],o(t,n,e)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[c]||a.call(this)}))},2974:function(t,n,e){"use strict";var r=e(3816),o=e(9275),i=e(7057),c=e(6314)("species");t.exports=function(t){var n=r[t];i&&n&&!n[c]&&o.f(n,c,{configurable:!0,get:function(){return this}})}},2943:function(t,n,e){var r=e(9275).f,o=e(9181),i=e(6314)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},3825:function(t,n,e){var r=e(5645),o=e(3816),i="__core-js_shared__",c=o[i]||(o[i]={});(t.exports=function(t,n){return c[t]||(c[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:function(t,n,e){var r=e(7007),o=e(4963),i=e(6314)("species");t.exports=function(t,n){var e,c=r(t).constructor;return void 0===c||null==(e=r(c)[i])?n:o(e)}},7717:function(t,n,e){"use strict";var r=e(4253);t.exports=function(t,n){return!!t&&r((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},4193:function(t,n,e){var r,o,i,c=e(741),a=e(7242),u=e(639),s=e(2457),f=e(3816),l=f.process,p=f.setImmediate,v=f.clearImmediate,d=f.MessageChannel,h=f.Dispatch,y=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},S=function(t){m.call(t.data)};p&&v||(p=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return g[++y]=function(){a("function"==typeof t?t:Function(t),n)},r(y),y},v=function(t){delete g[t]},"process"==e(2032)(l)?r=function(t){l.nextTick(c(m,t,1))}:h&&h.now?r=function(t){h.now(c(m,t,1))}:d?(i=(o=new d).port2,o.port1.onmessage=S,r=c(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",S,!1)):r="onreadystatechange"in s("script")?function(t){u.appendChild(s("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(c(m,t,1),0)}),t.exports={set:p,clear:v}},2337:function(t,n,e){var r=e(1467),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=r(t))<0?o(t+n,0):i(t,n)}},1467:function(t){var n=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:n)(t)}},2110:function(t,n,e){var r=e(9797),o=e(1355);t.exports=function(t){return r(o(t))}},875:function(t,n,e){var r=e(1467),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},508:function(t,n,e){var r=e(1355);t.exports=function(t){return Object(r(t))}},1689:function(t,n,e){var r=e(5286);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},3953:function(t){var n=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))}},575:function(t,n,e){var r=e(3816).navigator;t.exports=r&&r.userAgent||""},6314:function(t,n,e){var r=e(3825)("wks"),o=e(3953),i=e(3816).Symbol,c="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=c&&i[t]||(c?i:o)("Symbol."+t))}).store=r},9002:function(t,n,e){var r=e(1488),o=e(6314)("iterator"),i=e(2803);t.exports=e(5645).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},4336:function(t,n,e){"use strict";var r=e(2985),o=e(50)(0),i=e(7717)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},3369:function(t,n,e){"use strict";var r=e(2985),o=e(9315)(!1),i=[].indexOf,c=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(c||!e(7717)(i)),"Array",{indexOf:function(t){return c?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},110:function(t,n,e){"use strict";var r=e(2985),o=e(639),i=e(2032),c=e(2337),a=e(875),u=[].slice;r(r.P+r.F*e(4253)((function(){o&&u.call(o)})),"Array",{slice:function(t,n){var e=a(this.length),r=i(this);if(n=void 0===n?e:n,"Array"==r)return u.call(this,t,n);for(var o=c(t,e),s=c(n,e),f=a(s-o),l=new Array(f),p=0;p<f;p++)l[p]="String"==r?this.charAt(o+p):this[o+p];return l}})},6253:function(t,n,e){"use strict";var r=e(1488),o={};o[e(6314)("toStringTag")]="z",o+""!="[object z]"&&e(7234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},851:function(t,n,e){"use strict";var r,o,i,c,a=e(4461),u=e(3816),s=e(741),f=e(1488),l=e(2985),p=e(5286),v=e(4963),d=e(3328),h=e(3531),y=e(8364),g=e(4193).set,m=e(4351)(),S=e(3499),x=e(188),_=e(575),b=e(94),w="Promise",k=u.TypeError,j=u.process,O=j&&j.versions,E=O&&O.v8||"",H=u.Promise,P="process"==f(j),A=function(){},I=o=S.f,D=!!function(){try{var t=H.resolve(1),n=(t.constructor={})[e(6314)("species")]=function(t){t(A,A)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof n&&0!==E.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var n;return!(!p(t)||"function"!=typeof(n=t.then))&&n},T=function(t,n){if(!t._n){t._n=!0;var e=t._c;m((function(){for(var r=t._v,o=1==t._s,i=0,c=function(n){var e,i,c,a=o?n.ok:n.fail,u=n.resolve,s=n.reject,f=n.domain;try{a?(o||(2==t._h&&N(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),c=!0)),e===n.promise?s(k("Promise-chain cycle")):(i=M(e))?i.call(e,u,s):u(e)):s(r)}catch(t){f&&!c&&f.exit(),s(t)}};e.length>i;)c(e[i++]);t._c=[],t._n=!1,n&&!t._h&&C(t)}))}},C=function(t){g.call(u,(function(){var n,e,r,o=t._v,i=F(t);if(i&&(n=x((function(){P?j.emit("unhandledRejection",o,t):(e=u.onunhandledrejection)?e({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=P||F(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){g.call(u,(function(){var n;P?j.emit("rejectionHandled",t):(n=u.onrejectionhandled)&&n({promise:t,reason:t._v})}))},R=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),T(n,!0))},K=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw k("Promise can't be resolved itself");(n=M(t))?m((function(){var r={_w:e,_d:!1};try{n.call(t,s(K,r,1),s(R,r,1))}catch(t){R.call(r,t)}})):(e._v=t,e._s=1,T(e,!1))}catch(t){R.call({_w:e,_d:!1},t)}}};D||(H=function(t){d(this,H,w,"_h"),v(t),r.call(this);try{t(s(K,this,1),s(R,this,1))}catch(t){R.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(4408)(H.prototype,{then:function(t,n){var e=I(y(this,H));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=P?j.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&T(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=s(K,t,1),this.reject=s(R,t,1)},S.f=I=function(t){return t===H||t===c?new i(t):o(t)}),l(l.G+l.W+l.F*!D,{Promise:H}),e(2943)(H,w),e(2974)(w),c=e(5645).Promise,l(l.S+l.F*!D,w,{reject:function(t){var n=I(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(a||!D),w,{resolve:function(t){return b(a&&this===c?H:this,t)}}),l(l.S+l.F*!(D&&e(7462)((function(t){H.all(t).catch(A)}))),w,{all:function(t){var n=this,e=I(n),r=e.resolve,o=e.reject,i=x((function(){var e=[],i=0,c=1;h(t,!1,(function(t){var a=i++,u=!1;e.push(void 0),c++,n.resolve(t).then((function(t){u||(u=!0,e[a]=t,--c||r(e))}),o)})),--c||r(e)}));return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=I(n),r=e.reject,o=x((function(){h(t,!1,(function(t){n.resolve(t).then(e.resolve,r)}))}));return o.e&&r(o.v),e.promise}})}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(5233)}();
