!function(){var e={6415:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},2231:function(e,t,n){var i=n(3283);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},7343:function(e,t,n){var i=n(3459),r=n(8211),o=n(1778),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},9429:function(e,t,n){"use strict";var i=n(7010).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},1370:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},8:function(e,t,n){var i=n(3283);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},2304:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9645:function(e,t,n){"use strict";var i,r=n(2304),o=n(294),s=n(3123),a=n(3283),c=n(8887),u=n(262),l=n(3326),f=n(1203),p=n(1778).f,d=n(4153),g=n(4007),v=n(3459),h=n(2959),y=s.Int8Array,m=y&&y.prototype,k=s.Uint8ClampedArray,_=k&&k.prototype,b=y&&d(y),S=m&&d(m),w=Object.prototype,E=w.isPrototypeOf,x=v("toStringTag"),P=h("TYPED_ARRAY_TAG"),T=r&&!!g&&"Opera"!==u(s.opera),C=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I={BigInt64Array:8,BigUint64Array:8},A=function(e){if(!a(e))return!1;var t=u(e);return c(R,t)||c(I,t)};for(i in R)s[i]||(T=!1);if((!T||"function"!=typeof b||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},T))for(i in R)s[i]&&g(s[i],b);if((!T||!S||S===w)&&(S=b.prototype,T))for(i in R)s[i]&&g(s[i].prototype,S);if(T&&d(_)!==S&&g(_,S),o&&!c(S,x))for(i in C=!0,p(S,x,{get:function(){return a(this)?this[P]:void 0}}),R)s[i]&&l(s[i],P,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:C&&P,aTypedArray:function(e){if(A(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(g){if(E.call(b,e))return e}else for(var t in R)if(c(R,i)){var n=s[t];if(n&&(e===n||E.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(o){if(n)for(var i in R){var r=s[i];r&&c(r.prototype,e)&&delete r.prototype[e]}S[e]&&!n||f(S,e,n?t:T&&m[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(o){if(g){if(n)for(i in R)(r=s[i])&&c(r,e)&&delete r[e];if(b[e]&&!n)return;try{return f(b,e,n?t:T&&y[e]||t)}catch(e){}}for(i in R)!(r=s[i])||r[e]&&!n||f(r,e,t)}},isView:function(e){if(!a(e))return!1;var t=u(e);return"DataView"===t||c(R,t)||c(I,t)},isTypedArray:A,TypedArray:b,TypedArrayPrototype:S}},5351:function(e,t,n){"use strict";var i=n(3123),r=n(294),o=n(2304),s=n(3326),a=n(1837),c=n(6006),u=n(1370),l=n(2195),f=n(4807),p=n(5784),d=n(7067),g=n(4153),v=n(4007),h=n(4717).f,y=n(1778).f,m=n(3402),k=n(8456),_=n(6174),b=_.get,S=_.set,w="ArrayBuffer",E="DataView",x="Wrong index",P=i.ArrayBuffer,T=P,C=i.DataView,R=C&&C.prototype,I=Object.prototype,A=i.RangeError,O=d.pack,L=d.unpack,D=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},N=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},j=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return O(e,23,4)},U=function(e){return O(e,52,8)},B=function(e,t){y(e.prototype,t,{get:function(){return b(this)[t]}})},V=function(e,t,n,i){var r=p(n),o=b(e);if(r+t>o.byteLength)throw A(x);var s=b(o.buffer).bytes,a=r+o.byteOffset,c=s.slice(a,a+t);return i?c:c.reverse()},J=function(e,t,n,i,r,o){var s=p(n),a=b(e);if(s+t>a.byteLength)throw A(x);for(var c=b(a.buffer).bytes,u=s+a.byteOffset,l=i(+r),f=0;f<t;f++)c[u+f]=l[o?f:t-f-1]};if(o){if(!c((function(){P(1)}))||!c((function(){new P(-1)}))||c((function(){return new P,new P(1.5),new P(NaN),P.name!=w}))){for(var G,H=(T=function(e){return u(this,T),new P(p(e))}).prototype=P.prototype,z=h(P),F=0;z.length>F;)(G=z[F++])in T||s(T,G,P[G]);H.constructor=T}v&&g(R)!==I&&v(R,I);var W=new C(new T(2)),Y=R.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||a(R,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){u(this,T,w);var t=p(e);S(this,{bytes:m.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},C=function(e,t,n){u(this,C,E),u(e,T,E);var i=b(e).byteLength,o=l(t);if(o<0||o>i)throw A("Wrong offset");if(o+(n=void 0===n?i-o:f(n))>i)throw A("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:o}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},r&&(B(T,"byteLength"),B(C,"buffer"),B(C,"byteLength"),B(C,"byteOffset")),a(C.prototype,{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return j(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return j(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,D,t)},setUint8:function(e,t){J(this,1,e,D,t)},setInt16:function(e,t){J(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});k(T,w),k(C,E),e.exports={ArrayBuffer:T,DataView:C}},4382:function(e,t,n){"use strict";var i=n(4119),r=n(4951),o=n(4807),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),a=o(n.length),c=r(e,a),u=r(t,a),l=arguments.length>2?arguments[2]:void 0,f=s((void 0===l?a:r(l,a))-u,a-c),p=1;for(u<c&&c<u+f&&(p=-1,u+=f-1,c+=f-1);f-- >0;)u in n?n[c]=n[u]:delete n[c],c+=p,u+=p;return n}},3402:function(e,t,n){"use strict";var i=n(4119),r=n(4951),o=n(4807);e.exports=function(e){for(var t=i(this),n=o(t.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,u=void 0===c?n:r(c,n);u>a;)t[a++]=e;return t}},6447:function(e,t,n){"use strict";var i=n(5626).forEach,r=n(1204),o=n(4508),s=r("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},7149:function(e,t,n){var i=n(3817),r=n(4807),o=n(4951),s=function(e){return function(t,n,s){var a,c=i(t),u=r(c.length),l=o(s,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},5626:function(e,t,n){var i=n(2700),r=n(8387),o=n(4119),s=n(4807),a=n(7639),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(g,v,h,y){for(var m,k,_=o(g),b=r(_),S=i(v,h,3),w=s(b.length),E=0,x=y||a,P=t?x(g,w):n||p?x(g,0):void 0;w>E;E++)if((d||E in b)&&(k=S(m=b[E],E,_),e))if(t)P[E]=k;else if(k)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:c.call(P,m)}else switch(e){case 4:return!1;case 7:c.call(P,m)}return f?-1:u||l?l:P}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},3505:function(e,t,n){"use strict";var i=n(3817),r=n(2195),o=n(4807),s=n(1204),a=n(4508),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),p=a("indexOf",{ACCESSORS:!0,1:0}),d=l||!f||!p;e.exports=d?function(e){if(l)return u.apply(this,arguments)||0;var t=i(this),n=o(t.length),s=n-1;for(arguments.length>1&&(s=c(s,r(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},1204:function(e,t,n){"use strict";var i=n(6006);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},4508:function(e,t,n){var i=n(294),r=n(6006),o=n(8887),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,f=o(t,1)?t[1]:void 0;return a[e]=!!n&&!r((function(){if(u&&!i)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,f)}))}},1189:function(e,t,n){var i=n(6415),r=n(4119),o=n(8387),s=n(4807),a=function(e){return function(t,n,a,c){i(n);var u=r(t),l=o(u),f=s(u.length),p=e?f-1:0,d=e?-1:1;if(a<2)for(;;){if(p in l){c=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(c=n(c,l[p],p,u));return c}};e.exports={left:a(!1),right:a(!0)}},7639:function(e,t,n){var i=n(3283),r=n(3493),o=n(3459)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},2730:function(e,t,n){var i=n(3459)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},5891:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},262:function(e,t,n){var i=n(1094),r=n(5891),o=n(3459)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},6667:function(e,t,n){var i=n(8887),r=n(9852),o=n(662),s=n(1778);e.exports=function(e,t){for(var n=r(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];i(e,l)||a(e,l,c(t,l))}}},8121:function(e,t,n){var i=n(3459)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},9692:function(e,t,n){var i=n(6006);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1247:function(e,t,n){"use strict";var i=n(3218).IteratorPrototype,r=n(8211),o=n(7464),s=n(8456),a=n(8445),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=r(i,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},3326:function(e,t,n){var i=n(294),r=n(1778),o=n(7464);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},7464:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9026:function(e,t,n){"use strict";var i=n(4059),r=n(1247),o=n(4153),s=n(4007),a=n(8456),c=n(3326),u=n(1203),l=n(3459),f=n(9261),p=n(8445),d=n(3218),g=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,h=l("iterator"),y="keys",m="values",k="entries",_=function(){return this};e.exports=function(e,t,n,l,d,b,S){r(n,t,l);var w,E,x,P=function(e){if(e===d&&A)return A;if(!v&&e in R)return R[e];switch(e){case y:case m:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",C=!1,R=e.prototype,I=R[h]||R["@@iterator"]||d&&R[d],A=!v&&I||P(d),O="Array"==t&&R.entries||I;if(O&&(w=o(O.call(new e)),g!==Object.prototype&&w.next&&(f||o(w)===g||(s?s(w,g):"function"!=typeof w[h]&&c(w,h,_)),a(w,T,!0,!0),f&&(p[T]=_))),d==m&&I&&I.name!==m&&(C=!0,A=function(){return I.call(this)}),f&&!S||R[h]===A||c(R,h,A),p[t]=A,d)if(E={values:P(m),keys:b?A:P(y),entries:P(k)},S)for(x in E)(v||C||!(x in R))&&u(R,x,E[x]);else i({target:t,proto:!0,forced:v||C},E);return E}},294:function(e,t,n){var i=n(6006);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7392:function(e,t,n){var i=n(3123),r=n(3283),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},7275:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9178:function(e,t,n){var i=n(8504);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},7983:function(e,t,n){var i=n(5891),r=n(3123);e.exports="process"==i(r.process)},6492:function(e,t,n){var i=n(8504);e.exports=/web0s(?!.*chrome)/i.test(i)},8504:function(e,t,n){var i=n(8747);e.exports=i("navigator","userAgent")||""},4819:function(e,t,n){var i,r,o=n(3123),s=n(8504),a=o.process,c=a&&a.versions,u=c&&c.v8;u?r=(i=u.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},2615:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4059:function(e,t,n){var i=n(3123),r=n(662).f,o=n(3326),s=n(1203),a=n(1605),c=n(6667),u=n(1095);e.exports=function(e,t){var n,l,f,p,d,g=e.target,v=e.global,h=e.stat;if(n=v?i:h?i[g]||a(g,{}):(i[g]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=r(n,l))&&d.value:n[l],!u(v?l:g+(h?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),s(n,l,p,e)}}},6006:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5453:function(e,t,n){"use strict";n(3299);var i=n(1203),r=n(6006),o=n(3459),s=n(8324),a=n(3326),c=o("species"),u=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=o("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var g=o(e),v=!r((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),h=v&&!r((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return t=!0,null},n[g](""),!t}));if(!v||!h||"replace"===e&&(!u||!l||p)||"split"===e&&!d){var y=/./[g],m=n(g,""[e],(function(e,t,n,i,r){return t.exec===s?v&&!r?{done:!0,value:y.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),k=m[0],_=m[1];i(String.prototype,e,k),i(RegExp.prototype,g,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}f&&a(RegExp.prototype[g],"sham",!0)}},2700:function(e,t,n){var i=n(6415);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},8747:function(e,t,n){var i=n(7034),r=n(3123),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},8611:function(e,t,n){var i=n(262),r=n(8445),o=n(3459)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[i(e)]}},595:function(e,t,n){var i=n(4119),r=Math.floor,o="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,a=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,c,u,l){var f=n+e.length,p=c.length,d=a;return void 0!==u&&(u=i(u),d=s),o.call(l,d,(function(i,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":s=u[o.slice(1,-1)];break;default:var a=+o;if(0===a)return i;if(a>p){var l=r(a/10);return 0===l?i:l<=p?void 0===c[l-1]?o.charAt(1):c[l-1]+o.charAt(1):i}s=c[a-1]}return void 0===s?"":s}))}},3123:function(e){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},8887:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},2863:function(e){e.exports={}},8168:function(e,t,n){var i=n(3123);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},3707:function(e,t,n){var i=n(8747);e.exports=i("document","documentElement")},9206:function(e,t,n){var i=n(294),r=n(6006),o=n(7392);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7067:function(e){var t=1/0,n=Math.abs,i=Math.pow,r=Math.floor,o=Math.log,s=Math.LN2;e.exports={pack:function(e,a,c){var u,l,f,p=new Array(c),d=8*c-a-1,g=(1<<d)-1,v=g>>1,h=23===a?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,m=0;for((e=n(e))!=e||e===t?(l=e!=e?1:0,u=g):(u=r(o(e)/s),e*(f=i(2,-u))<1&&(u--,f*=2),(e+=u+v>=1?h/f:h*i(2,1-v))*f>=2&&(u++,f/=2),u+v>=g?(l=0,u=g):u+v>=1?(l=(e*f-1)*i(2,a),u+=v):(l=e*i(2,v-1)*i(2,a),u=0));a>=8;p[m++]=255&l,l/=256,a-=8);for(u=u<<a|l,d+=a;d>0;p[m++]=255&u,u/=256,d-=8);return p[--m]|=128*y,p},unpack:function(e,n){var r,o=e.length,s=8*o-n-1,a=(1<<s)-1,c=a>>1,u=s-7,l=o-1,f=e[l--],p=127&f;for(f>>=7;u>0;p=256*p+e[l],l--,u-=8);for(r=p&(1<<-u)-1,p>>=-u,u+=n;u>0;r=256*r+e[l],l--,u-=8);if(0===p)p=1-c;else{if(p===a)return r?NaN:f?-1/0:t;r+=i(2,n),p-=c}return(f?-1:1)*r*i(2,p-n)}}},8387:function(e,t,n){var i=n(6006),r=n(5891),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},1919:function(e,t,n){var i=n(3283),r=n(4007);e.exports=function(e,t,n){var o,s;return r&&"function"==typeof(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&r(e,s),e}},6401:function(e,t,n){var i=n(2419),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},6174:function(e,t,n){var i,r,o,s=n(3452),a=n(3123),c=n(3283),u=n(3326),l=n(8887),f=n(2419),p=n(713),d=n(2863),g=a.WeakMap;if(s){var v=f.state||(f.state=new g),h=v.get,y=v.has,m=v.set;i=function(e,t){return t.facade=e,m.call(v,e,t),t},r=function(e){return h.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var k=p("state");d[k]=!0,i=function(e,t){return t.facade=e,u(e,k,t),t},r=function(e){return l(e,k)?e[k]:{}},o=function(e){return l(e,k)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3118:function(e,t,n){var i=n(3459),r=n(8445),o=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},3493:function(e,t,n){var i=n(5891);e.exports=Array.isArray||function(e){return"Array"==i(e)}},1095:function(e,t,n){var i=n(6006),r=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},3283:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},9261:function(e){e.exports=!1},7306:function(e,t,n){var i=n(3283),r=n(5891),o=n(3459)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},4854:function(e,t,n){var i=n(8),r=n(3118),o=n(4807),s=n(2700),a=n(8611),c=n(1944),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,f,p,d,g,v,h,y=n&&n.that,m=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),b=s(t,y,1+m+_),S=function(e){return l&&c(l),new u(!0,e)},w=function(e){return m?(i(e),_?b(e[0],e[1],S):b(e[0],e[1])):_?b(e,S):b(e)};if(k)l=e;else{if("function"!=typeof(f=a(e)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,d=o(e.length);d>p;p++)if((g=w(e[p]))&&g instanceof u)return g;return new u(!1)}l=f.call(e)}for(v=l.next;!(h=v.call(l)).done;){try{g=w(h.value)}catch(e){throw c(l),e}if("object"==typeof g&&g&&g instanceof u)return g}return new u(!1)}},1944:function(e,t,n){var i=n(8);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},3218:function(e,t,n){"use strict";var i,r,o,s=n(4153),a=n(3326),c=n(8887),u=n(3459),l=n(9261),f=u("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(i=r):p=!0),null==i&&(i={}),l||c(i,f)||a(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},8445:function(e){e.exports={}},5489:function(e,t,n){var i,r,o,s,a,c,u,l,f=n(3123),p=n(662).f,d=n(852).set,g=n(9178),v=n(6492),h=n(7983),y=f.MutationObserver||f.WebKitMutationObserver,m=f.document,k=f.process,_=f.Promise,b=p(f,"queueMicrotask"),S=b&&b.value;S||(i=function(){var e,t;for(h&&(e=k.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():o=void 0,e}}o=void 0,e&&e.enter()},g||h||v||!y||!m?_&&_.resolve?(u=_.resolve(void 0),l=u.then,s=function(){l.call(u,i)}):s=h?function(){k.nextTick(i)}:function(){d.call(f,i)}:(a=!0,c=m.createTextNode(""),new y(i).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,s()),o=t}},9357:function(e,t,n){var i=n(3123);e.exports=i.Promise},7224:function(e,t,n){var i=n(6006);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},3452:function(e,t,n){var i=n(3123),r=n(6401),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r(o))},8644:function(e,t,n){"use strict";var i=n(6415),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},7053:function(e,t,n){var i=n(7306);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},8211:function(e,t,n){var i,r=n(8),o=n(9548),s=n(2615),a=n(2863),c=n(3707),u=n(7392),l=n(713)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;d=i?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete d.prototype[s[n]];return d()};a[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=r(e),n=new f,f.prototype=null,n[l]=e):n=d(),void 0===t?n:o(n,t)}},9548:function(e,t,n){var i=n(294),r=n(1778),o=n(8),s=n(5244);e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=s(t),a=i.length,c=0;a>c;)r.f(e,n=i[c++],t[n]);return e}},1778:function(e,t,n){var i=n(294),r=n(9206),o=n(8),s=n(963),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},662:function(e,t,n){var i=n(294),r=n(7613),o=n(7464),s=n(3817),a=n(963),c=n(8887),u=n(9206),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},4717:function(e,t,n){var i=n(4121),r=n(2615).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},7781:function(e,t){t.f=Object.getOwnPropertySymbols},4153:function(e,t,n){var i=n(8887),r=n(4119),o=n(713),s=n(9692),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},4121:function(e,t,n){var i=n(8887),r=n(3817),o=n(7149).indexOf,s=n(2863);e.exports=function(e,t){var n,a=r(e),c=0,u=[];for(n in a)!i(s,n)&&i(a,n)&&u.push(n);for(;t.length>c;)i(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},5244:function(e,t,n){var i=n(4121),r=n(2615);e.exports=Object.keys||function(e){return i(e,r)}},7613:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},4007:function(e,t,n){var i=n(8),r=n(2231);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},350:function(e,t,n){"use strict";var i=n(1094),r=n(262);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},9852:function(e,t,n){var i=n(8747),r=n(4717),o=n(7781),s=n(8);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},7034:function(e,t,n){var i=n(3123);e.exports=i},9637:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9986:function(e,t,n){var i=n(8),r=n(3283),o=n(8644);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},1837:function(e,t,n){var i=n(1203);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},1203:function(e,t,n){var i=n(3123),r=n(3326),o=n(8887),s=n(1605),a=n(6401),c=n(6174),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,a){var c,u=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||r(n,"name",t),(c=l(n)).source||(c.source=f.join("string"==typeof t?t:""))),e!==i?(u?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:r(e,t,n)):p?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},4177:function(e,t,n){var i=n(5891),r=n(8324);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},8324:function(e,t,n){"use strict";var i,r,o=n(5081),s=n(7425),a=RegExp.prototype.exec,c=String.prototype.replace,u=a,l=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),f=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(u=function(e){var t,n,i,r,s=this,u=f&&s.sticky,d=o.call(s),g=s.source,v=0,h=e;return u&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),h=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(g="(?: "+g+")",h=" "+h,v++),n=new RegExp("^(?:"+g+")",d)),p&&(n=new RegExp("^"+g+"$(?!\\s)",d)),l&&(t=s.lastIndex),i=a.call(u?n:s,h),u?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:l&&i&&(s.lastIndex=s.global?i.index+i[0].length:t),p&&i&&i.length>1&&c.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),e.exports=u},5081:function(e,t,n){"use strict";var i=n(8);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},7425:function(e,t,n){"use strict";var i=n(6006);function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},7154:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1605:function(e,t,n){var i=n(3123),r=n(3326);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},5231:function(e,t,n){"use strict";var i=n(8747),r=n(1778),o=n(3459),s=n(294),a=o("species");e.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8456:function(e,t,n){var i=n(1778).f,r=n(8887),o=n(3459)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},713:function(e,t,n){var i=n(7562),r=n(2959),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},2419:function(e,t,n){var i=n(3123),r=n(1605),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},7562:function(e,t,n){var i=n(9261),r=n(2419);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},4062:function(e,t,n){var i=n(8),r=n(6415),o=n(3459)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[o])?t:r(n)}},7010:function(e,t,n){var i=n(2195),r=n(7154),o=function(e){return function(t,n){var o,s,a=String(r(t)),c=i(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},852:function(e,t,n){var i,r,o,s=n(3123),a=n(6006),c=n(2700),u=n(3707),l=n(7392),f=n(9178),p=n(7983),d=s.location,g=s.setImmediate,v=s.clearImmediate,h=s.process,y=s.MessageChannel,m=s.Dispatch,k=0,_={},b=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){b(e)}},w=function(e){b(e.data)},E=function(e){s.postMessage(e+"",d.protocol+"//"+d.host)};g&&v||(g=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++k]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(k),k},v=function(e){delete _[e]},p?i=function(e){h.nextTick(S(e))}:m&&m.now?i=function(e){m.now(S(e))}:y&&!f?(o=(r=new y).port2,r.port1.onmessage=w,i=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&d&&"file:"!==d.protocol&&!a(E)?(i=E,s.addEventListener("message",w,!1)):i="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),b(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:g,clear:v}},4951:function(e,t,n){var i=n(2195),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5784:function(e,t,n){var i=n(2195),r=n(4807);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},3817:function(e,t,n){var i=n(8387),r=n(7154);e.exports=function(e){return i(r(e))}},2195:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},4807:function(e,t,n){var i=n(2195),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},4119:function(e,t,n){var i=n(7154);e.exports=function(e){return Object(i(e))}},6924:function(e,t,n){var i=n(7906);e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},7906:function(e,t,n){var i=n(2195);e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},963:function(e,t,n){var i=n(3283);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},1094:function(e,t,n){var i={};i[n(3459)("toStringTag")]="z",e.exports="[object z]"===String(i)},9594:function(e,t,n){"use strict";var i=n(4059),r=n(3123),o=n(294),s=n(8422),a=n(9645),c=n(5351),u=n(1370),l=n(7464),f=n(3326),p=n(4807),d=n(5784),g=n(6924),v=n(963),h=n(8887),y=n(262),m=n(3283),k=n(8211),_=n(4007),b=n(4717).f,S=n(2552),w=n(5626).forEach,E=n(5231),x=n(1778),P=n(662),T=n(6174),C=n(1919),R=T.get,I=T.set,A=x.f,O=P.f,L=Math.round,D=r.RangeError,M=c.ArrayBuffer,N=c.DataView,j=a.NATIVE_ARRAY_BUFFER_VIEWS,q=a.TYPED_ARRAY_TAG,U=a.TypedArray,B=a.TypedArrayPrototype,V=a.aTypedArrayConstructor,J=a.isTypedArray,G="BYTES_PER_ELEMENT",H="Wrong length",z=function(e,t){for(var n=0,i=t.length,r=new(V(e))(i);i>n;)r[n]=t[n++];return r},F=function(e,t){A(e,t,{get:function(){return R(this)[t]}})},W=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},Y=function(e,t){return J(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return Y(e,t=v(t,!0))?l(2,e[t]):O(e,t)},K=function(e,t,n){return!(Y(e,t=v(t,!0))&&m(n)&&h(n,"value"))||h(n,"get")||h(n,"set")||n.configurable||h(n,"writable")&&!n.writable||h(n,"enumerable")&&!n.enumerable?A(e,t,n):(e[t]=n.value,e)};o?(j||(P.f=$,x.f=K,F(B,"buffer"),F(B,"byteOffset"),F(B,"byteLength"),F(B,"length")),i({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:$,defineProperty:K}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,a=e+(n?"Clamped":"")+"Array",c="get"+e,l="set"+e,v=r[a],h=v,y=h&&h.prototype,x={},P=function(e,t){A(e,t,{get:function(){return function(e,t){var n=R(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var r=R(e);n&&(i=(i=L(i))<0?0:i>255?255:255&i),r.view[l](t*o+r.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};j?s&&(h=t((function(e,t,n,i){return u(e,h,a),C(m(t)?W(t)?void 0!==i?new v(t,g(n,o),i):void 0!==n?new v(t,g(n,o)):new v(t):J(t)?z(h,t):S.call(h,t):new v(d(t)),e,h)})),_&&_(h,U),w(b(v),(function(e){e in h||f(h,e,v[e])})),h.prototype=y):(h=t((function(e,t,n,i){u(e,h,a);var r,s,c,l=0,f=0;if(m(t)){if(!W(t))return J(t)?z(h,t):S.call(h,t);r=t,f=g(n,o);var v=t.byteLength;if(void 0===i){if(v%o)throw D(H);if((s=v-f)<0)throw D(H)}else if((s=p(i)*o)+f>v)throw D(H);c=s/o}else c=d(t),r=new M(s=c*o);for(I(e,{buffer:r,byteOffset:f,byteLength:s,length:c,view:new N(r)});l<c;)P(e,l++)})),_&&_(h,U),y=h.prototype=k(B)),y.constructor!==h&&f(y,"constructor",h),q&&f(y,q,a),x[a]=h,i({global:!0,forced:h!=v,sham:!j},x),G in h||f(h,G,o),G in y||f(y,G,o),E(a)}):e.exports=function(){}},8422:function(e,t,n){var i=n(3123),r=n(6006),o=n(2730),s=n(9645).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,c=i.Int8Array;e.exports=!s||!r((function(){c(1)}))||!r((function(){new c(-1)}))||!o((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||r((function(){return 1!==new c(new a(2),1,void 0).length}))},2552:function(e,t,n){var i=n(4119),r=n(4807),o=n(8611),s=n(3118),a=n(2700),c=n(9645).aTypedArrayConstructor;e.exports=function(e){var t,n,u,l,f,p,d=i(e),g=arguments.length,v=g>1?arguments[1]:void 0,h=void 0!==v,y=o(d);if(null!=y&&!s(y))for(p=(f=y.call(d)).next,d=[];!(l=p.call(f)).done;)d.push(l.value);for(h&&g>2&&(v=a(v,arguments[2],2)),n=r(d.length),u=new(c(this))(n),t=0;n>t;t++)u[t]=h?v(d[t],t):d[t];return u}},2959:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},894:function(e,t,n){var i=n(7224);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3459:function(e,t,n){var i=n(3123),r=n(7562),o=n(8887),s=n(2959),a=n(7224),c=n(894),u=r("wks"),l=i.Symbol,f=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},3019:function(e,t,n){"use strict";var i=n(4059),r=n(6006),o=n(5351),s=n(8),a=n(4951),c=n(4807),u=n(4062),l=o.ArrayBuffer,f=o.DataView,p=l.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(s(this),e);for(var n=s(this).byteLength,i=a(e,n),r=a(void 0===t?n:t,n),o=new(u(this,l))(c(r-i)),d=new f(this),g=new f(o),v=0;i<r;)g.setUint8(v++,d.getUint8(i++));return o}})},8847:function(e,t,n){"use strict";var i=n(4059),r=n(6447);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},4917:function(e,t,n){"use strict";var i=n(4059),r=n(7149).indexOf,o=n(1204),s=n(4508),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?a.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},1631:function(e,t,n){"use strict";var i=n(3817),r=n(7343),o=n(8445),s=n(6174),a=n(9026),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:i(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},9251:function(e,t,n){var i=n(294),r=n(1778).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,c="name";i&&!(c in o)&&r(o,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},9087:function(e,t,n){var i=n(1094),r=n(1203),o=n(350);i||r(Object.prototype,"toString",o,{unsafe:!0})},8228:function(e,t,n){"use strict";var i,r,o,s,a=n(4059),c=n(9261),u=n(3123),l=n(8747),f=n(9357),p=n(1203),d=n(1837),g=n(8456),v=n(5231),h=n(3283),y=n(6415),m=n(1370),k=n(6401),_=n(4854),b=n(2730),S=n(4062),w=n(852).set,E=n(5489),x=n(9986),P=n(8168),T=n(8644),C=n(9637),R=n(6174),I=n(1095),A=n(3459),O=n(7983),L=n(4819),D=A("species"),M="Promise",N=R.get,j=R.set,q=R.getterFor(M),U=f,B=u.TypeError,V=u.document,J=u.process,G=l("fetch"),H=T.f,z=H,F=!!(V&&V.createEvent&&u.dispatchEvent),W="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",$=I(M,(function(){if(k(U)===String(U)){if(66===L)return!0;if(!O&&!W)return!0}if(c&&!U.prototype.finally)return!0;if(L>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),K=$||!b((function(e){U.all(e).catch((function(){}))})),X=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){for(var i=e.value,r=1==e.state,o=0;n.length>o;){var s,a,c,u=n[o++],l=r?u.ok:u.fail,f=u.resolve,p=u.reject,d=u.domain;try{l?(r||(2===e.rejection&&ne(e),e.rejection=1),!0===l?s=i:(d&&d.enter(),s=l(i),d&&(d.exit(),c=!0)),s===u.promise?p(B("Promise-chain cycle")):(a=X(s))?a.call(s,f,p):f(s)):p(i)}catch(e){d&&!c&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Q=function(e,t,n){var i,r;F?((i=V.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},!W&&(r=u["on"+e])?r(i):e===Y&&P("Unhandled promise rejection",n)},ee=function(e){w.call(u,(function(){var t,n=e.facade,i=e.value;if(te(e)&&(t=C((function(){O?J.emit("unhandledRejection",i,n):Q(Y,n,i)})),e.rejection=O||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){w.call(u,(function(){var t=e.facade;O?J.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},ie=function(e,t,n){return function(i){e(t,i,n)}},re=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Z(e,!0))},oe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw B("Promise can't be resolved itself");var i=X(t);i?E((function(){var n={done:!1};try{i.call(t,ie(oe,n,e),ie(re,n,e))}catch(t){re(n,t,e)}})):(e.value=t,e.state=1,Z(e,!1))}catch(t){re({done:!1},t,e)}}};$&&(U=function(e){m(this,U,M),y(e),i.call(this);var t=N(this);try{e(ie(oe,t),ie(re,t))}catch(e){re(t,e)}},(i=function(e){j(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(U.prototype,{then:function(e,t){var n=q(this),i=H(S(this,U));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=O?J.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&Z(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=N(e);this.promise=e,this.resolve=ie(oe,t),this.reject=ie(re,t)},T.f=H=function(e){return e===U||e===o?new r(e):z(e)},c||"function"!=typeof f||(s=f.prototype.then,p(f.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return x(U,G.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:$},{Promise:U}),g(U,M,!1,!0),v(M),o=l(M),a({target:M,stat:!0,forced:$},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),a({target:M,stat:!0,forced:c||$},{resolve:function(e){return x(c&&this===o?U:this,e)}}),a({target:M,stat:!0,forced:K},{all:function(e){var t=this,n=H(t),i=n.resolve,r=n.reject,o=C((function(){var n=y(t.resolve),o=[],s=0,a=1;_(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=H(t),i=n.reject,r=C((function(){var r=y(t.resolve);_(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},3299:function(e,t,n){"use strict";var i=n(4059),r=n(8324);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9676:function(e,t,n){"use strict";var i,r=n(4059),o=n(662).f,s=n(4807),a=n(7053),c=n(7154),u=n(8121),l=n(9261),f="".endsWith,p=Math.min,d=u("endsWith");r({target:"String",proto:!0,forced:!(!l&&!d&&(i=o(String.prototype,"endsWith"),i&&!i.writable)||d)},{endsWith:function(e){var t=String(c(this));a(e);var n=arguments.length>1?arguments[1]:void 0,i=s(t.length),r=void 0===n?i:p(s(n),i),o=String(e);return f?f.call(t,o,r):t.slice(r-o.length,r)===o}})},1636:function(e,t,n){"use strict";var i=n(5453),r=n(8),o=n(4807),s=n(2195),a=n(7154),c=n(9429),u=n(595),l=n(4177),f=Math.max,p=Math.min;i("replace",2,(function(e,t,n,i){var d=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=i.REPLACE_KEEPS_$0,v=d?"$":"$0";return[function(n,i){var r=a(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!d&&g||"string"==typeof i&&-1===i.indexOf(v)){var a=n(t,e,this,i);if(a.done)return a.value}var h=r(e),y=String(this),m="function"==typeof i;m||(i=String(i));var k=h.global;if(k){var _=h.unicode;h.lastIndex=0}for(var b=[];;){var S=l(h,y);if(null===S)break;if(b.push(S),!k)break;""===String(S[0])&&(h.lastIndex=c(y,o(h.lastIndex),_))}for(var w,E="",x=0,P=0;P<b.length;P++){S=b[P];for(var T=String(S[0]),C=f(p(s(S.index),y.length),0),R=[],I=1;I<S.length;I++)R.push(void 0===(w=S[I])?w:String(w));var A=S.groups;if(m){var O=[T].concat(R,C,y);void 0!==A&&O.push(A);var L=String(i.apply(void 0,O))}else L=u(T,y,C,R,A,i);C>=x&&(E+=y.slice(x,C)+L,x=C+T.length)}return E+y.slice(x)}]}))},7741:function(e,t,n){"use strict";var i=n(5453),r=n(7306),o=n(8),s=n(7154),a=n(4062),c=n(9429),u=n(4807),l=n(4177),f=n(8324),p=n(6006),d=[].push,g=Math.min,v=4294967295,h=!p((function(){return!RegExp(v,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(s(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,o);for(var a,c,u,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,h=new RegExp(e.source,p+"g");(a=f.call(h,i))&&!((c=h.lastIndex)>g&&(l.push(i.slice(g,a.index)),a.length>1&&a.index<i.length&&d.apply(l,a.slice(1)),u=a[0].length,g=c,l.length>=o));)h.lastIndex===a.index&&h.lastIndex++;return g===i.length?!u&&h.test("")||l.push(""):l.push(i.slice(g)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=s(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,r,n):i.call(String(r),t,n)},function(e,r){var s=n(i,e,this,r,i!==t);if(s.done)return s.value;var f=o(e),p=String(this),d=a(f,RegExp),y=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(h?"y":"g"),k=new d(h?f:"^(?:"+f.source+")",m),_=void 0===r?v:r>>>0;if(0===_)return[];if(0===p.length)return null===l(k,p)?[p]:[];for(var b=0,S=0,w=[];S<p.length;){k.lastIndex=h?S:0;var E,x=l(k,h?p:p.slice(S));if(null===x||(E=g(u(k.lastIndex+(h?0:S)),p.length))===b)S=c(p,S,y);else{if(w.push(p.slice(b,S)),w.length===_)return w;for(var P=1;P<=x.length-1;P++)if(w.push(x[P]),w.length===_)return w;S=b=E}}return w.push(p.slice(b)),w}]}),!h)},7681:function(e,t,n){"use strict";var i=n(9645),r=n(4382),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return r.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},5756:function(e,t,n){"use strict";var i=n(9645),r=n(5626).every,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4375:function(e,t,n){"use strict";var i=n(9645),r=n(3402),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(e){return r.apply(o(this),arguments)}))},8076:function(e,t,n){"use strict";var i=n(9645),r=n(5626).filter,o=n(4062),s=i.aTypedArray,a=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",(function(e){for(var t=r(s(this),e,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),i=0,c=t.length,u=new(a(n))(c);c>i;)u[i]=t[i++];return u}))},8723:function(e,t,n){"use strict";var i=n(9645),r=n(5626).findIndex,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},9596:function(e,t,n){"use strict";var i=n(9645),r=n(5626).find,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},781:function(e,t,n){"use strict";var i=n(9645),r=n(5626).forEach,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},5289:function(e,t,n){"use strict";var i=n(9645),r=n(7149).includes,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3632:function(e,t,n){"use strict";var i=n(9645),r=n(7149).indexOf,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},7454:function(e,t,n){"use strict";var i=n(3123),r=n(9645),o=n(1631),s=n(3459)("iterator"),a=i.Uint8Array,c=o.values,u=o.keys,l=o.entries,f=r.aTypedArray,p=r.exportTypedArrayMethod,d=a&&a.prototype[s],g=!!d&&("values"==d.name||null==d.name),v=function(){return c.call(f(this))};p("entries",(function(){return l.call(f(this))})),p("keys",(function(){return u.call(f(this))})),p("values",v,!g),p(s,v,!g)},5129:function(e,t,n){"use strict";var i=n(9645),r=i.aTypedArray,o=i.exportTypedArrayMethod,s=[].join;o("join",(function(e){return s.apply(r(this),arguments)}))},3496:function(e,t,n){"use strict";var i=n(9645),r=n(3505),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){return r.apply(o(this),arguments)}))},3158:function(e,t,n){"use strict";var i=n(9645),r=n(5626).map,o=n(4062),s=i.aTypedArray,a=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(o(e,e.constructor)))(t)}))}))},362:function(e,t,n){"use strict";var i=n(9645),r=n(1189).right,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){return r(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2526:function(e,t,n){"use strict";var i=n(9645),r=n(1189).left,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){return r(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},5677:function(e,t,n){"use strict";var i=n(9645),r=i.aTypedArray,o=i.exportTypedArrayMethod,s=Math.floor;o("reverse",(function(){for(var e,t=this,n=r(t).length,i=s(n/2),o=0;o<i;)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},8689:function(e,t,n){"use strict";var i=n(9645),r=n(4807),o=n(6924),s=n(4119),a=n(6006),c=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(e){c(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=s(e),a=r(i.length),u=0;if(a+t>n)throw RangeError("Wrong length");for(;u<a;)this[t+u]=i[u++]}),a((function(){new Int8Array(1).set({})})))},1926:function(e,t,n){"use strict";var i=n(9645),r=n(4062),o=n(6006),s=i.aTypedArray,a=i.aTypedArrayConstructor,c=i.exportTypedArrayMethod,u=[].slice;c("slice",(function(e,t){for(var n=u.call(s(this),e,t),i=r(this,this.constructor),o=0,c=n.length,l=new(a(i))(c);c>o;)l[o]=n[o++];return l}),o((function(){new Int8Array(1).slice()})))},2072:function(e,t,n){"use strict";var i=n(9645),r=n(5626).some,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3175:function(e,t,n){"use strict";var i=n(9645),r=i.aTypedArray,o=i.exportTypedArrayMethod,s=[].sort;o("sort",(function(e){return s.call(r(this),e)}))},9129:function(e,t,n){"use strict";var i=n(9645),r=n(4807),o=n(4951),s=n(4062),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=a(this),i=n.length,c=o(e,i);return new(s(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,r((void 0===t?i:o(t,i))-c))}))},3809:function(e,t,n){"use strict";var i=n(3123),r=n(9645),o=n(6006),s=i.Int8Array,a=r.aTypedArray,c=r.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,f=!!s&&o((function(){u.call(new s(1))}));c("toLocaleString",(function(){return u.apply(f?l.call(a(this)):a(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])})))},7842:function(e,t,n){"use strict";var i=n(9645).exportTypedArrayMethod,r=n(6006),o=n(3123).Uint8Array,s=o&&o.prototype||{},a=[].toString,c=[].join;r((function(){a.call({})}))&&(a=function(){return c.call(this)});var u=s.toString!=a;i("toString",a,u)},5443:function(e,t,n){n(9594)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},1491:function(e,t,n){var i=n(3123),r=n(7275),o=n(6447),s=n(3326);for(var a in r){var c=i[a],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(e){u.forEach=o}}},8304:function(e,t,n){var i=n(4059),r=n(3123),o=n(8504),s=[].slice,a=function(e){return function(t,n){var i=arguments.length>2,r=i?s.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:a(r.setTimeout),setInterval:a(r.setInterval)})},9011:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.keyLogin=void 0;var i=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=i,this.http=n,this.pub=t}var t,i;return t=e,(i=[{key:"mask_begin",value:function(e){this.mask_begin_call=e}},{key:"mask_end",value:function(e){this.mask_end_call=e}},{key:"login",value:function(e,t){var n=this;this.http.key_list((function(i,r){i?(n.pub.isType(n.mask_end_call,"function")&&n.mask_end_call(),n.dialog.keyLogin(r,(function(i,r){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call();var o={};o.id=i,o.pwd=r,"2"==t?e(!0,o):n.http.key_login(o,(function(t,n){e(t,n)}))}))):e(!1,r)}))}},{key:"sealList",value:function(e){var t=this;this.http.key_seal_list("1",(function(n,i){if(n){var r=JSON.parse(i).sealInfos;0==r.length?e(!1,"获取印章列表为空"):1==r.length?e(!0,r[0]):(t.pub.isType(t.mask_end_call,"function")&&t.mask_end_call(),t.dialog.keySealList(r,(function(n){t.pub.isType(t.mask_begin_call,"function")&&t.mask_begin_call(),e(!0,n)})))}else e(!1,i)}))}}])&&n(t.prototype,i),e}();t.keyLogin=i},3920:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.loginClass=void 0;var i=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=i,this.http=n,this.pub=t,this.appId="",this.time=30,this.type="0"}var t,i;return t=e,(i=[{key:"init",value:function(e,t,n){this.appId=e,this.pub.isType(t,"number")&&(t>=0||t<=60)&&(this.time=t),kinsecLog.log(this.time),0==t&&this.delToken(),!n||"1"!=n&&"2"!=n||(this.type=n),kinsecLog.log(this.type)}},{key:"mask_begin",value:function(e){this.mask_begin_call=e}},{key:"mask_end",value:function(e){this.mask_end_call=e}},{key:"getToken",value:function(e){var t="",n=localStorage.getItem("kinsec_token");if(kinsecLog.log(n),!this.pub.isEmpty(n)){var i=JSON.parse(n);e==i.idCard&&(kinsecLog.log(i.time-(new Date).getTime()/1e3),i.time>(new Date).getTime()/1e3&&(t=i.token))}return t}},{key:"setToken",value:function(e,t,n){var i={};i.idCard=e,i.token=t,i.time=n,localStorage.setItem("kinsec_token",JSON.stringify(i))}},{key:"delToken",value:function(){localStorage.removeItem("kinsec_token")}},{key:"_cloud_sign_type",value:function(e,t){var n=this.type;"0"==n?this.http.getType(e,this.appId,(function(e,n){e?t(!0,"2"==n?"2":"1"):t(!1,n)})):t(!0,"1"==n||"2"==n?n:"1")}},{key:"htjc",value:function(e,t){var n=this;this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call(),this.dialog.htjc((function(i){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call(),n.http.htjc(e,i,n.time,n.appId,(function(i,r){if(i){var o=JSON.parse(r);n.time>0&&n.setToken(e,o.token,(new Date).getTime()/1e3+60*n.time-10),t(i,o.token)}else t(i,r)}))}))}},{key:"pwd",value:function(e,t){var n=this;this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call(),this.dialog.pwd((function(i){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call(),n.http.pwd(e,i,n.time,n.appId,(function(i,r){if(i){var o=JSON.parse(r);n.time>0&&n.setToken(e,o.token,(new Date).getTime()/1e3+60*n.time-10),t(i,o.token)}else t(i,r)}))}))}},{key:"loginRun",value:function(e,t){var n=this;this._cloud_sign_type(e,(function(i,r){i?"2"==r?n.pwd(e,(function(e,n){t(e,n)})):n.htjc(e,(function(e,n){t(e,n)})):(n.pub.isType(n.mask_begin_call,"function")&&n.mask_end_call(),t(i,r))}))}},{key:"login",value:function(e,t,n){if(t)this.loginRun(e,n);else{var i=this.getToken(e);this.pub.isEmpty(i)?this.loginRun(e,n):n(!0,i)}}},{key:"htjc_login",value:function(e,t,n){var i=this;this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call(),this.htjc(e,(function(e,r){e?i.http.sign(t,r,(function(e,t){n(e,t),i.pub.isType(i.mask_end_call,"function")&&i.mask_end_call()})):(n(e,r),i.pub.isType(i.mask_end_call,"function")&&i.mask_end_call())}))}}])&&n(t.prototype,i),e}();t.loginClass=i},1131:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(8847),n(9251),n(3299),n(7741),n(1491),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.loginDialog=void 0;var r=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.http=n,this.login=i,this.qrcodeServer=r,this.dialog=null,this.isShow=!1,this.isCall=!1,this.bodyDiv=null,this.titleSpan=null}var t,n;return t=e,(n=[{key:"setDialog",value:function(e){this.dialog=e}},{key:"mask_begin",value:function(e){this.mask_begin_call=e}},{key:"mask_end",value:function(e){this.mask_end_call=e}},{key:"mask_begin_run",value:function(){this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call()}},{key:"mask_end_run",value:function(){this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call()}},{key:"open",value:function(e,t,n){var i=this;this.isShow&&this.close(!1),this.isShow=!0,this.isCall=!1;var r=document.createElement("div");r.setAttribute("id","kinsec_msg__wrap_id"),r.setAttribute("class","kinsec_msg__wrap");var o=document.createElement("div");o.setAttribute("class","msg-header");var s=document.createElement("span");this.titleSpan=s,s.innerHTML=e;var a=document.createElement("span");a.setAttribute("class","msg-header-close-button"),a.innerHTML="×",o.appendChild(s),o.appendChild(a);var c=document.createElement("div");this.bodyDiv=c,c.setAttribute("class","msg-body"),c.innerHTML='<div class="msg-body-content">'+t+"</div>";var u=document.createElement("div");u.setAttribute("class","kinsec_msg__overlay"),this.wrap=r,this.overlay=u,a.addEventListener("click",(function(e){i.close(!1),i.pub.isType(n,"function")&&n(!1,"取消操作")})),r.appendChild(o),r.appendChild(c),document.body.appendChild(r),document.body.appendChild(u),setTimeout((function(){r.style.transform="translate(-50%,-50%) scale(1,1)",u.style.opacity="1"}),100)}},{key:"reOpen",value:function(e,t){this.isShow&&null!=this.titleSpan&&document.getElementById("kinsec_msg__wrap_id")?(this.titleSpan.innerHTML=e,this.bodyDiv.innerHTML=t):this.open(e,t)}},{key:"close",value:function(e){this.wrap.remove(),this.overlay.remove(),this.isShow=!1,this.isCall=e,this.pub.isEmpty(this.kinsec_sett)||window.clearInterval(this.kinsec_sett),this.pub.isEmpty(this.recorder)||"recording"!=this.recorder.state||this.recorder.stop(),this.pub.isEmpty(this.stream)||this.stream.getTracks().forEach((function(e){e.stop()}))}},{key:"closeAll",value:function(){try{this.isShow&&this.close(),null!=this.dialog&&this.dialog.isShow&&this.dialog.close()}catch(e){kinsecLog.error(e)}}},{key:"video",value:function(e,t){var n=this;try{navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia?this.getUserMedia({audio:!1,video:!0},(function(i){n.pub.isEmpty(n.stream)||n.stream.getTracks().forEach((function(e){e.stop()})),n.stream=i;var r=2,o=document.getElementById("kinsec_video");o.srcObject=i,o.play(),e&&(n.recorder=new MediaRecorder(i,{videoBitsPerSecond:8e5,mimeType:"video/webm;codecs=vp8"}),n.recorder.ondataavailable=function(e){var i=e.data,r=new FileReader;r.onload=function(e){null==n.kinsec_sett&&t(r.result)},r.readAsDataURL(i)},n.recorder.start(),e.disabled=!0,e.innerHTML="停止录制倒计时3",n.kinsec_sett=window.setInterval((function(){e.innerHTML="停止录制倒计时"+r,0==r&&(e.disabled=!1,e.innerHTML="开始录制",r=2,window.clearInterval(n.kinsec_sett),n.kinsec_sett=null,o.pause(),n.recorder.stop(),i.getTracks().forEach((function(e){e.stop()}))),r--}),1e3))}),(function(e){console.error(e),alert("访问媒体设备失败："+e.message+",请使用谷歌浏览器或者火狐浏览器,并允许打开摄像头")})):(alert("不支持访问用户媒体,请使用谷歌浏览器或者火狐浏览器"),this.close(!0))}catch(e){kinsecLog.error(e),alert("不支持访问用户媒体"),this.close(!0)}}},{key:"getUserMedia",value:function(e,t,n){navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t).catch(n):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,t,n):navigator.mozGetUserMedia?navigator.mozGetUserMedia(e,t,n):navigator.getUserMedia&&navigator.getUserMedia(e,t,n)}},{key:"htjc",value:function(e,t,n){var i=this,r='<div class="kinsec_video_content" '+t[0]+">"+e+'<div class="prompt"><div class="prompt-box"><div style="font-size: 20px;">请在对应框中开始录制</div></div><div style="width: 200px; height: 200px; border-radius: 50%; margin: auto; overflow: hidden;margin-top: 20px;"><video  width="270" height="200"  class="kinsec_video_videoel1" id="kinsec_video"></video></div><div style="padding: 30px 30px;"><button id="kinsec_video_lz" style="width: 250px; height: 40px; background: #0073EB;color: white;"  >开始录制</button></div></div></div>';this.reOpen("实人认证",r);var o=document.getElementById("kinsec_video_lz");o.addEventListener("click",(function(e){i.video(o,(function(e){i.close(!0),n(e.split("base64,")[1])}))})),this.video()}},{key:"pwd",value:function(e,t,n){var i=this,r='<div class="kinsec_pwd_content" '+t[0]+">"+e+'<div style="padding: 0 40px 0 40px;"><input type="password" id="kinsec_pwd_val" placeholder="请输入口令"  /></div><div id="kinsec_msg_error" class="msg-error"></div><div class="msg-footer" ><button id="kinsec_pwd_sub" class="msg-footer-btn msg-footer-confirm-button">确认</button><button id="kinsec_pwd_cancel" class="msg-footer-btn msg-footer-cancel-button">取消</button></div></div>';this.reOpen("请输入口令",r);var o=document.getElementById("kinsec_pwd_sub"),s=document.getElementById("kinsec_pwd_cancel");o.addEventListener("click",(function(e){var t=document.getElementById("kinsec_pwd_val").value;i.pub.isEmpty(t)?document.getElementById("kinsec_msg_error").innerHTML="请输入口令":(document.getElementById("kinsec_msg_error").innerHTML="",i.close(!0),n(t))})),s.addEventListener("click",(function(e){i.close(!1)})),document.getElementById("kinsec_pwd_val").focus()}},{key:"qrcode",value:function(e,t,n){var i='<div class="kinsec_mes_content"  '+t[0]+">"+e+'<div id="kinsec_dialog_qrcode" style="width:200px; height:200px;margin-top:-10px;'+t[1]+'"><div></div>';this.reOpen("请扫描二维码",i);var r=document.getElementById("kinsec_dialog_qrcode");new QRCode(r,{width:200,height:200}).makeCode(n)}},{key:"keyLogin",value:function(e,t,n,i){var r=this,o='<div class="kinsec_pwd_content"  '+n[0]+">"+e+'<div  style="padding: 0 40px 0 40px;"><select id="kinsec_key_login_select">';t.forEach((function(e){o+='<option value="'+e.id+'">'+e.name+"</option>"})),o+='</select></div><div style="padding: 0 40px 0 40px;"><input type="password" id="kinsec_key_login_pwd" placeholder="请输入口令"  /></div><div id="kinsec_key_login_msg_error" class="msg-error" style="padding: 0 40px 0 40px;"></div><div class="msg-footer" ><button id="kinsec_key_login_sub" class="msg-footer-btn msg-footer-confirm-button">确认</button><button id="kinsec_key_login_cancel" class="msg-footer-btn msg-footer-cancel-button">取消</button></div></div>',this.reOpen("请输入口令",o);var s=document.getElementById("kinsec_key_login_sub"),a=document.getElementById("kinsec_key_login_cancel");s.addEventListener("click",(function(e){var t=document.getElementById("kinsec_key_login_pwd").value,n=document.getElementById("kinsec_key_login_select").value;r.pub.isEmpty(t)?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入口令":t.length<2||t.length>16?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入2到16位的口令":(document.getElementById("kinsec_key_login_msg_error").innerHTML="",r.close(!0),i(n,t))})),a.addEventListener("click",(function(e){r.close(!1)})),document.getElementById("kinsec_key_login_pwd").focus()}},{key:"mes",value:function(e,t,n,i){var r=this,o='<div class="kinsec_mes_content" '+n[0]+">"+e+'<div class="kinsec_mes_content_mes" style="text-align: center;font-size: 17px;">'+t+'</div><div class="msg-footer" style="margin-top:40px;" ><button id="kinsec_mes_retry" class="msg-footer-btn msg-footer-confirm-button">重试</button><button id="kinsec_mes_close" class="msg-footer-btn msg-footer-cancel-button">关闭</button></div></div>';this.reOpen("错误信息",o),document.getElementById("kinsec_mes_close").addEventListener("click",(function(e){r.close()})),document.getElementById("kinsec_mes_retry").addEventListener("click",(function(e){i()}))}},{key:"allLogin",value:function(e,t){var n=this,i=e.type,r=e.idCard,o=e.val,s=e.qrType,a=e.loginType;if(!i||0==i.length||i.length>3||this.pub.judgeArrSame(i))t(!1,"登录类型有误");else{var c=[];c[0]='style="width:350px;"',c[1]="margin-left:75px;",2==i.length&&(c[0]='style="width:300px;"',c[1]="margin-left:50px;");var u=i[0],l="";if(i.length>=2){if(l+='<ul class="kinsec_seal_tab_title">',"1"==u)l+='<li class="kinsec_seal_tab_selected" id="kinsec_seal_tab_key">KEY登录</li>';else if("2"==u)l+='<li class="kinsec_seal_tab_selected" id="kinsec_seal_tab_face">人脸认证</li>';else{if("3"!=u)return void t(!1,"登录类型有误");l+='<li class="kinsec_seal_tab_selected" id="kinsec_seal_tab_qr">扫码认证</li>'}for(var f,p=1;p<i.length;p++)if("1"==(f=i[p]))l+='<li id="kinsec_seal_tab_key">KEY登录</li>';else if("2"==f)l+='<li id="kinsec_seal_tab_face">人脸认证</li>';else{if("3"!=f)return void t(!1,"登录类型有误");l+='<li id="kinsec_seal_tab_qr">扫码认证</li>'}l+="</ul>"}var d=function(){var e={},t=document.getElementById("kinsec_seal_tab_key"),i=document.getElementById("kinsec_seal_tab_face"),r=document.getElementById("kinsec_seal_tab_qr");return e.key=t,e.face=i,e.qr=r,n.pub.isEmpty(t)||t.addEventListener("click",(function(){n.mask_begin_run(),g((function(e){n.pub.isEmpty(e.key)||e.key.setAttribute("class","kinsec_seal_tab_selected"),n.pub.isEmpty(e.face)||e.face.setAttribute("class",""),n.pub.isEmpty(e.qr)||e.qr.setAttribute("class","")}))})),n.pub.isEmpty(i)||i.addEventListener("click",(function(){n.mask_begin_run(),v((function(e){n.pub.isEmpty(e.key)||e.key.setAttribute("class",""),n.pub.isEmpty(e.face)||e.face.setAttribute("class","kinsec_seal_tab_selected"),n.pub.isEmpty(e.qr)||e.qr.setAttribute("class","")}))})),n.pub.isEmpty(r)||r.addEventListener("click",(function(){n.mask_begin_run(),h((function(e){n.pub.isEmpty(e.key)||e.key.setAttribute("class",""),n.pub.isEmpty(e.face)||e.face.setAttribute("class",""),n.pub.isEmpty(e.qr)||e.qr.setAttribute("class","kinsec_seal_tab_selected")}))})),e},g=function e(i){n.http.keySign("111",(function(r,o){if(r){n.closeAll();t(r,{type:"1"})}else{if("NotLoggedIn"!=o){n.mask_end_run(),n.mes(l,o,c,e);var s=d();return void(i&&i(s))}n.http.key_list((function(r,o){if(r){n.mask_end_run(),n.keyLogin(l,o,c,(function(e,i){n.pub.isType(n.mask_begin_call,"function")&&n.mask_begin_call();var r={};r.id=e,r.pwd=i,n.mask_begin_run(),n.http.key_login(r,(function(e,n){if(e){t(e,{type:"1"})}else t(e,n)}))}));var s=d();i&&i(s)}else{n.mask_end_run(),n.mes(l,o,c,e);var a=d();i&&i(a)}}))}}),"2")},v=function e(i){var o=n.login.getToken(r);if(!n.pub.isEmpty(o)){n.closeAll();var s={type:"2"};return s.token=o,void t(!0,s)}n.login._cloud_sign_type(r,(function(o,s){if(o){n.mask_end_run(),"2"==s?n.pwd(l,c,(function(e){n.mask_begin_run(),n.http.pwd(r,e,n.login.time,n.login.appId,(function(e,i){if(e){var o=JSON.parse(i);n.login.time>0&&n.login.setToken(r,o.token,(new Date).getTime()/1e3+60*n.login.time-10);var s={};s.token=o.token,s.type="2",t(e,s)}else t(e,i)}))})):n.htjc(l,c,(function(e){n.mask_begin_run(),n.http.htjc(r,e,n.login.time,n.login.appId,(function(e,i){if(e){var o=JSON.parse(i);n.login.time>0&&n.login.setToken(r,o.token,(new Date).getTime()/1e3+60*n.login.time-10);var s={};s.token=o.token,s.type="2",t(e,s)}else t(e,i)}))}));var a=d();i&&i(a)}else{n.mask_end_run(),n.mes(l,s,c,e);var u=d();i&&i(u)}}))},h=function e(i){if("1"==a){var r={};r.val=o,r.type=s,n.qrcodeServer.qrcode(r,(function(e,i){if(n.mask_begin_run(),e){var r=n.pub.convertJson(i),o={type:"3"};o.data=r,t(e,o)}else t(e,i)}),(function(t,r){if(n.mask_end_run(),t){n.qrcode(l,c,r);var o=d();i&&i(o)}else{n.mask_end_run(),n.mes(l,r,c,e);var s=d();i&&i(s)}}))}else"2"==a?n.qrcodeServer.qrEnc(o,(function(e,i){if(n.mask_begin_run(),e){var r={type:"3"};r.data=i,t(e,r)}else t(e,i)}),(function(t,r){if(n.mask_end_run(),t){n.qrcode(l,c,r);var o=d();i&&i(o)}else{n.mask_end_run(),n.mes(l,r,c,e);var s=d();i&&i(s)}})):"3"==a?n.qrcodeServer.qrSign(o,(function(e,i){if(n.mask_begin_run(),e){var r={type:"3"};r.data=n.pub.convertJson(i),t(e,r)}else t(e,i)}),(function(t,r){if(n.mask_end_run(),t){n.qrcode(l,c,r);var o=d();i&&i(o)}else{n.mask_end_run(),n.mes(l,r,c,e);var s=d();i&&i(s)}})):t(!1,"扫码未知的类型")};if("2"==u)v();else if("1"==u)g();else{if("3"!=u)return void t(!1,"登录类型有误");h()}}}}])&&i(t.prototype,n),e}();t.loginDialog=r},6352:function(e,t,n){"use strict";n(4917),Object.defineProperty(t,"__esModule",{value:!0}),t.sign=void 0;var i=n(3920),r=n(8543),o=n(4251),s=n(6395),a=n(1468),c=n(9754),u=n(4540),l=n(2935),f=n(1131);function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=new r.pubClass,this.loading=new s.loading,this.base64=new a.base64,this.dialog=new c.dialog(this.pub),this.http=new o.httpClass(this.pub,this.dialog),this.login=new i.loginClass(this.pub,this.http,this.dialog),this.qrcodeServer=new u.qrcodeServer(this.pub,this.http),this.callVal=new l.callVal,this.loginDialog=new f.loginDialog(this.pub,this.http,this.login,this.qrcodeServer),this.loginDialog.setDialog(this.dialog),this.dialog.setLoginDialog(this.loginDialog),this.mask_begin_call=function(){t.loading.open()},this.mask_end_call=function(){t.loading.close()},this.login.mask_begin(this.mask_begin_call),this.login.mask_end(this.mask_end_call),this.http.mask_begin(this.mask_begin_call),this.http.mask_end(this.mask_end_call),this.qrcodeServer.set_mask_begin(this.mask_begin_call),this.qrcodeServer.set_mask_end(this.mask_end_call),this.loginDialog.mask_begin(this.mask_begin_call),this.loginDialog.mask_end(this.mask_end_call)}var t,n;return t=e,(n=[{key:"initA",value:function(e,t,n){this.login.init(e,t,n)}},{key:"initB",value:function(e,t){this.qrcodeServer.init(e,"1",this.dialog,t)}},{key:"init",value:function(e){var t,n=(t=this.pub.isType(e,"string")?JSON.parse(e):e).type,i=t.appId,r=t.time;if("1"==n);else if("2"==n){if(this.pub.isEmpty(i))return this.callVal.str0001("渠道为空");this.initA(i,r)}else{if("3"!=n)return console.error("未知类型:"+n),this.callVal.str0001("未知类型:"+n);if(this.pub.isEmpty(i))return this.callVal.str0001("渠道为空");this.initB(i)}return this.callVal.str0000()}},{key:"set_mask_begin",value:function(e){this.mask_begin_call=e,this.login.mask_begin(this.mask_begin_call),this.http.mask_begin(this.mask_begin_call)}},{key:"set_mask_end",value:function(e){this.mask_end_call=e,this.login.mask_end(this.mask_end_call),this.http.mask_end(this.mask_end_call)}},{key:"mask_begin",value:function(){this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call()}},{key:"mask_end",value:function(){this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call()}},{key:"zjcloud_sign",value:function(e,t,n){var i=this,r=this.base64.encode(t);this.login.htjc_login(e,r,(function(e,t){if(e){var r=JSON.parse(t);i.mask_begin(),i.http.cmCertInfo("|2|",r.cert,(function(e,t){i.mask_end(),e?(r.certSn=t.certSN,n(e,JSON.stringify(r))):n(e,t)}))}else t.indexOf("认证异常")>=0&&(t="认证错误过多，无法继续认证"),n(e,t)}))}},{key:"key_sign",value:function(e,t){var n=this;this.mask_begin();var i=this.base64.encode(e);this.http.keySign(i,(function(e,i){if(e){var r=JSON.parse(i);n.http.cmCertInfo("|2|",r.cert,(function(e,i){n.mask_end(),e?(r.certSn=i.certSN,t(e,JSON.stringify(r))):t(e,i)}))}else n.mask_end(),t(e,i)}))}},{key:"qr_sign",value:function(e,t){var n=this;this.mask_begin(),this.qrcodeServer.qrSign(e,t,(function(e,i){n.mask_end(),e?n.dialog.qrcode(i):t(e,i)}))}},{key:"zjCloudSign",value:function(e,t,n){var i=this,r=this.base64.encode(t);this.login.htjc_login(e,r,(function(e,t){if(e){var r=JSON.parse(t);i.mask_begin(),i.http.cmCertInfo("|2|",r.cert,(function(e,t){i.mask_end(),e?(r.certSn=t.certSN,i.callVal.data0000(n,r)):i.callVal.data0001(n,t)}))}else t.indexOf("认证异常")>=0&&(t="认证错误过多，无法继续认证"),i.callVal.data0001(n,t)}))}},{key:"keySign",value:function(e,t){var n=this;this.mask_begin();var i=this.base64.encode(e);this.http.keySign(i,(function(e,i){if(e){var r=JSON.parse(i);n.http.cmCertInfo("|2|",r.cert,(function(e,i){n.mask_end(),e?(r.certSn=i.certSN,n.callVal.data0000(t,r)):n.callVal.data0001(t,i)}))}else n.mask_end(),n.callVal.data0001(t,i)}))}},{key:"qrSign",value:function(e,t){var n=this;this.mask_begin(),this.qrcodeServer.qrSign(e,(function(e,i){e?n.callVal.data0000(t,JSON.parse(i)):n.callVal.data0001(t,i)}),(function(e,i){n.mask_end(),e?n.dialog.qrcode(i):n.callVal.data0001(t,i)}))}},{key:"loginSn",value:function(e,t){var n,i=(n=this.pub.isType(n,"string")?JSON.parse(e):e).type;this.pub.isEmpty(i)?this.callVal.data0001(t,"参数有误"):"1"==i?this.keySign("111",t):"3"==i?this.qrSign("111",t):this.callVal.data0001(t,"未知的类型："+i)}},{key:"loginSnMore",value:function(e,t){var n=this,i=this.pub.convertJson(e);if(null!=i){var r=this.pub.convertJson(i.type);if(null!=r)if(1!=r.length)r.indexOf("2")>=0||r.indexOf(2)>=0?this.callVal.data0001(t,"该方式不支持人脸认证"):(this.mask_begin(),i.val="111",i.loginType="3",this.loginDialog.allLogin(i,(function(e,i){if(e){var r=i.type;if("1"==r){var o=n.base64.encode("111");n.http.keySign(o,(function(e,i){if(e){var r=JSON.parse(i);n.http.cmCertInfo("|2|",r.cert,(function(e,i){n.mask_end(),e?(r.certSn=i.certSN,n.callVal.data0000(t,r)):n.callVal.data0001(t,i)}))}else n.mask_end(),n.callVal.data0001(t,i)}))}else if("3"==r){n.mask_end();var s=i.data;n.callVal.data0000(t,s)}else n.mask_end(),n.callVal.data0001(t,"未知的类型")}else n.mask_end(),n.callVal.data0001(t,i)})));else{var o=r[0];"1"==o?this.keySign("111",t):"2"==o?this.callVal.data0001(t,"该方式不支持人脸认证"):"3"==o?this.qrSign("111",t):this.callVal.data0001(t,"未知的类型")}else this.callVal.data0001(t,"数据格式有误")}else this.callVal.data0001(t,"数据格式有误")}}])&&p(t.prototype,n),e}();t.sign=d},1468:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(4917),n(3299),n(1636),Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}var t,n;return t=e,(n=[{key:"encode",value:function(e){var t,n,i,r,o,s,a,c="",u=0;for(e=this._utf8_encode(e);u<e.length;)r=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(n=e.charCodeAt(u++))>>4,s=(15&n)<<2|(i=e.charCodeAt(u++))>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return c}},{key:"decode",value:function(e){var t,n,i,r,o,s,a="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(r=this._keyStr.indexOf(e.charAt(c++)))>>4,n=(15&r)<<4|(o=this._keyStr.indexOf(e.charAt(c++)))>>2,i=(3&o)<<6|(s=this._keyStr.indexOf(e.charAt(c++))),a+=String.fromCharCode(t),64!=o&&(a+=String.fromCharCode(n)),64!=s&&(a+=String.fromCharCode(i));return this._utf8_decode(a)}},{key:"_utf8_encode",value:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}},{key:"_utf8_decode",value:function(e){for(var t="",n=0,i=0,r=0,o=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3);return t}}])&&i(t.prototype,n),e}();t.base64=r},2935:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.callVal=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"code0000",value:function(e,t){e("0000","操作成功",t)}},{key:"codeErr",value:function(e,t,n){e(t,n,null)}},{key:"code0001",value:function(e,t){e("0001",t,null)}},{key:"code0002",value:function(e){e("0002","系统异常",null)}},{key:"code0003",value:function(e){e("0003","请先登录",null)}},{key:"codeParamError",value:function(e){e("0001","参数有误",null)}},{key:"data0000",value:function(e,t){var n={code:"0000",msg:"操作成功"};n.data=t,e(JSON.stringify(n))}},{key:"data0001",value:function(e,t){var n={code:"0001"};n.msg=t,e(JSON.stringify(n))}},{key:"data0002",value:function(e){e(JSON.stringify({code:"0002",msg:"系统异常"}))}},{key:"data0003",value:function(e){e(JSON.stringify({code:"0003",msg:"请先登录"}))}},{key:"dataParamError",value:function(e){e(JSON.stringify({code:"0001",msg:"参数有误"}))}},{key:"dataParamFormatError",value:function(e){e(JSON.stringify({code:"0001",msg:"参数格式有误"}))}},{key:"str0000",value:function(e){var t={code:"0000",msg:"操作成功"};return t.data=e,JSON.stringify(t)}},{key:"str0001",value:function(e){var t={code:"0001"};return t.msg=e,JSON.stringify(t)}},{key:"str0001Err",value:function(){return JSON.stringify({code:"0001",msg:"参数有误"})}}])&&n(t.prototype,i),e}();t.callVal=i},7603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=void 0,t.constants=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cloudSignPushWs="ws://seal.fjdzyz.com:2022/",this.cloudSignPushWss="wss://seal.fjdzyz.com:2122/"}},7013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataUtils=void 0;var i=n(8543);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=new i.pubClass}var t,n;return t=e,(n=[{key:"getSignTypeName",value:function(e){var t="未知类型";return"1"==(e+="")?t="介质签章":"2"==e?t="人脸云签章":"3"==e?t="扫码云签章":"4"==e?t="短信云签章":"5"==e?t="服务云签章":"6"==e&&(t="手机盾签章"),t}},{key:"getYzMgs",value:function(e,t){var n=[];n.push(["制章单位：",e.issuename]),n.push(["签章人：",e.signername]);var i=this.getSignTypeName(t);return n.push(["签章类型：",i]),n.push(["签章时间：",e.signtime]),n.push(["印章起始：",e.stamp_starttime]),n.push(["印章结束：",e.stamp_endtime]),this.pub.isEmpty(e.timestamp)||n.push(["签章时间戳：",e.timestamp]),n}}])&&r(t.prototype,n),e}();t.dataUtils=o},9754:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(8847),n(9251),n(3299),n(7741),n(1491),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.dialog=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.loginDialog=null,this.isShow=!1,this.isCall=!1,this.bodyDiv=null,this.titleSpan=null}var t,n;return t=e,(n=[{key:"setLoginDialog",value:function(e){this.loginDialog=e}},{key:"open",value:function(e,t,n){var i=this;this.isShow&&this.close(!1),this.isShow=!0,this.isCall=!1;var r=document.createElement("div");r.setAttribute("id","kinsec_msg__wrap_id"),r.setAttribute("class","kinsec_msg__wrap");var o=document.createElement("div");o.setAttribute("class","msg-header");var s=document.createElement("span");this.titleSpan=s,s.innerHTML=e;var a=document.createElement("span");a.setAttribute("class","msg-header-close-button"),a.innerHTML="×",o.appendChild(s),o.appendChild(a);var c=document.createElement("div");this.bodyDiv=c,c.setAttribute("class","msg-body"),c.innerHTML='<div class="msg-body-content">'+t+"</div>";var u=document.createElement("div");u.setAttribute("class","kinsec_msg__overlay"),this.wrap=r,this.overlay=u,a.addEventListener("click",(function(e){i.close(!1),i.pub.isType(n,"function")&&n(!1,"取消操作")})),r.appendChild(o),r.appendChild(c),document.body.appendChild(r),document.body.appendChild(u),setTimeout((function(){r.style.transform="translate(-50%,-50%) scale(1,1)",u.style.opacity="1"}),100)}},{key:"close",value:function(e){this.wrap.remove(),this.overlay.remove(),this.isShow=!1,this.isCall=e,this.pub.isEmpty(this.kinsec_sett)||window.clearInterval(this.kinsec_sett),this.pub.isEmpty(this.recorder)||"recording"!=this.recorder.state||this.recorder.stop(),this.pub.isEmpty(this.stream)||this.stream.getTracks().forEach((function(e){e.stop()}))}},{key:"closeAll",value:function(){try{this.isShow&&this.close(),null!=this.loginDialog&&this.loginDialog.isShow&&this.loginDialog.close()}catch(e){kinsecLog.error(e)}}},{key:"video",value:function(e,t){var n=this;try{navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia?this.getUserMedia({audio:!1,video:!0},(function(i){n.pub.isEmpty(n.stream)||n.stream.getTracks().forEach((function(e){e.stop()})),n.stream=i;var r=2,o=document.getElementById("kinsec_video");o.srcObject=i,o.play(),e&&(n.recorder=new MediaRecorder(i,{videoBitsPerSecond:8e5,mimeType:"video/webm;codecs=vp8"}),n.recorder.ondataavailable=function(e){var i=e.data,r=new FileReader;r.onload=function(e){null==n.kinsec_sett&&t(r.result)},r.readAsDataURL(i)},n.recorder.start(),e.disabled=!0,e.innerHTML="停止录制倒计时3",n.kinsec_sett=window.setInterval((function(){e.innerHTML="停止录制倒计时"+r,0==r&&(e.disabled=!1,e.innerHTML="开始录制",r=2,window.clearInterval(n.kinsec_sett),n.kinsec_sett=null,o.pause(),n.recorder.stop(),i.getTracks().forEach((function(e){e.stop()}))),r--}),1e3))}),(function(e){console.error(e),alert("访问媒体设备失败："+e.message+",请使用谷歌浏览器或者火狐浏览器,并允许打开摄像头")})):(alert("不支持访问用户媒体,请使用谷歌浏览器或者火狐浏览器"),this.close(!0))}catch(e){kinsecLog.error(e),alert("不支持访问用户媒体"),this.close(!0)}}},{key:"getUserMedia",value:function(e,t,n){navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t).catch(n):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,t,n):navigator.mozGetUserMedia?navigator.mozGetUserMedia(e,t,n):navigator.getUserMedia&&navigator.getUserMedia(e,t,n)}},{key:"htjc",value:function(e){var t=this;this.open("实人认证",'<div class="kinsec_video_content"><div class="prompt"><div class="prompt-box"><div style="font-size: 20px;">请在对应框中开始录制</div></div><div style="width: 200px; height: 200px; border-radius: 50%; margin: auto; overflow: hidden;margin-top: 20px;"><video  width="270" height="200"  class="kinsec_video_videoel1" id="kinsec_video"></video></div><div style="padding: 30px 30px;"><button id="kinsec_video_lz" style="width: 300px; height: 40px; background: #0073EB;color: white;"  >开始录制</button></div></div></div>');var n=document.getElementById("kinsec_video_lz");n.addEventListener("click",(function(i){t.video(n,(function(n){t.close(!0),e(n.split("base64,")[1])}))})),this.video()}},{key:"pwd",value:function(e){var t=this;this.open("请输入口令",'<div class="kinsec_pwd_content"><div><input type="password" id="kinsec_pwd_val" placeholder="请输入口令"  /></div><div id="kinsec_msg_error" class="msg-error"></div><div class="msg-footer" ><button id="kinsec_pwd_sub" class="msg-footer-btn msg-footer-confirm-button">确认</button><button id="kinsec_pwd_cancel" class="msg-footer-btn msg-footer-cancel-button">取消</button></div></div>');var n=document.getElementById("kinsec_pwd_sub"),i=document.getElementById("kinsec_pwd_cancel");n.addEventListener("click",(function(n){var i=document.getElementById("kinsec_pwd_val").value;t.pub.isEmpty(i)?document.getElementById("kinsec_msg_error").innerHTML="请输入口令":(document.getElementById("kinsec_msg_error").innerHTML="",t.close(!0),e(i))})),i.addEventListener("click",(function(e){t.close(!1)})),document.getElementById("kinsec_pwd_val").focus()}},{key:"yzMes",value:function(e){kinsecLog.log(e);var t='<div class="kinsec_msg_mes_form">';e.forEach((function(e){t+='<div class="kinsec_msg_mes_item"><label class="kinsec_msg_mes_label">'+e[0]+'</label><div class="kinsec_msg_mes_mes">'+e[1]+"</div></div>"})),t+="</div>",this.open("验证信息",t)}},{key:"mes",value:function(e){var t=this,n='<div class="kinsec_mes_content"><div class="kinsec_mes_content_mes">'+e+'</div><div class="msg-footer" style="margin-top:20px;" ><button id="kinsec_mes_bb" class="msg-footer-btn msg-footer-confirm-button">确定</button></div></div>';this.open("错误信息",n),document.getElementById("kinsec_mes_bb").addEventListener("click",(function(e){t.close(!1)}))}},{key:"qrcode",value:function(e){this.open("请扫描二维码",'<div class="kinsec_mes_content" style="margin-top:-10px;"><div id="kinsec_dialog_qrcode" style="width:200px; height:200px;"><div></div>');var t=document.getElementById("kinsec_dialog_qrcode");new QRCode(t,{width:200,height:200}).makeCode(e)}},{key:"keyLogin",value:function(e,t){var n=this,i='<div class="kinsec_pwd_content"><div><select id="kinsec_key_login_select">';e.forEach((function(e){i+='<option value="'+e.id+'">'+e.name+"</option>"})),i+='</select></div><div><input type="password" id="kinsec_key_login_pwd" placeholder="请输入口令"  /></div><div id="kinsec_key_login_msg_error" class="msg-error"></div><div class="msg-footer" ><button id="kinsec_key_login_sub" class="msg-footer-btn msg-footer-confirm-button">确认</button><button id="kinsec_key_login_cancel" class="msg-footer-btn msg-footer-cancel-button">取消</button></div></div>',this.open("请输入口令",i);var r=document.getElementById("kinsec_key_login_sub"),o=document.getElementById("kinsec_key_login_cancel");r.addEventListener("click",(function(e){var i=document.getElementById("kinsec_key_login_pwd").value,r=document.getElementById("kinsec_key_login_select").value;n.pub.isEmpty(i)?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入口令":i.length<2||i.length>16?document.getElementById("kinsec_key_login_msg_error").innerHTML="请输入2到16位的口令":(document.getElementById("kinsec_key_login_msg_error").innerHTML="",n.close(!0),t(r,i))})),o.addEventListener("click",(function(e){n.close(!1)})),document.getElementById("kinsec_key_login_pwd").focus()}},{key:"keySealList",value:function(e,t){for(var n=this,i=e[0].sealPic,r=e[0].issuename,o=e[0].stamp_starttime,s=e[0].stamp_endtime,a='<div class="kinsec_seal_content"><div class="kinsec_w80 kinsec_float_left"><div><p class="kinsec_w100">印章列表</p><div class="kinsec_seal_div">',c=0;c<e.length;c++){var u=e[c];a+='<div class="kinsec_seal_list" inx="'+c+'"><img src="data:image/png;base64,'+u.sealPic+'" /><span title="'+u.sealName+'">'+u.sealName+"</span></div>"}a+='</div></div><div><p class="kinsec_w100">印章预览</p><div class="kinsec_seal_yl_div" id="kinsec_seal_yl_div"><div class="kinsec_yl_img"><img src="data:image/png;base64,'+i+'" /></div><div class="kinsec_yl_mes"><p>签发者:</p><span title="'+r+'">'+r+"</span><p>签发日期:</p><span>"+o+"</span><p>有效日期:</p><span>"+s+'</span></div></div></div></div><div class="kinsec_w20 kinsec_seal_btn_div"><button id="kinsec_key_seal_sub" class="msg-footer-confirm-button">确认</button><button id="kinsec_key_seal_cancel" class="msg-footer-cancel-button">取消</button></div></div>',this.open("请选择印章",a);for(var l=0,f=this.pub.getClass("div","kinsec_seal_list"),p=function(t){var i=f[t],r=parseInt(i.getAttribute("inx"));0==t&&(i.style.border="1px dotted #000000"),i.addEventListener("click",(function(o){for(var s=n.pub.getClass("div","kinsec_seal_list"),a=0;a<s.length;a++)s[a].style.border="1px dotted transparent";i.style.border="1px dotted #000000";var c=document.getElementById("kinsec_seal_yl_div");c.getElementsByTagName("img")[0].setAttribute("src","data:image/png;base64,"+e[r].sealPic);var u=c.getElementsByTagName("span");u[0].setAttribute("title",e[t].issuename),u[0].innerHTML=e[r].issuename,u[1].innerHTML=e[r].stamp_starttime,u[2].innerHTML=e[r].stamp_endtime,l=r}))},d=0;d<f.length;d++)p(d);var g=document.getElementById("kinsec_key_seal_sub"),v=document.getElementById("kinsec_key_seal_cancel");g.addEventListener("click",(function(i){n.close(!0),t(e[l])})),v.addEventListener("click",(function(e){n.close(!1)}))}}])&&i(t.prototype,n),e}();t.dialog=r},4251:function(e,t,n){"use strict";n(8847),n(9087),n(8228),n(3299),n(7741),n(1491),Object.defineProperty(t,"__esModule",{value:!0}),t.httpClass=void 0;var i=n(9011),r=n(7013);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.keyLogin=new i.keyLogin(t,this,n),this.dataUtils=new r.dataUtils,this.keyShield=""}var t,n;return t=e,(n=[{key:"mask_begin",value:function(e){this.mask_begin_call=e,this.keyLogin.mask_begin(e)}},{key:"mask_end",value:function(e){this.mask_end_call=e,this.keyLogin.mask_end(e)}},{key:"delToken",value:function(){localStorage.removeItem("kinsec_token")}},{key:"setShield",value:function(e){this.keyShield=e}},{key:"post",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",o="http://127.0.0.1:31220",s={timeout:i,withCredentials:!1,headers:{"Content-Type":"text/plain"}};try{kinsecLog.log("post--"+e.PluginRequest)}catch(e){}var a=axios.create();a.post(o,e,s).then((function(o){var s=o.data;kinsecLog.log(JSON.stringify(s)),"NotLoggedIn"==s.PluginResponse&&"1"==r?n.keyLogin.login((function(r,o){r?n.post(e,t,i,"2"):(s.PluginResponse=o,t(!0,s,"1"))})):t(!0,s,"1")}),(function(e){kinsecLog.error(e),t(!1,"请求失败，请确认是否有安装引擎并正确启动","2")})).catch((function(e){kinsecLog.error(e),t(!1,"执行异常："+e.message,"3")}))}},{key:"tran",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_Forwarding",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,i.PluginResponseValue):("0003"==i.ServerResponseCode&&n.delToken(),t(!1,i.PluginResponse)):t(e,i)}))}},{key:"getType",value:function(e,t,n){var i={};i.idCard=e,i.appId=t,i.joinAdr="L3BjL2ZzL2dldFR5cGU=",this.tran(i,(function(e,t){n(e,t)}))}},{key:"htjc",value:function(e,t,n,i,r){var o={};o.idCard=e,o.joinAdr="L3BjL2ZzL2h0amM=",o.video=t,o.time=n+"",o.appId=i,this.tran(o,(function(e,t){r(e,t)}))}},{key:"pwd",value:function(e,t,n,i,r){var o={};o.idCard=e,o.joinAdr="L3BjL2ZzL3B3ZA==",o.pwd=t,o.time=n+"",o.appId=i,this.tran(o,(function(e,t){r(e,t)}))}},{key:"sign",value:function(e,t,n){var i={};i.token=t,i.joinAdr="L3BjL2ZzL3NpZ24=",i.tsaType="1",i.signType="1";var r=[];r.push(e),i.data=JSON.stringify(r),this.tran(i,(function(e,t){if(e){var i=JSON.parse(t),r={};r.cert=i.cert,r.sign=i.sign[0],n(e,JSON.stringify(r))}else n(e,t)}))}},{key:"keySign",value:function(e,t,n){var i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="Experts_LocalDataSign",i.sourceData=e,this.post(i,(function(e,n,i){if(e)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);t(e,JSON.stringify(r))}else t(!1,n.PluginResponse);else t(e,n)}),null,n)}},{key:"getSealPic",value:function(e,t,n){var i=this;if("1"==e)this.keyLogin.sealList((function(e,t){n(e,e?JSON.stringify(t):t)}));else{var r="1"!=e?"1":"2",o={};o.PluginRequestID=this.pub.randomString(),o.PluginRequest="Experts_GetSealPic",o.getPicMode=r,"1"!=e&&(o.token=t),this.post(o,(function(e,t,r){e?"SUCCESS"==t.PluginResponse?n(e,t.PluginResponseValue):("0003"==t.ServerResponseCode&&i.delToken(),n(!1,t.PluginResponse)):n(e,t)}))}}},{key:"signSeal",value:function(e,t,n,i,r,o){var s=this,a={};a.PluginRequestID=this.pub.randomString(),a.PluginRequest="Experts_SignStamp",a.token=t,a.sourceData=e,a.tsaType="2",a.hashMode=i,a.sourceDataType=n,a.sealData=r.sealData,a.certData=r.certData,"1"==n&&(a.stampIndex="0",a.posX=r.x+"",a.posY=r.y+"",a.pageRange=r.page+"");var c={signType:"2"};c.signContentType=n,a.extData=JSON.stringify(c),this.post(a,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?o(e,t.PluginResponseValue):("0003"==t.ServerResponseCode&&s.delToken(),o(!1,t.PluginResponse)):o(e,t)}))}},{key:"keySignSeal",value:function(e,t,n,i,r){var o={};o.PluginRequestID=this.pub.randomString(),o.PluginRequest="Experts_LocalSignStamp",o.sourceData=e,o.hashMode=n,o.sourceDataType=t,o.sealData=i.sealData,"1"==t&&(o.stampIndex="0",o.posX=i.x+"",o.posY=i.y+"",o.pageRange=i.page+"");var s={signType:"1"};s.signContentType=t,o.extData=JSON.stringify(s),this.post(o,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?r(e,t.PluginResponseValue):r(!1,t.PluginResponse):r(e,t)}))}},{key:"keyHashSignSeal",value:function(e,t,n,i,r){var o={};o.PluginRequestID=this.pub.randomString(),o.PluginRequest="Experts_NoSrcLocalSignStamp",o.hashData=e,o.hashMode=n,o.sourceDataType=t,o.sealData=i.sealData,"1"==t&&(o.posX=i.x+"",o.posY=i.y+"",o.pageRange=i.page+"");var s={signType:"1"};s.signContentType=t,o.extData=JSON.stringify(s),this.post(o,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?r(e,t.PluginResponseValue):r(!1,t.PluginResponse):r(e,t)}))}},{key:"htmlSignSeal",value:function(e,t,n,i){var r=this;this.getSealPic(e,n,(function(o,s){if(o)if("2"==e){var a=JSON.parse(s),c={};c.sealData=a.sealData,c.certData=a.certData,new Promise((function(e,i){r.signSeal(t,n,"0","2",c,(function(t,n){if(t){var r=JSON.parse(n),o={};o.sealPic=a.sealPic,o.signStamp=r.signStamp,o.sealId=r.GUID,o.sealPicH=parseInt(a.sealPicH/25.4*72),o.sealPicW=parseInt(a.sealPicW/25.4*72),e(o)}else i(n)}))})).then((function(e){var t={};t.signStamp=e.signStamp,r.getSealInfo(t,(function(t,n){e.certSn=n.certSN,t?i(!0,JSON.stringify(e)):i(t,n)}))})).catch((function(e){i(!1,e)}))}else if("1"==e){var u=JSON.parse(s),l={};l.sealData=u.sealData,new Promise((function(e,n){r.keySignSeal(t,"0","2",l,(function(t,i){if(t){var r=JSON.parse(i),o={};o.sealPic=u.sealPic,o.signStamp=r.signStamp,o.sealId=r.GUID,o.sealPicH=parseInt(u.sealPicH/25.4*72),o.sealPicW=parseInt(u.sealPicW/25.4*72),e(o)}else n(i)}))})).then((function(e){var t={};t.signStamp=e.signStamp,r.getSealInfo(t,(function(t,n){e.certSn=n.certSN,t?i(!0,JSON.stringify(e)):i(t,n)}))})).catch((function(e){i(!1,e)}))}else i(!1,"未知类型");else i(o,s)}))}},{key:"pdfSignSeal",value:function(e,t,n,i,r){"2"==e?this.signSeal(t,n,"1","2",i,(function(e,t){if(e){var n=JSON.parse(t);r(e,n.signStamp)}else r(e,t)})):"1"==e?this.keySignSeal(t,"1","2",i,(function(e,t){if(e){var n=JSON.parse(t);r(e,n.signStamp)}else r(e,t)})):"3"==e?this.keyHashSignSeal(t,"1","2",i,(function(e,t){if(e){var n=JSON.parse(t);r(e,n.signStamp)}else r(e,t)})):r(!1,"未知类型")}},{key:"yzSeal",value:function(e,t,n,i,r){var o=this,s={};s.PluginRequestID=this.pub.randomString(),s.PluginRequest="Experts_VerifySign",s.sourceData=t,s.signStamp=n,s.sourceDataType="0",this.post(s,(function(t,n,s){if(t)if("SUCCESS"==n.PluginResponse){var a=JSON.parse(n.PluginResponseValue),c=o.dataUtils.getYzMgs(a,e);if("1"==r)return void i(t,a,s);i(t,c,s)}else i(!1,n.PluginResponse,s);else i(t,n,s)}))}},{key:"compareCert",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_CompareCert",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,i.PluginResponseValue):("0003"==i.ServerResponseCode&&n.delToken(),t(!1,"操作失败："+i.PluginResponse)):t(e,i)}))}},{key:"comparePureCert",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_PureCompareCert",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,i.PluginResponseValue):("0003"==i.ServerResponseCode&&n.delToken(),t(!1,"操作失败："+i.PluginResponse)):t(e,i)}))}},{key:"keyCompareCert",value:function(e,t){var n=this;this.keyLogin.login((function(i,r){i?(e.keyId=r.id,e.pwd=r.pwd,n.compareCert(e,t)):t(!1,r)}),"2")}},{key:"keyPureCompareCert",value:function(e,t){var n=this;this.keyLogin.login((function(i,r){i?n.comparePureCert(e,t):t(!1,r)}),"2")}},{key:"yzPdfOneSeal",value:function(e,t,n,i){var r=this,o={};o.PluginRequestID=this.pub.randomString(),o.PluginRequest="Experts_VerifySign",o.sourceData=e,o.signStamp=t,o.sourceDataType="1",o.stampIndex="0",this.post(o,(function(e,t,o){if(e)if("SUCCESS"==t.PluginResponse){var s=JSON.parse(t.PluginResponseValue),a=s.signtype;a.length>1&&(a=JSON.parse(a).signType);var c="-1";"2"==a?c="2":"1"==a||"0"==a?c="1":"3"==a&&(c="3");var u=r.dataUtils.getYzMgs(s,c);if("1"==i)return void n(e,s,c);n(e,u,c)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"yzPdfOneSealN",value:function(e,t,n,i){var r=this,o={};o.PluginRequestID=this.pub.randomString(),o.PluginRequest="Experts_VerifyPdfStamp",o.sourceData=e,o.stampIndex=t+"",this.post(o,(function(e,t,o){if(e)if("SUCCESS"==t.PluginResponse){var s=JSON.parse(t.PluginResponseValue),a=s.signtype;a.length>1&&(a=JSON.parse(a).signType);var c="-1";"2"==a?c="2":"1"==a||"0"==a?c="1":"3"==a&&(c="3");var u=r.dataUtils.getYzMgs(s,c);if("1"==i)return void n(e,s,c);n(e,u,c)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"yzPdfAllSeal",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_VerifySign",n.sourceData=e,n.sourceDataType="1",this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,i,n.PluginResponseValue):t(!1,i,"验证失败："+n.PluginResponse):t(e,i,n)}))}},{key:"prepareSignData",value:function(e,t,n,i){var r={};r.PluginRequestID=this.pub.randomString(),r.PluginRequest="Experts_PrepareSignData",r.sourceData=n.sourceData,r.hashMode="2",r.sourceDataType=e,r.sealData=n.sealData,r.certData=n.certData,"1"==e&&(r.stampIndex="0",r.posX=n.x+"",r.posY=n.y+"",r.pageRange=n.page+"");var o={};o.signType=t,o.signContentType=e,r.extData=JSON.stringify(o),this.post(r,(function(e,t,n){e?"SUCCESS"==t.PluginResponse?i(e,t.PluginResponseValue):i(!1,t.PluginResponse):i(e,t)}))}},{key:"createSignStamp",value:function(e,t,n){var i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="Experts_CreateSignStamp",i.dataSrc=t.dataSrc,i.sourceDataType=e,i.sign=t.sign,i.tsa=t.tsa,i.certData=t.certData,this.post(i,(function(e,t,i){if(e)if("SUCCESS"==t.PluginResponse){var r=JSON.parse(t.PluginResponseValue);n(e,r.signStamp)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"parseSealData",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_ParseSealData",n.sealData=e,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"localPdfSealComplex",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_CombinationPdfx",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,n.pub.convertJson(i.PluginResponseValue)):t(!1,i.PluginResponse):t(e,i)}))}},{key:"localSignData",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_GeDelStampTrandom",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,n.pub.convertJson(i.PluginResponseValue)):t(!1,i.PluginResponse):t(e,i)}))}},{key:"localDelPdfSeal",value:function(e,t){var n=this;e.PluginRequestID=this.pub.randomString(),e.PluginRequest="Experts_PdfxDeleteLastStamp",this.post(e,(function(e,i,r){e?"SUCCESS"==i.PluginResponse?t(e,n.pub.convertJson(i.PluginResponseValue)):t(!1,i.PluginResponse):t(e,i)}))}},{key:"key_enc",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Tender_EnvelopeDataByP7",n.strAlgID=e.alg,n.strEncCertsB64="",n.strSrcDataB64=e.value,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_enc_more",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Tender_EnvelopeDataByP7",n.strAlgID=e.alg,n.strEncCertsB64=e.cert,n.strSrcDataB64=e.value,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_dec",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Tender_UnEnvelopeDataByP7",n.strEncDataB64=e.value,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(e,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_list",value:function(e){var t=this,n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="GetKeyUserInfoList",this.post(n,(function(n,i,r){if(n)if("SUCCESS"==i.PluginResponse){var o=JSON.parse(i.PluginResponseValue);if(t.pub.isEmpty(o.data)||t.pub.isEmpty(o.data.userlist))e(!1,"获取证书设备列表为空");else{var s=o.data.userlist.split("&&"),a=[];s.forEach((function(e){var t=e.split("||"),n={};n.name=t[0],n.id=t[1],a.push(n)})),e(!0,a)}}else e(!1,i.PluginResponse);else e(n,i)}))}},{key:"key_login",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="PwdLogin",n.keyId=e.id,n.pwd=e.pwd,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,"登录成功"):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_seal_list",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_GetLocalSealInfos",n.retSealInfos=e,n.shieldSealName=this.keyShield,n.shieldSealFlag="1",this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"key_device_id",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetNEGetDeviceID",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(!0,r.DeviceID)}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"cm_pc_info",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetPCSystemInfo",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(!0,JSON.stringify(r.data))}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"cmCertInfo",value:function(e,t,n){var i={};i.PluginRequestID=this.pub.randomString(),i.PluginRequest="GetCertInfo",i.certData=t,this.pub.isEmpty(e)||(i.strDataType=e),this.post(i,(function(e,t,i){if(e)if("SUCCESS"==t.PluginResponse){var r=JSON.parse(t.PluginResponseValue);n(!0,r)}else n(!1,t.PluginResponse);else n(e,t)}))}},{key:"getVersions",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="GetVersions",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);e(!0,JSON.stringify(r.data))}else e(!1,n.PluginResponse);else e(t,n)}))}},{key:"getKeyCert",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="GetLocalCertData",n.certType=e.certType,this.post(n,(function(e,n,i){if(e)if("SUCCESS"==n.PluginResponse){var r=JSON.parse(n.PluginResponseValue);t(!0,JSON.stringify(r))}else t(!1,n.PluginResponse);else t(e,n)}))}},{key:"keyLoginPwd",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="CertPwdLogin",n.certType=e.certType,n.certData=e.certData,n.pwd=e.pwd,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,n.PluginResponseValue):t(!1,n.PluginResponse):t(e,n)}))}},{key:"keyLogout",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="ActiveLogout",this.post(t,(function(t,n,i){t?"SUCCESS"==n.PluginResponse?e(!0,n.PluginResponseValue):e(!1,n.PluginResponse):e(t,n)}))}},{key:"getSealInfo",value:function(e,t){var n={};n.PluginRequestID=this.pub.randomString(),n.PluginRequest="Experts_GetSignStampInfo",n.signStamp=e.signStamp,this.post(n,(function(e,n,i){e?"SUCCESS"==n.PluginResponse?t(!0,JSON.parse(n.PluginResponseValue)):t(!1,n.PluginResponse):t(e,n)}))}},{key:"getKeySn",value:function(e){var t={};t.PluginRequestID=this.pub.randomString(),t.PluginRequest="NoLoginReadCertSNGroup",this.post(t,(function(t,n,i){if(t)if("SUCCESS"==n.PluginResponse){var r=n.PluginResponseValue;e(!0,JSON.parse(r))}else e(!1,n.PluginResponse);else e(t,n)}))}}])&&o(t.prototype,n),e}();t.httpClass=s},6395:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.loading=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isShow=!1}var t,n;return t=e,(n=[{key:"open",value:function(){this.isShow&&this.close(!1),this.isShow=!0;var e=document.createElement("div");e.setAttribute("class","kinsec_loading_wrap"),e.style.background="transparent";var t=document.createElement("div");t.setAttribute("class","kinsec_loading");var n=document.createElement("div");n.setAttribute("class","kinsec_msg__overlay"),this.wrap=e,this.overlay=n,e.appendChild(t),document.body.appendChild(e),document.body.appendChild(n),setTimeout((function(){e.style.transform="translate(-50%,-50%) scale(1,1)",n.style.opacity="1"}),100)}},{key:"close",value:function(){this.wrap.remove(),this.overlay.remove(),this.isShow=!1}}])&&i(t.prototype,n),e}();t.loading=r},13:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.open=!1}var t,i;return t=e,(i=[{key:"init",value:function(e){void 0!==e&&(this.open=e)}},{key:"log",value:function(e){this.open&&console.log("kinsec_seal",e)}},{key:"logTag",value:function(e,t){this.open&&console.log("kinsec_seal---"+e,t)}},{key:"error",value:function(e){console.error("kinsec_seal",e)}}])&&n(t.prototype,i),e}();t.log=i},8543:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(1631),n(3019),n(9087),n(3299),n(9676),n(1636),n(5443),n(7681),n(5756),n(4375),n(8076),n(9596),n(8723),n(781),n(5289),n(3632),n(7454),n(5129),n(3496),n(3158),n(2526),n(362),n(5677),n(8689),n(1926),n(2072),n(3175),n(9129),n(3809),n(7842),Object.defineProperty(t,"__esModule",{value:!0}),t.pubClass=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"getClass",value:function(e,t){if(document.getElementsByClassName)return document.getElementsByClassName(t);for(var n=document.getElementsByTagName(e),i=[],r=0;r<n.length;r++)n[r].className==t&&(i[i.length]=n[r]);return i}},{key:"getDomClass",value:function(e,t,n){if(e.getElementsByClassName)return e.getElementsByClassName(n);for(var i=e.getElementsByTagName(t),r=[],o=0;o<i.length;o++)i[o].className==n&&(r[r.length]=i[o]);return r}},{key:"getChildren",value:function(e,t){for(var n=[],i=e.getElementsByTagName(t),r=0,o=i.length;r<o;++r)if(1==i[r].nodeType){var s=i[r].parentNode;1==s.nodeType?s==e&&(n[n.length]=i[r]):s.parentNode==e&&(n[n.length]=i[r])}else alert(i[r].nodeType);return n}},{key:"isEmpty",value:function(e){return void 0===e||null==e||0==e.length}},{key:"isType",value:function(e,t){var n=i(e).toLowerCase();return kinsecLog.log(t),kinsecLog.log(n),n==t}},{key:"getScriptUrl",value:function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var i=t[n].getAttribute("src");if(!this.isEmpty(i)&&i.endsWith(e))return i.replace(e,"")}return""}},{key:"linkExist",value:function(e){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var i=t[n].getAttribute("href");if(!this.isEmpty(i)&&i.endsWith(e))return!0}return!1}},{key:"randomString",value:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,i="",r=0;r<e;r++)i+=t.charAt(Math.floor(Math.random()*n));return i}},{key:"convertJson",value:function(e){try{return this.isType(e,"string")?JSON.parse(e):e}catch(e){kinsecLog.error(e)}return null}},{key:"judgeArrSame",value:function(e){for(var t=0;t<e.length;t++)for(var n=e[t],i=t+1;i<e.length;i++)if(n==e[i])return!0;return!1}},{key:"base642Byte",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}},{key:"val2m",value:function(e,t){return this.isEmpty(e)&&!this.isEmpty(t)?t:e}},{key:"jsonLen",value:function(e){var t=0;for(var n in e)t++;return t}}])&&r(t.prototype,n),e}();t.pubClass=o},4540:function(e,t,n){"use strict";n(9087),n(8228),n(8304),Object.defineProperty(t,"__esModule",{value:!0}),t.qrcodeServer=void 0;var i=n(7603);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pub=t,this.http=n,this.constants=new i.constants,this.ws=null,this.wsUrl="",this.timeOut=6e4,this.mesIndex=0,this.dataList={},this.val={},this.ywCall=null,this.token="",this.hurl="",this.curDate=0,this.delCall=null}var t,n;return t=e,(n=[{key:"init",value:function(e,t,n,i){if(this.appId=e,this.type=t,this.dialog=n,"2"==i)this.wsUrl=this.constants.cloudSignPushWss;else{var r=document.location.protocol;this.wsUrl="http:"==r?this.constants.cloudSignPushWs:this.constants.cloudSignPushWss}}},{key:"set_mask_begin",value:function(e){this.mask_begin_call=e}},{key:"set_mask_end",value:function(e){this.mask_end_call=e}},{key:"mask_begin",value:function(){this.pub.isType(this.mask_begin_call,"function")&&this.mask_begin_call()}},{key:"mask_end",value:function(){this.pub.isType(this.mask_end_call,"function")&&this.mask_end_call()}},{key:"_open",value:function(e){var t=this;if(null==this.ws){try{this.ws=new WebSocket(this.wsUrl)}catch(t){kinsecLog.error(t),e(!1,"建立连接异常")}this.ws.onopen=function(n){t.token="",t.curDate=0,kinsecLog.log("Connection open ..."),e(!0)},this.ws.onclose=function(e){t.token="",t.curDate=0,t.ws=null,kinsecLog.log("Connect closed.")},this.ws.onerror=function(n){t.token="",t.curDate=0,t.ws=null,kinsecLog.log("连接出错"),kinsecLog.log(n),e(!1,"连接出错")}}else e(!0)}},{key:"_message",value:function(e){var t=this;this.ws.onmessage=function(n){var i=n.data;kinsecLog.logTag("Received Message: ",i);var r=JSON.parse(i);if(kinsecLog.logTag("Received Message: ",r.action),"s.sign.push"==r.action)if(kinsecLog.logTag("Received Message: ",r.content),"0000"==r.content.code){var o=r.content.info;if(t.token==o.token)if(t.dialog.closeAll(),"1"==t.type)t.signSeal("0",t.val.val,o);else{var s=t.val.type,a={};a.sealData=o.seal,a.certData=o.cert,t.mask_begin(),t.http.parseSealData(o.seal,(function(e,n){if(t.mask_end(),e){var i=JSON.parse(n);a.sealPic=i.sealPic,a.sealPicW=i.sealPicW,a.sealPicH=i.sealPicH,"1"==s?t.ywCall(!0,a):"2"==s||t.dialog.mes("未知的操作类型")}else t.dialog.mes(n)}))}else kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushDel"==r.action)if("0000"==r.content.code){var c=r.content.info;if(t.token==c.token){t.dialog.closeAll();var u={};u.cert=c.cert,u.sign=c.sign,t.type,t.delCall(!0,JSON.stringify(u))}else kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushLogin"==r.action)if("0000"==r.content.code){var l=r.content.info;if(t.token==l.token){t.dialog.closeAll();var f={};f.cert=l.cert,f.sign=l.sign,f.certSn=l.certSn,f.certAuthSn=l.certAuthSn,t.ywCall(!0,JSON.stringify(f))}else kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushEnc"==r.action)if("0000"==r.content.code){var p=r.content.info;t.token==p.token?(t.dialog.closeAll(),t.ywCall(!0,p.data)):kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else if("s.sign.pushDec"==r.action)if("0000"==r.content.code){var d=r.content.info;t.token==d.token?(t.dialog.closeAll(),t.ywCall(!0,d.data)):kinsecLog.log("token不一致跳过")}else t.dialog.mes(r.content.msg);else e(r)}}},{key:"signSeal",value:function(e,t,n,i){var r=this;this.mask_begin();var o={};o.sourceData=t,o.sealData=n.seal,o.certData=n.cert,"1"==e&&(o.x=n.x,o.y=n.y,o.page=n.page),this.http.prepareSignData(e,"3",o,(function(t,o){if(t){var s=JSON.parse(o),a=s.data,c=s.dataSrc,u=++r.mesIndex+"",l=setTimeout((function(){delete r.dataList[u],r.mask_end(),r.dialog.mes("请求签章超时")}),r.timeOut);r._message((function(t){if("c.sign.seal"==t.action){var o=r.dataList[t.remark];if(kinsecLog.log("remark---"+o),kinsecLog.log("index---"+u),!r.pub.isEmpty(o)&&o==u)if(clearTimeout(l),delete r.dataList[u],"0000"==t.content.code){var s=t.content.info,a={};a.certData=n.cert,a.dataSrc=c,a.sign=s.sign[0],a.tsa=s.tsa[0],r.http.createSignStamp(e,a,(function(t,o){t?r.genData(e,n.seal,o,i):(r.mask_end(),r.dialog.mes(o))}))}else r.mask_end(),r.dialog.mes(t.content.msg)}})),r.dataList[u]=u;var f={type:"c",action:"c.sign.seal"},p={},d=[];d.push(a),p.data=d,p.token=r.token,p.fileId="222222",p.signType="2",f.content=p,f.remark=u,r.ws.send(JSON.stringify(f))}else r.mask_end(),r.dialog.mes(o)}))}},{key:"genData",value:function(e,t,n,i){var r=this;if("0"==e){var o={};new Promise((function(e,t){var i={};i.signStamp=n,r.http.getSealInfo(i,(function(n,i){o.certSn=i.certSN,n?e(!0,i):t(n,i)}))})).then((function(e){r.http.parseSealData(t,(function(e,t){if(r.mask_end(),e){var i=JSON.parse(t),s=i.sealPic,a=parseInt(i.sealPicW/25.4*72),c=parseInt(i.sealPicH/25.4*72),u=i.GUID;o.img=s,o.type="3",o.seal=n,o.sealId=u,o.sealPicW=a,o.sealPicH=c,o.vs="3";var l=JSON.stringify(o);r.ywCall(e,l)}else r.dialog.mes(t)}))})).catch((function(e){r.mask_end(),r.ywCall(!1,e)}))}else this.mask_end(),i(!0,n)}},{key:"qrcode",value:function(e,t,n){var i=this;this.val=e,this.ywCall=t,this._open((function(e,t){if(e){var r=++i.mesIndex+"",o=setTimeout((function(){delete i.dataList[r],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+r),!i.pub.isEmpty(t)&&t==r)if(clearTimeout(o),delete i.dataList[r],"0000"==e.content.code){i.token=e.content.info.token;var s=e.content.info.qrcode;n(!0,s)}else n(!1,e.content.msg)}})),i.dataList[r]=r;var s={type:"c",action:"c.sign.token"},a={};a.appId=i.appId,a.fileId="222222",a.type="2",s.content=a,s.remark=r,i.ws.send(JSON.stringify(s))}else n(e,t)}))}},{key:"delQrcode",value:function(e,t,n,i){var r=this;this.delCall=n,this._open((function(n,o){if(n){var s=++r.mesIndex+"",a=setTimeout((function(){delete r.dataList[s],i(!1,"请求超时")}),r.timeOut);r._message((function(e){if("c.sign.token"==e.action){var t=r.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+s),!r.pub.isEmpty(t)&&t==s)if(clearTimeout(a),delete r.dataList[s],"0000"==e.content.code){r.token=e.content.info.token;var n=e.content.info.qrcode;i(!0,n)}else i(!1,e.content.msg)}})),r.dataList[s]=s;var c={type:"c",action:"c.sign.token"},u={};u.appId=r.appId,u.sealIndex=t,u.sealCert=e,u.type="3",c.content=u,c.remark=s,r.ws.send(JSON.stringify(c))}else i(n,o)}))}},{key:"qrSign",value:function(e,t,n){var i=this;this.ywCall=t,this._open((function(t,r){if(t){var o=++i.mesIndex+"",s=setTimeout((function(){delete i.dataList[o],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+o),!i.pub.isEmpty(t)&&t==o)if(clearTimeout(s),delete i.dataList[o],"0000"==e.content.code){i.token=e.content.info.token;var r=e.content.info.qrcode;n(!0,r)}else n(!1,e.content.msg)}})),i.dataList[o]=o;var a={type:"c",action:"c.sign.token"},c={};c.appId=i.appId,c.data=e,c.type="1",a.content=c,a.remark=o,i.ws.send(JSON.stringify(a))}else n(t,r)}))}},{key:"qrEnc",value:function(e,t,n){var i=this;this.ywCall=t,this._open((function(t,r){if(t){var o=++i.mesIndex+"",s=setTimeout((function(){delete i.dataList[o],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+o),!i.pub.isEmpty(t)&&t==o)if(clearTimeout(s),delete i.dataList[o],"0000"==e.content.code){i.token=e.content.info.token;var r=e.content.info.qrcode;n(!0,r)}else n(!1,e.content.msg)}})),i.dataList[o]=o;var a={type:"c",action:"c.sign.token"},c={};c.appId=i.appId,c.data=e,c.type="4",a.content=c,a.remark=o,i.ws.send(JSON.stringify(a))}else n(t,r)}))}},{key:"qrDec",value:function(e,t,n){var i=this;this.ywCall=t,this._open((function(t,r){if(t){var o=++i.mesIndex+"",s=setTimeout((function(){delete i.dataList[o],n(!1,"请求超时")}),i.timeOut);i._message((function(e){if("c.sign.token"==e.action){var t=i.dataList[e.remark];if(kinsecLog.log("remark---"+t),kinsecLog.log("index---"+o),!i.pub.isEmpty(t)&&t==o)if(clearTimeout(s),delete i.dataList[o],"0000"==e.content.code){i.token=e.content.info.token;var r=e.content.info.qrcode;n(!0,r)}else n(!1,e.content.msg)}})),i.dataList[o]=o;var a={type:"c",action:"c.sign.token"},c={};c.appId=i.appId,c.data=e,c.type="5",a.content=c,a.remark=o,i.ws.send(JSON.stringify(a))}else n(t,r)}))}}])&&r(t.prototype,n),e}();t.qrcodeServer=o}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}!function(){"use strict";var e=n(6352),t=n(8543),i=n(13);"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var r=new t.pubClass,o=r.getScriptUrl("kinsec_login.js");if(!r.linkExist("/seal.css")){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",o+"assets/css/seal.css"),document.body.appendChild(s)}window.kinsecLog=new i.log,window.kinsecLogin=new e.sign}()}();